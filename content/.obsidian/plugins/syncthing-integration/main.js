/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
https://github.com/LBF38/obsidian-syncthing-integration

It is MIT-licensed:

	Copyright (c) 2023 LBF38

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.


Other used code in this built file is licensed as follows:

This plugin uses diff2html:
https://github.com/rtfpessoa/diff2html

	Copyright 2014-2016 Rodrigo Fernandes https://rtfpessoa.github.io/

	Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
	documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
	rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit
	persons to whom the Software is furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
	Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
	WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
	COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
	OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


This plugin and diff2html use jsdiff:
https://github.com/kpdecker/jsdiff

	Software License Agreement (BSD License)

	Copyright (c) 2009-2015, Kevin Decker <kpdecker@gmail.com>

	All rights reserved.

	Redistribution and use of this software in source and binary forms, with or without modification,
	are permitted provided that the following conditions are met:

	* Redistributions of source code must retain the above
	  copyright notice, this list of conditions and the
	  following disclaimer.

	* Redistributions in binary form must reproduce the above
	  copyright notice, this list of conditions and the
	  following disclaimer in the documentation and/or other
	  materials provided with the distribution.

	* Neither the name of Kevin Decker nor the names of its
	  contributors may be used to endorse or promote products
	  derived from this software without specific prior
	  written permission.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR
	IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
	FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
	CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
	DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
	DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER
	IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
	OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.


diff2html uses hogan.js:
https://github.com/twitter/hogan.js

                                 Apache License
                           Version 2.0, January 2004
                        http://www.apache.org/licenses/

   TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

   1. Definitions.

      "License" shall mean the terms and conditions for use, reproduction,
      and distribution as defined by Sections 1 through 9 of this document.

      "Licensor" shall mean the copyright owner or entity authorized by
      the copyright owner that is granting the License.

      "Legal Entity" shall mean the union of the acting entity and all
      other entities that control, are controlled by, or are under common
      control with that entity. For the purposes of this definition,
      "control" means (i) the power, direct or indirect, to cause the
      direction or management of such entity, whether by contract or
      otherwise, or (ii) ownership of fifty percent (50%) or more of the
      outstanding shares, or (iii) beneficial ownership of such entity.

      "You" (or "Your") shall mean an individual or Legal Entity
      exercising permissions granted by this License.

      "Source" form shall mean the preferred form for making modifications,
      including but not limited to software source code, documentation
      source, and configuration files.

      "Object" form shall mean any form resulting from mechanical
      transformation or translation of a Source form, including but
      not limited to compiled object code, generated documentation,
      and conversions to other media types.

      "Work" shall mean the work of authorship, whether in Source or
      Object form, made available under the License, as indicated by a
      copyright notice that is included in or attached to the work
      (an example is provided in the Appendix below).

      "Derivative Works" shall mean any work, whether in Source or Object
      form, that is based on (or derived from) the Work and for which the
      editorial revisions, annotations, elaborations, or other modifications
      represent, as a whole, an original work of authorship. For the purposes
      of this License, Derivative Works shall not include works that remain
      separable from, or merely link (or bind by name) to the interfaces of,
      the Work and Derivative Works thereof.

      "Contribution" shall mean any work of authorship, including
      the original version of the Work and any modifications or additions
      to that Work or Derivative Works thereof, that is intentionally
      submitted to Licensor for inclusion in the Work by the copyright owner
      or by an individual or Legal Entity authorized to submit on behalf of
      the copyright owner. For the purposes of this definition, "submitted"
      means any form of electronic, verbal, or written communication sent
      to the Licensor or its representatives, including but not limited to
      communication on electronic mailing lists, source code control systems,
      and issue tracking systems that are managed by, or on behalf of, the
      Licensor for the purpose of discussing and improving the Work, but
      excluding communication that is conspicuously marked or otherwise
      designated in writing by the copyright owner as "Not a Contribution."

      "Contributor" shall mean Licensor and any individual or Legal Entity
      on behalf of whom a Contribution has been received by Licensor and
      subsequently incorporated within the Work.

   2. Grant of Copyright License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      copyright license to reproduce, prepare Derivative Works of,
      publicly display, publicly perform, sublicense, and distribute the
      Work and such Derivative Works in Source or Object form.

   3. Grant of Patent License. Subject to the terms and conditions of
      this License, each Contributor hereby grants to You a perpetual,
      worldwide, non-exclusive, no-charge, royalty-free, irrevocable
      (except as stated in this section) patent license to make, have made,
      use, offer to sell, sell, import, and otherwise transfer the Work,
      where such license applies only to those patent claims licensable
      by such Contributor that are necessarily infringed by their
      Contribution(s) alone or by combination of their Contribution(s)
      with the Work to which such Contribution(s) was submitted. If You
      institute patent litigation against any entity (including a
      cross-claim or counterclaim in a lawsuit) alleging that the Work
      or a Contribution incorporated within the Work constitutes direct
      or contributory patent infringement, then any patent licenses
      granted to You under this License for that Work shall terminate
      as of the date such litigation is filed.

   4. Redistribution. You may reproduce and distribute copies of the
      Work or Derivative Works thereof in any medium, with or without
      modifications, and in Source or Object form, provided that You
      meet the following conditions:

      (a) You must give any other recipients of the Work or
          Derivative Works a copy of this License; and

      (b) You must cause any modified files to carry prominent notices
          stating that You changed the files; and

      (c) You must retain, in the Source form of any Derivative Works
          that You distribute, all copyright, patent, trademark, and
          attribution notices from the Source form of the Work,
          excluding those notices that do not pertain to any part of
          the Derivative Works; and

      (d) If the Work includes a "NOTICE" text file as part of its
          distribution, then any Derivative Works that You distribute must
          include a readable copy of the attribution notices contained
          within such NOTICE file, excluding those notices that do not
          pertain to any part of the Derivative Works, in at least one
          of the following places: within a NOTICE text file distributed
          as part of the Derivative Works; within the Source form or
          documentation, if provided along with the Derivative Works; or,
          within a display generated by the Derivative Works, if and
          wherever such third-party notices normally appear. The contents
          of the NOTICE file are for informational purposes only and
          do not modify the License. You may add Your own attribution
          notices within Derivative Works that You distribute, alongside
          or as an addendum to the NOTICE text from the Work, provided
          that such additional attribution notices cannot be construed
          as modifying the License.

      You may add Your own copyright statement to Your modifications and
      may provide additional or different license terms and conditions
      for use, reproduction, or distribution of Your modifications, or
      for any such Derivative Works as a whole, provided Your use,
      reproduction, and distribution of the Work otherwise complies with
      the conditions stated in this License.

   5. Submission of Contributions. Unless You explicitly state otherwise,
      any Contribution intentionally submitted for inclusion in the Work
      by You to the Licensor shall be under the terms and conditions of
      this License, without any additional terms or conditions.
      Notwithstanding the above, nothing herein shall supersede or modify
      the terms of any separate license agreement you may have executed
      with Licensor regarding such Contributions.

   6. Trademarks. This License does not grant permission to use the trade
      names, trademarks, service marks, or product names of the Licensor,
      except as required for reasonable and customary use in describing the
      origin of the Work and reproducing the content of the NOTICE file.

   7. Disclaimer of Warranty. Unless required by applicable law or
      agreed to in writing, Licensor provides the Work (and each
      Contributor provides its Contributions) on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
      implied, including, without limitation, any warranties or conditions
      of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
      PARTICULAR PURPOSE. You are solely responsible for determining the
      appropriateness of using or redistributing the Work and assume any
      risks associated with Your exercise of permissions under this License.

   8. Limitation of Liability. In no event and under no legal theory,
      whether in tort (including negligence), contract, or otherwise,
      unless required by applicable law (such as deliberate and grossly
      negligent acts) or agreed to in writing, shall any Contributor be
      liable to You for damages, including any direct, indirect, special,
      incidental, or consequential damages of any character arising as a
      result of this License or out of the use or inability to use the
      Work (including but not limited to damages for loss of goodwill,
      work stoppage, computer failure or malfunction, or any and all
      other commercial damages or losses), even if such Contributor
      has been advised of the possibility of such damages.

   9. Accepting Warranty or Additional Liability. While redistributing
      the Work or Derivative Works thereof, You may choose to offer,
      and charge a fee for, acceptance of support, warranty, indemnity,
      or other liability obligations and/or rights consistent with this
      License. However, in accepting such obligations, You may act only
      on Your own behalf and on Your sole responsibility, not on behalf
      of any other Contributor, and only if You agree to indemnify,
      defend, and hold each Contributor harmless for any liability
      incurred by, or claims asserted against, such Contributor by reason
      of your accepting any such warranty or additional liability.

   END OF TERMS AND CONDITIONS

hogan.js uses nopt:
https://github.com/npm/nopt

	The ISC License

	Copyright (c) Isaac Z. Schlueter and Contributors

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted, provided that the above
	copyright notice and this permission notice appear in all copies.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
	WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
	MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
	ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
	WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
	ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR
	IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.

nopt uses abbrev:
https://github.com/npm/abbrev-js

	This software is dual-licensed under the ISC and MIT licenses.
	You may use this software under EITHER of the following licenses.

	----------

	The ISC License

	Copyright (c) Isaac Z. Schlueter and Contributors

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted, provided that the above
	copyright notice and this permission notice appear in all copies.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
	WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
	MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
	ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
	WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
	ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR
	IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.


hogan.js uses mkdirp:
https://github.com/isaacs/node-mkdirp

	Copyright (c) 2011-2022 James Halliday (mail@substack.net) and Isaac Z. Schlueter (i@izs.me)

	This project is free software released under the MIT license:

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
*/

"use strict";var Yl=Object.create;var In=Object.defineProperty;var Jl=Object.getOwnPropertyDescriptor;var Ul=Object.getOwnPropertyNames;var Hl=Object.getPrototypeOf,ql=Object.prototype.hasOwnProperty;var Vl=(i,e,t)=>e in i?In(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var tt=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),Xl=(i,e)=>{for(var t in e)In(i,t,{get:e[t],enumerable:!0})},ws=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Ul(e))!ql.call(i,r)&&r!==t&&In(i,r,{get:()=>e[r],enumerable:!(n=Jl(e,r))||n.enumerable});return i};var Kl=(i,e,t)=>(t=i!=null?Yl(Hl(i)):{},ws(e||!i||!i.__esModule?In(t,"default",{value:i,enumerable:!0}):t,i)),ea=i=>ws(In({},"__esModule",{value:!0}),i);var K=(i,e,t)=>(Vl(i,typeof e!="symbol"?e+"":e,t),t),ta=(i,e,t)=>{if(!e.has(i))throw TypeError("Cannot "+t)};var pr=(i,e,t)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,t)};var ei=(i,e,t)=>(ta(i,e,"access private method"),t);var yr=tt(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.FORMAT_PLAIN=At.FORMAT_HTML=At.FORMATS=void 0;var Cs="html";At.FORMAT_HTML=Cs;var Is="plain";At.FORMAT_PLAIN=Is;var sa=[Cs,Is];At.FORMATS=sa});var As=tt(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.UNIT_WORDS=Ke.UNIT_WORD=Ke.UNIT_SENTENCES=Ke.UNIT_SENTENCE=Ke.UNIT_PARAGRAPHS=Ke.UNIT_PARAGRAPH=Ke.UNITS=void 0;var Ms="words";Ke.UNIT_WORDS=Ms;var Ss="word";Ke.UNIT_WORD=Ss;var $s="sentences";Ke.UNIT_SENTENCES=$s;var Ts="sentence";Ke.UNIT_SENTENCE=Ts;var Ls="paragraphs";Ke.UNIT_PARAGRAPHS=Ls;var Ns="paragraph";Ke.UNIT_PARAGRAPH=Ns;var oa=[Ms,Ss,$s,Ts,Ls,Ns];Ke.UNITS=oa});var _r=tt(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.WORDS=void 0;var la=["ad","adipisicing","aliqua","aliquip","amet","anim","aute","cillum","commodo","consectetur","consequat","culpa","cupidatat","deserunt","do","dolor","dolore","duis","ea","eiusmod","elit","enim","esse","est","et","eu","ex","excepteur","exercitation","fugiat","id","in","incididunt","ipsum","irure","labore","laboris","laborum","Lorem","magna","minim","mollit","nisi","non","nostrud","nulla","occaecat","officia","pariatur","proident","qui","quis","reprehenderit","sint","sit","sunt","tempor","ullamco","ut","velit","veniam","voluptate"];ii.WORDS=la});var Ds=tt(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.LINE_ENDINGS=void 0;var aa={POSIX:`
`,WIN32:`\r
`};ri.LINE_ENDINGS=aa});var js=tt(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.default=void 0;var ca=function(e){var t=e.trim();return t.charAt(0).toUpperCase()+t.slice(1)},ua=ca;si.default=ua});var Es=tt((oi,br)=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.default=void 0;var fa=function(){return typeof br!="undefined"&&!!br.exports},da=fa;oi.default=da});var Fs=tt(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.default=void 0;var pa=function(){var e=!1;try{e=navigator.product==="ReactNative"}catch(t){e=!1}return e},ga=pa;li.default=ga});var zs=tt(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.SUPPORTED_PLATFORMS=void 0;var ma={DARWIN:"darwin",LINUX:"linux",WIN32:"win32"};ai.SUPPORTED_PLATFORMS=ma});var Os=tt(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.default=void 0;var ha=zs(),ya=function(){var e=!1;try{e=process.platform===ha.SUPPORTED_PLATFORMS.WIN32}catch(t){e=!1}return e},_a=ya;ci.default=_a});var vr=tt(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.default=void 0;var ba=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Array.apply(null,Array(e)).map(function(t,n){return n})},va=ba;ui.default=va});var Ps=tt(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.default=void 0;var wa=ka(vr());function ka(i){return i&&i.__esModule?i:{default:i}}var xa=function(e,t){var n=(0,wa.default)(e);return n.map(function(){return t()})},Ca=xa;fi.default=Ca});var wr=tt(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Object.defineProperty(Dt,"capitalize",{enumerable:!0,get:function(){return Ia.default}});Object.defineProperty(Dt,"isNode",{enumerable:!0,get:function(){return Ma.default}});Object.defineProperty(Dt,"isReactNative",{enumerable:!0,get:function(){return Sa.default}});Object.defineProperty(Dt,"isWindows",{enumerable:!0,get:function(){return $a.default}});Object.defineProperty(Dt,"makeArrayOfLength",{enumerable:!0,get:function(){return Ta.default}});Object.defineProperty(Dt,"makeArrayOfStrings",{enumerable:!0,get:function(){return La.default}});var Ia=cn(js()),Ma=cn(Es()),Sa=cn(Fs()),$a=cn(Os()),Ta=cn(vr()),La=cn(Ps());function cn(i){return i&&i.__esModule?i:{default:i}}});var Bs=tt(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.default=void 0;var Na=_r(),kr=wr();function Aa(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Rs(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function Da(i,e,t){return e&&Rs(i.prototype,e),t&&Rs(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function di(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var ja=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.sentencesPerParagraph,n=t===void 0?{max:7,min:3}:t,r=e.wordsPerSentence,s=r===void 0?{max:15,min:5}:r,o=e.random,a=e.seed,l=e.words,f=l===void 0?Na.WORDS:l;if(Aa(this,i),di(this,"sentencesPerParagraph",void 0),di(this,"wordsPerSentence",void 0),di(this,"random",void 0),di(this,"words",void 0),n.min>n.max)throw new Error("Minimum number of sentences per paragraph (".concat(n.min,") cannot exceed maximum (").concat(n.max,")."));if(s.min>s.max)throw new Error("Minimum number of words per sentence (".concat(s.min,") cannot exceed maximum (").concat(s.max,")."));this.sentencesPerParagraph=n,this.words=f,this.wordsPerSentence=s,this.random=o||Math.random}return Da(i,[{key:"generateRandomInteger",value:function(t,n){return Math.floor(this.random()*(n-t+1)+t)}},{key:"generateRandomWords",value:function(t){var n=this,r=this.wordsPerSentence,s=r.min,o=r.max,a=t||this.generateRandomInteger(s,o);return(0,kr.makeArrayOfLength)(a).reduce(function(l,f){return"".concat(n.pluckRandomWord()," ").concat(l)},"").trim()}},{key:"generateRandomSentence",value:function(t){return"".concat((0,kr.capitalize)(this.generateRandomWords(t)),".")}},{key:"generateRandomParagraph",value:function(t){var n=this,r=this.sentencesPerParagraph,s=r.min,o=r.max,a=t||this.generateRandomInteger(s,o);return(0,kr.makeArrayOfLength)(a).reduce(function(l,f){return"".concat(n.generateRandomSentence()," ").concat(l)},"").trim()}},{key:"pluckRandomWord",value:function(){var t=0,n=this.words.length-1,r=this.generateRandomInteger(t,n);return this.words[r]}}]),i}(),Ea=ja;pi.default=Ea});var Ws=tt(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.default=void 0;var gi=yr(),Gs=Ds(),Fa=za(Bs()),mi=wr();function za(i){return i&&i.__esModule?i:{default:i}}function Oa(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Zs(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function Pa(i,e,t){return e&&Zs(i.prototype,e),t&&Zs(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Ra(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var Ba=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gi.FORMAT_PLAIN,n=arguments.length>2?arguments[2]:void 0;if(Oa(this,i),this.format=t,this.suffix=n,Ra(this,"generator",void 0),gi.FORMATS.indexOf(t.toLowerCase())===-1)throw new Error("".concat(t," is an invalid format. Please use ").concat(gi.FORMATS.join(" or "),"."));this.generator=new Fa.default(e)}return Pa(i,[{key:"getLineEnding",value:function(){return this.suffix?this.suffix:!(0,mi.isReactNative)()&&(0,mi.isNode)()&&(0,mi.isWindows)()?Gs.LINE_ENDINGS.WIN32:Gs.LINE_ENDINGS.POSIX}},{key:"formatString",value:function(t){return this.format===gi.FORMAT_HTML?"<p>".concat(t,"</p>"):t}},{key:"formatStrings",value:function(t){var n=this;return t.map(function(r){return n.formatString(r)})}},{key:"generateWords",value:function(t){return this.formatString(this.generator.generateRandomWords(t))}},{key:"generateSentences",value:function(t){return this.formatString(this.generator.generateRandomParagraph(t))}},{key:"generateParagraphs",value:function(t){var n=this.generator.generateRandomParagraph.bind(this.generator);return this.formatStrings((0,mi.makeArrayOfStrings)(t,n)).join(this.getLineEnding())}}]),i}(),Ga=Ba;hi.default=Ga});var Ys=tt($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});Object.defineProperty($n,"LoremIpsum",{enumerable:!0,get:function(){return Qs.default}});$n.loremIpsum=void 0;var Za=yr(),Zt=As(),Wa=_r(),Qs=Qa(Ws());function Qa(i){return i&&i.__esModule?i:{default:i}}var Ya=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.count,n=t===void 0?1:t,r=e.format,s=r===void 0?Za.FORMAT_PLAIN:r,o=e.paragraphLowerBound,a=o===void 0?3:o,l=e.paragraphUpperBound,f=l===void 0?7:l,u=e.random,d=e.sentenceLowerBound,m=d===void 0?5:d,g=e.sentenceUpperBound,y=g===void 0?15:g,k=e.units,x=k===void 0?Zt.UNIT_SENTENCES:k,M=e.words,w=M===void 0?Wa.WORDS:M,I=e.suffix,T=I===void 0?"":I,O={random:u,sentencesPerParagraph:{max:f,min:a},words:w,wordsPerSentence:{max:y,min:m}},P=new Qs.default(O,s,T);switch(x){case Zt.UNIT_PARAGRAPHS:case Zt.UNIT_PARAGRAPH:return P.generateParagraphs(n);case Zt.UNIT_SENTENCES:case Zt.UNIT_SENTENCE:return P.generateSentences(n);case Zt.UNIT_WORDS:case Zt.UNIT_WORD:return P.generateWords(n);default:return""}};$n.loremIpsum=Ya});var ud={};Xl(ud,{default:()=>or});module.exports=ea(ud);var zt=require("obsidian");var Sn=require("obsidian");var pe=class{constructor(e){this.message=e}},Bt=class extends pe{constructor(e){super(e||"Failed to get configuration from REST API")}},bt=class extends pe{constructor(e){super(e||"Failed to get configuration from CLI")}};var gr=require("obsidian");function mr(i,e,t){switch(e){case"recent":return new Map([...i.entries()].sort((n,r)=>Gt(n[1],r[1])));case"old":return new Map([...i.entries()].sort((n,r)=>Gt(n[1],r[1])).reverse());case"a-to-z":return new Map([...i.entries()].sort());case"z-to-a":return new Map([...i.entries()].sort().reverse())}}function Gt(i,e){if(i instanceof gr.TFile&&e instanceof gr.TFile){let r=Xe(i.basename),s=Xe(e.basename),o=r instanceof pe?new Date:r.dateTime;return(s instanceof pe?new Date:s.dateTime).getTime()-o.getTime()}let t=i.sort((r,s)=>Gt(r,s))[0],n=e.sort((r,s)=>Gt(r,s))[0];return Gt(t,n)}var ks=/(.*).sync-conflict-(\d{8})-(\d{6})-(\w+).(\w+)/;function Xe(i){let t=new RegExp(ks).exec(i);return t?{filename:t[1],date:t[2],time:t[3],dateTime:new Date(`${t[2].slice(0,4)}-${t[2].slice(4,6)}-${t[2].slice(6,8)}T${t[3].slice(0,2)}:${t[3].slice(2,4)}:${t[3].slice(4,6)}`),modifiedBy:t[4],extension:t[5]}:new pe(`Error parsing conflict filename : ${i}`)}function Mn(i){return!!new RegExp(ks).exec(i)}function an(i,e=2){if(i===0)return"0 Bytes";let t=1024,n=e<0?0:e,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(i)/Math.log(t));return parseFloat((i/Math.pow(t,s)).toFixed(n))+" "+r[s]}function na(i,e){if(!Array.isArray(i))return!1;for(let t of i)if(!e(t))return!1;return!0}function xs(i){return na(i,e=>typeof e=="string")}function ia(i,e,t){return typeof i=="object"&&i!==null&&e in i&&typeof i[e]===t}function rt(i,e,t){ia(i,e,t)||console.error(`Error validating JSON: ${e} is not present or is not of type ${typeof t}. Got ${JSON.stringify(i)}.`)}var ti=class{constructor(e,t,n,r){this.syncthingFromCLI=e;this.syncthingFromREST=t;this.syncthingFromAndroid=n;this.plugin=r}async isRunning(){return console.log("isRunning"),this.syncthingFromREST.ping().then(e=>(console.log(e),!0)).catch(e=>(console.log(e),!1))}getCLIStatus(){return this.syncthingFromCLI.getVersion()}async getAPIStatus(){return this.plugin.settings.api_key?this.syncthingFromREST.ping():"API key is not set."}async hasSyncthing(){return Sn.Platform.isAndroidApp?await this.syncthingFromAndroid.hasSyncthing():Sn.Platform.isIosApp?!1:await this.syncthingFromCLI.getVersion().then(e=>!0).catch(async e=>await this.syncthingFromREST.ping().then(t=>!0).catch(t=>!1))}async getConflictsWithOriginal(e){let t=this.plugin.app.vault.getFiles();if(Mn(e.basename)){let r=Xe(e.basename);if(r instanceof pe)throw console.error(r.message),new Error("Error parsing conflict filename.");let s=t.filter(a=>a.name.contains(".sync-conflict")&&a.name.contains(r.filename)||a.basename===r.filename),o=t.find(a=>a.basename===r.filename);return o&&s.remove(o),{originalFile:o,conflicts:s}}return{conflicts:t.filter(r=>r.name.contains(".sync-conflict")&&r.name.contains(e.basename))}}async getConflicts(){let t=this.plugin.app.vault.getFiles().filter(r=>r.name.contains(".sync-conflict"));if(t.length===0)return new pe("No conflicts found.");let n=new Map;for(let r of t){let s=Xe(r.name);if(s instanceof pe)return s;let o=s.filename;if(n.has(o)){n.get(o).push(r),n.set(o,n.get(o).sort((a,l)=>Gt(a,l)));continue}n.set(o,[r])}return n}async getDiffFiles(e){let t=Xe(e.name);if(t instanceof pe)return{originalFile:e,conflictingFiles:t,conflictingFilesProperties:new Map().set(e,t)};let r=this.plugin.app.vault.getFiles().filter(l=>l.name.contains(".sync-conflict")&&l.name.contains(t.filename)||l.basename===t.filename),s=r.find(l=>l.basename===t.filename);s&&r.remove(s);let o=r.length>0?r:new pe("No conflicts found.");if(o instanceof pe)return{originalFile:s||e,conflictingFiles:o,conflictingFilesProperties:new Map().set(e,o)};let a=new Map;for(let l of r){let f=Xe(l.name);a.set(l,f)}return{originalFile:s||e,conflictingFiles:r,conflictingFilesProperties:a}}async getAPIKey(){if(Sn.Platform.isMobileApp)return new pe("Cannot get API key on mobile. Please enter it manually.");if(!this.plugin.settings.api_key)try{let e=await this.syncthingFromCLI.getAPIkey();if(e)return this.plugin.settings.api_key=e,await this.plugin.saveSettings(),e}catch(e){return new bt("Error getting API key.")}return this.plugin.settings.api_key}async getConfiguration(){if(!await this.isRunning())return new pe("Syncthing is not running.");try{return await this.syncthingFromREST.getConfiguration()}catch(e){return Sn.Platform.isMobileApp?(console.error(e),new Bt):await this.syncthingFromCLI.getConfiguration()}}async getDevices(){return await this.syncthingFromREST.getDevices()}async getFolders(){return await this.syncthingFromREST.getAllFolders()}async startSyncthing(){return this.syncthingFromCLI.startSyncthing()}async stopSyncthing(){return this.syncthingFromCLI.stopSyncthing()}};function ni(i,e){return i=isNaN(Number(i))?0:Number(i),e=isNaN(Number(e))?100:Number(e),Math.floor(Math.random()*(e-i)+i)}var ra={from:new Date(0),to:new Date((2<<29)*ni(1,8046627))};function hr(i){return i=typeof i=="object"?i:ra,new Date(ni(+i.from,+i.to))}var un=Kl(Ys()),nt=require("obsidian"),fn=class{constructor(e){this.plugin=e}async generateSyncthingConflicts(e=2,t=3){new nt.Notice("Creating main files..."),new nt.Notice(`Parameters: ${e} distinct files, ${t} conflicts per file.`);let n=new nt.Notice(""),r=new nt.Notice("");for(let s=0;s<e;s++){n.setMessage(`Progress (main files): ${s}/${e}`);let o=await this.plugin.app.vault.create(`${(0,un.loremIpsum)({count:1,units:"words"})}.md`,`# ${(0,un.loremIpsum)({count:1,units:"words"})}

${(0,un.loremIpsum)({count:1,units:"paragraphs"})}`);console.log("In the generateSyncthingConflicts function."),new nt.Notice("Creating conflict files...");for(let a=0;a<t;a++){r.setMessage(`Progress (conflicts): ${a}/${t}`);let f=hr({from:new Date(2020,0,1),to:new Date}).toISOString().replace(/-/gm,"").replace("T","-").replace(/:|\.\d{3}Z/gm,""),u=Math.random().toString(36).substring(2,9).toUpperCase();console.log(f),await this.plugin.app.vault.create(`${o.basename}.sync-conflict-${f}-${u}.md`,`# ${(0,un.loremIpsum)({count:1,units:"words"})}

${(0,un.loremIpsum)({count:2,units:"paragraphs"})}`)}}}async purgeVault(){this.plugin.app.vault.getAllLoadedFiles().forEach(async e=>{await this.plugin.app.vault.delete(e)})}},Tn=class extends nt.Modal{constructor(t,n){super(t);this.pluginDevModeController=n;this.distinctFiles=2,this.conflictsPerFile=3}onOpen(){let{contentEl:t}=this;t.createEl("h2",{text:"Plugin development mode"}),t.createEl("p",{text:`Here, you can create sample files to test the Obsidian Syncthing integration plugin.
The generated files are formated as in Syncthing documentation about conflicting files.`}),t.createEl("p",{text:"File format : <filename>.sync-conflict-<date>-<deviceID>.<extension>"}),new nt.Setting(t).setName("Number of distinct files").setDesc("Number of files that will be created.").addSlider(n=>{n.setValue(this.distinctFiles).setDynamicTooltip().setLimits(1,50,1).onChange(r=>{this.distinctFiles=r})}),new nt.Setting(t).setName("Number of conflicts per file").setDesc("Number of conflicts that will be created for each file.").addSlider(n=>{n.setValue(this.conflictsPerFile).setDynamicTooltip().setLimits(1,25,1).onChange(r=>{this.conflictsPerFile=r})}),new nt.Setting(t).setName("Generate Syncthing conflicts").addButton(n=>{n.setCta().setButtonText("Generate").onClick(async()=>{await this.pluginDevModeController.generateSyncthingConflicts(this.distinctFiles,this.conflictsPerFile),this.close()})}),new nt.Setting(t).setName("Purge Vault").setDesc("Delete all files in the vault.").addButton(n=>{n.setWarning().setButtonText("Purge").onClick(async()=>{let r=new nt.Modal(this.app);r.contentEl.createEl("h1",{text:"Purge Vault"}),r.contentEl.createEl("p",{text:"This will delete all files in the vault. Please don't use it on a vault that contains important files."}),new nt.Setting(r.contentEl).setName("Are you sure?").setHeading().addButton(s=>{s.setWarning().setButtonText("Yes").onClick(async()=>{await this.pluginDevModeController.purgeVault(),r.close(),this.close()})}).addButton(s=>{s.setButtonText("No").onClick(()=>{r.close()})}),r.open()})})}onClose(){let{contentEl:t}=this;t.empty()}};var Ln=require("obsidian");var yi=class{constructor(e,t){this.status_bar=e;this.plugin=t;this.app=t.app,this.currentFile=this.app.workspace.getActiveFile()}onload(){this.createStatusBar(),this.plugin.registerEvent(this.plugin.app.workspace.on("file-open",e=>{this.currentFile=e,this.createStatusBar()})),this.status_bar.onClickEvent(e=>{var n,r;let t=new Ln.Menu;if(t.addItem(s=>{s.setTitle("Open all conflicts as splits").onClick(()=>{var o;(o=this.activeConflicts)==null||o.forEach(async a=>{await this.app.workspace.createLeafBySplit(this.app.workspace.getLeaf()).openFile(a)})}),s.setIcon("arrow-up-right")}),this.currentFile&&Mn(this.currentFile.name)&&this.originalFile===void 0){let s=this.currentFile;t.addItem(o=>{o.setTitle("Rename to original").onClick(async()=>{let a=Xe(s.name);if(a instanceof pe){new Ln.Notice("Failed to parse conflict filename"),console.error(a.message);return}new Ln.Notice("Not implemented yet")}),o.setIcon("pencil")})}this.originalFile!==void 0&&t.addItem(s=>{s.setTitle("Open original file").onClick(async()=>await this.app.workspace.createLeafBySplit(this.app.workspace.getLeaf()).openFile(this.originalFile)),s.setIcon("arrow-up-right")}),t.addSeparator(),(n=this.activeConflicts)==null||n.sort((s,o)=>{let a=Xe(s.basename),l=Xe(o.basename);return a instanceof pe||l instanceof pe?0:a.dateTime>l.dateTime?-1:a.dateTime<l.dateTime?1:0}),(r=this.activeConflicts)==null||r.forEach(s=>{t.addItem(o=>{if(Mn(s.basename)){let a=Xe(s.basename);if(a instanceof pe)return;o.setTitle(`${a.filename} (caused by ${a.modifiedBy} on ${a.dateTime.toISOString().replace("T"," ").replace("Z","")})`)}o.setIcon("file"),o.onClick(async()=>{await this.app.workspace.createLeafBySplit(this.app.workspace.getLeaf()).openFile(s)})})}),t.showAtPosition({x:window.innerWidth-15,y:window.innerHeight-37})}),this.status_bar.addClass("mod-clickable"),this.status_bar.style.color="var(--text-warning)"}createStatusBar(){let e=this.app.workspace.getActiveFile();if(!e){this.status_bar.empty();return}this.plugin.syncthingController.getConflictsWithOriginal(e).then(t=>{if(this.activeConflicts=t.conflicts,this.activeConflicts.remove(e),this.originalFile=t.originalFile,!this.activeConflicts||this.activeConflicts.length===0){this.status_bar.empty();return}this.status_bar.setText(`${this.activeConflicts.length} conflicts`)})}onunload(){this.status_bar.empty()}};var Js=require("obsidian"),_i=class{async hasSyncthing(){return console.log("Platform: ",Js.Platform),console.log("Obsidian App: ",app),!0}async openSyncthing(){let t="syncthing://com.nutomic.syncthingandroid",n="https://play.google.com/store/apps/details?id=com.nutomic.syncthingandroid",r=()=>{window.location.href=t},o=setTimeout(()=>{window.location.href=n},2e3);return r(),document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&(console.log("Syncthing is installed"),clearTimeout(o))}),!0}};var bi=class{constructor(e,t,n,r){this.version=e;this.folders=t;this.devices=n;this.url=r}},vi=class{constructor(e,t,n,r,s,o,a){this.id=e;this.label=t;this.path=n;this.filesystemType=r;this.type=s;this.devices=o;this.maxConflicts=a}},wi=class{constructor(e,t,n,r,s,o){this.deviceID=e;this.introducedBy=t;this.address=n;this.paused=r;this.ignoredFolders=s;this.name=o}},ki=class{constructor(e,t,n){this.deviceID=e;this.introducedBy=t;this.encryptionPassword=n}};var dn=class i extends bi{constructor(e,t,n,r={protocol:"http",ip_address:"localhost",port:8384}){super(e,t,n,r)}static fromJSON(e){let t=JSON.parse(e),n=[];if(!(typeof t=="object"&&t!==null))throw new Error("JSON is not an object or is null");if(rt(t,"version","string"),!("folders"in t&&Array.isArray(t.folders))||!("devices"in t&&Array.isArray(t.devices)))throw new Error("Error parsing JSON: missing fields or wrong type");for(let s of t.folders)console.log(s),n.push(Nn.fromJSON(JSON.stringify(s)));let r=[];for(let s of t.devices)r.push(An.fromJSON(JSON.stringify(s)));return new i(t.version,n,r)}toJSON(){return JSON.stringify(this)}},Nn=class i extends vi{static fromJSON(e){let t=JSON.parse(e),n=[];if(!(typeof t=="object"&&t!==null))throw new Error("JSON is not an object or is null");if(rt(t,"id","string"),rt(t,"label","string"),rt(t,"path","string"),rt(t,"filesystemType","string"),rt(t,"type","string"),rt(t,"maxConflicts",0),!("devices"in t&&Array.isArray(t.devices)))throw new Error("Error validating JSON: devices is not present or is not an array");for(let r of t.devices)n.push(xr.fromJSON(JSON.stringify(r)));return new i(t.id,t.label,t.path,t.filesystemType,t.type,n,t.maxConflicts)}toJSON(){return JSON.stringify(this)}},An=class i extends wi{static fromJSON(e){var n;let t=JSON.parse(e);if(!(typeof t=="object"&&t!==null))throw new Error("JSON is not an object or is null");if(rt(t,"deviceID","string"),rt(t,"introducedBy","string"),rt(t,"paused",!0),!("addresses"in t&&xs(t.addresses))||!("ignoredFolders"in t)||!("name"in t&&(typeof t.name=="string"||typeof t.name=="undefined")))throw new Error("Error validating JSON");return new i(t.deviceID,t.introducedBy,t.addresses,t.paused,t.ignoredFolders,(n=t.name)!=null?n:"")}toJSON(){return JSON.stringify(this)}},xr=class i extends ki{static fromJSON(e){let t=JSON.parse(e);if(!(typeof t=="object"&&t!==null))throw new Error("Error parsing JSON");return rt(t,"deviceID","string"),rt(t,"introducedBy","string"),rt(t,"encryptionPassword","string"),new i(t.deviceID,t.introducedBy,t.encryptionPassword)}toJSON(){throw new Error("Method not implemented.")}};var Cr=require("obsidian"),xi=class{async stopSyncthing(){let t=this.runSyncthingCommand("syncthing cli operations shutdown");if(t instanceof Error)throw new bt(t.message);return!0}async startSyncthing(){let t=await this.runSyncthingCommand("syncthing");if(t instanceof Error)throw new bt(t.message);return!0}async getVersion(){let t=await this.runSyncthingCommand("syncthing --version");if(t instanceof Error)throw new bt(t.message);return t}async getConfiguration(){let t=await this.runSyncthingCommand("syncthing cli config dump-json");if(t instanceof Error)throw new bt(t.message);return dn.fromJSON(t)}async getAPIkey(){let e=await this.runSyncthingCommand("syncthing cli config gui apikey get");if(e instanceof Error)throw new bt("No API key found.");return e.trim()}async runSyncthingCommand(e){if(Cr.Platform.isMobileApp)return Error("CLI not supported on mobile.");let{promisify:t}=require("util");if(Cr.Platform.isMacOS&&e.startsWith("syncthing")){let o="/Applications/Syncthing.app/Contents/Resources/syncthing/",{stat:a}=require("fs");(await t(a)(o)).isDirectory()&&(e=o+e)}let{exec:n}=require("child_process"),s=await t(n)(e);return s.stderr?Error(s.stderr):s.stdout}};var Ii=require("obsidian");var Ci=class{constructor(e){this.plugin=e}async ping(){let e=await this.requestEndpoint("/rest/system/ping");return console.log("REST - ping: ",e),e.json.ping}async getAllFolders(){let e=await this.requestEndpoint("/rest/config/folders"),t=[];console.log("REST: ",e.json);for(let n of e.json)console.log("REST: ",n),t.push(Nn.fromJSON(JSON.stringify(n)));return t}async getFoldersForDevice(e){return(await this.getAllFolders()).filter(n=>n.devices.some(r=>r.deviceID===e.deviceID))}async getDevices(){let e=await this.requestEndpoint("/rest/config/devices"),t=[];console.log("REST: ",e.json);for(let n of e.json)t.push(An.fromJSON(JSON.stringify(n)));return t}async getConfiguration(){let e=await this.requestEndpoint("/rest/config");return dn.fromJSON(e.json)}async requestEndpoint(e){var s,o,a;console.log("requestEndpoint: Endpoint",e);let t=(s=this.plugin.settings.configuration.url)==null?void 0:s.ip_address;t==="localhost"&&Ii.Platform.isMobileApp&&(t="127.0.0.1");let n=`${(o=this.plugin.settings.configuration.url)==null?void 0:o.protocol}://${t}:${(a=this.plugin.settings.configuration.url)==null?void 0:a.port}${e}`,r=(0,Ii.requestUrl)({url:n,method:"GET",headers:{"X-API-Key":this.plugin.settings.api_key,Accept:"*/*","Content-Type":"application/json","Access-Control-Allow-Origin":"*",redirect:"follow"}});return console.log("requestEndpoint: API Key set ?",this.plugin.settings.api_key!==""),console.log("requestEndpoint: url requested ",n),r.then(l=>{if(console.log("requestEndpoint: response ",l),l.status>=400)throw new Bt(l.text);return l}).catch(l=>{throw console.error("requestEndpoint: error: ",l),new Bt(l)})}};var wl=require("obsidian");function Z(){}function kt(i,e){for(let t in e)i[t]=e[t];return i}function Us(i){return!!i&&(typeof i=="object"||typeof i=="function")&&typeof i.then=="function"}function Ir(i){return i()}function Mi(){return Object.create(null)}function xe(i){i.forEach(Ir)}function Si(i){return typeof i=="function"}function ye(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function Hs(i){return Object.keys(i).length===0}function Wt(i,e,t,n){if(i){let r=qs(i,e,t,n);return i[0](r)}}function qs(i,e,t,n){return i[1]&&n?kt(t.ctx.slice(),i[1](n(e))):t.ctx}function Qt(i,e,t,n){if(i[2]&&n){let r=i[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){let s=[],o=Math.max(e.dirty.length,r.length);for(let a=0;a<o;a+=1)s[a]=e.dirty[a]|r[a];return s}return e.dirty|r}return e.dirty}function Yt(i,e,t,n,r,s){if(r){let o=qs(e,t,n,s);i.p(o,r)}}function Jt(i){if(i.ctx.length>32){let e=[],t=i.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function $i(i){let e={};for(let t in i)t[0]!=="$"&&(e[t]=i[t]);return e}function pn(i,e){let t={};e=new Set(e);for(let n in i)!e.has(n)&&n[0]!=="$"&&(t[n]=i[n]);return t}var Mr=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var Ti=class i{constructor(e){K(this,"_listeners","WeakMap"in Mr?new WeakMap:void 0);K(this,"_observer");K(this,"options");this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(t=>{var n;for(let r of t)i.entries.set(r.target,r),(n=this._listeners.get(r.target))==null||n(r)})}};Ti.entries="WeakMap"in Mr?new WeakMap:void 0;var Vs=!1;function Xs(){Vs=!0}function Ks(){Vs=!1}function c(i,e){i.appendChild(e)}function Me(i,e,t){let n=eo(i);if(!n.getElementById(e)){let r=p("style");r.id=e,r.textContent=t,Ha(n,r)}}function eo(i){if(!i)return document;let e=i.getRootNode?i.getRootNode():i.ownerDocument;return e&&e.host?e:i.ownerDocument}function Ha(i,e){return c(i.head||i,e),e.sheet}function v(i,e,t){i.insertBefore(e,t||null)}function b(i){i.parentNode&&i.parentNode.removeChild(i)}function xt(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function p(i){return document.createElement(i)}function qa(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function z(i){return document.createTextNode(i)}function _(){return z(" ")}function pt(){return z("")}function U(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function h(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}var Va=["width","height"];function gn(i,e){let t=Object.getOwnPropertyDescriptors(i.__proto__);for(let n in e)e[n]==null?i.removeAttribute(n):n==="style"?i.style.cssText=e[n]:n==="__value"?i.value=i[n]=e[n]:t[n]&&t[n].set&&Va.indexOf(n)===-1?i[n]=e[n]:h(i,n,e[n])}function to(i){return Array.from(i.childNodes)}function re(i,e){e=""+e,i.data!==e&&(i.data=e)}function jn(i,e){i.value=e==null?"":e}function Ee(i,e,t,n){t==null?i.style.removeProperty(e):i.style.setProperty(e,t,n?"important":"")}function Sr(i,e,t){for(let n=0;n<i.options.length;n+=1){let r=i.options[n];if(r.__value===e){r.selected=!0;return}}(!t||e!==void 0)&&(i.selectedIndex=-1)}function gt(i,e,t){i.classList.toggle(e,!!t)}function Li(i,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:n})}var Dn=class{constructor(e=!1){K(this,"is_svg",!1);K(this,"e");K(this,"n");K(this,"t");K(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=qa(t.nodeName):this.e=p(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)v(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(b)}};function no(i){let e={};return i.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}var jt;function at(i){jt=i}function Ni(){if(!jt)throw new Error("Function called outside component initialization");return jt}function it(i){Ni().$$.on_mount.push(i)}function $r(){let i=Ni();return(e,t,{cancelable:n=!1}={})=>{let r=i.$$.callbacks[e];if(r){let s=Li(e,t,{cancelable:n});return r.slice().forEach(o=>{o.call(i,s)}),!s.defaultPrevented}return!0}}var Ut=[];var ct=[],hn=[],io=[],ic=Promise.resolve(),Lr=!1;function ro(){Lr||(Lr=!0,ic.then(Fn))}function En(i){hn.push(i)}var Tr=new Set,mn=0;function Fn(){if(mn!==0)return;let i=jt;do{try{for(;mn<Ut.length;){let e=Ut[mn];mn++,at(e),rc(e.$$)}}catch(e){throw Ut.length=0,mn=0,e}for(at(null),Ut.length=0,mn=0;ct.length;)ct.pop()();for(let e=0;e<hn.length;e+=1){let t=hn[e];Tr.has(t)||(Tr.add(t),t())}hn.length=0}while(Ut.length);for(;io.length;)io.pop()();Lr=!1,Tr.clear(),at(i)}function rc(i){if(i.fragment!==null){i.update(),xe(i.before_update);let e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(En)}}function so(i){let e=[],t=[];hn.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),hn=e}var Ai=new Set,Ht;function Be(){Ht={r:0,c:[],p:Ht}}function Ge(){Ht.r||xe(Ht.c),Ht=Ht.p}function C(i,e){i&&i.i&&(Ai.delete(i),i.i(e))}function S(i,e,t,n){if(i&&i.o){if(Ai.has(i))return;Ai.add(i),Ht.c.push(()=>{Ai.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function zn(i,e){let t=e.token={};function n(r,s,o,a){if(e.token!==t)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);let f=r&&(e.current=r)(l),u=!1;e.block&&(e.blocks?e.blocks.forEach((d,m)=>{m!==s&&d&&(Be(),S(d,1,1,()=>{e.blocks[m]===d&&(e.blocks[m]=null)}),Ge())}):e.block.d(1),f.c(),C(f,1),f.m(e.mount(),e.anchor),u=!0),e.block=f,e.blocks&&(e.blocks[s]=f),u&&Fn()}if(Us(i)){let r=Ni();if(i.then(s=>{at(r),n(e.then,1,e.value,s),at(null)},s=>{if(at(r),n(e.catch,2,e.error,s),at(null),!e.hasCatch)throw s}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,i),!0;e.resolved=i}}function Nr(i,e,t){let n=e.slice(),{resolved:r}=i;i.current===i.then&&(n[i.value]=r),i.current===i.catch&&(n[i.error]=r),i.block.p(n,t)}function et(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Di(i,e){let t={},n={},r={$$scope:1},s=i.length;for(;s--;){let o=i[s],a=e[s];if(a){for(let l in o)l in a||(n[l]=1);for(let l in a)r[l]||(t[l]=a[l],r[l]=1);i[s]=a}else for(let l in o)r[l]=1}for(let o in n)o in t||(t[o]=void 0);return t}var sc=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],oc=new Set([...sc]);function D(i){i&&i.c()}function N(i,e,t){let{fragment:n,after_update:r}=i.$$;n&&n.m(e,t),En(()=>{let s=i.$$.on_mount.map(Ir).filter(Si);i.$$.on_destroy?i.$$.on_destroy.push(...s):xe(s),i.$$.on_mount=[]}),r.forEach(En)}function A(i,e){let t=i.$$;t.fragment!==null&&(so(t.after_update),xe(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function ac(i,e){i.$$.dirty[0]===-1&&(Ut.push(i),ro(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function be(i,e,t,n,r,s,o,a=[-1]){let l=jt;at(i);let f=i.$$={fragment:null,ctx:[],props:s,update:Z,not_equal:r,bound:Mi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Mi(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(f.root);let u=!1;if(f.ctx=t?t(i,e.props||{},(d,m,...g)=>{let y=g.length?g[0]:m;return f.ctx&&r(f.ctx[d],f.ctx[d]=y)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](y),u&&ac(i,d)),m}):[],f.update(),u=!0,xe(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){Xs();let d=to(e.target);f.fragment&&f.fragment.l(d),d.forEach(b)}else f.fragment&&f.fragment.c();e.intro&&C(i.$$.fragment),N(i,e.target,e.anchor),Ks(),Fn()}at(l)}var cc;typeof HTMLElement=="function"&&(cc=class extends HTMLElement{constructor(e,t,n){super();K(this,"$$ctor");K(this,"$$s");K(this,"$$c");K(this,"$$cn",!1);K(this,"$$d",{});K(this,"$$r",!1);K(this,"$$p_d",{});K(this,"$$l",{});K(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){let r=this.$$c.$on(e,t);this.$$l_u.set(t,r)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){let r=this.$$l_u.get(t);r&&(r(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(s){return()=>{let o;return{c:function(){o=p("slot"),s!=="default"&&h(o,"name",s)},m:function(f,u){v(f,o,u)},d:function(f){f&&b(o)}}}};if(await Promise.resolve(),!this.$$cn)return;let t={},n=no(this);for(let s of this.$$s)s in n&&(t[s]=[e(s)]);for(let s of this.attributes){let o=this.$$g_p(s.name);o in this.$$d||(this.$$d[o]=Ar(o,s.value,this.$$p_d,"toProp"))}this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});let r=()=>{this.$$r=!0;for(let s in this.$$p_d)if(this.$$d[s]=this.$$c.$$.ctx[this.$$c.$$.props[s]],this.$$p_d[s].reflect){let o=Ar(s,this.$$d[s],this.$$p_d,"toAttribute");o==null?this.removeAttribute(s):this.setAttribute(this.$$p_d[s].attribute||s,o)}this.$$r=!1};this.$$c.$$.after_update.push(r),r();for(let s in this.$$l)for(let o of this.$$l[s]){let a=this.$$c.$on(s,o);this.$$l_u.set(o,a)}this.$$l={}}}attributeChangedCallback(e,t,n){var r;this.$$r||(e=this.$$g_p(e),this.$$d[e]=Ar(e,n,this.$$p_d,"toProp"),(r=this.$$c)==null||r.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function Ar(i,e,t,n){var s;let r=(s=t[i])==null?void 0:s.type;if(e=r==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!t[i])return e;if(n==="toAttribute")switch(r){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(r){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var ge=class{constructor(){K(this,"$$");K(this,"$$set")}$destroy(){A(this,1),this.$destroy=Z}$on(e,t){if(!Si(t))return Z;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!Hs(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var oo="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(oo);var bl=require("obsidian");var nr=require("obsidian");function ut(i,e,t,n){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{f(n.next(u))}catch(d){o(d)}}function l(u){try{f(n.throw(u))}catch(d){o(d)}}function f(u){u.done?s(u.value):r(u.value).then(a,l)}f((n=n.apply(i,e||[])).next())})}var ue=require("@codemirror/view"),ie=require("@codemirror/state");var Dr="\u037C",lo=typeof Symbol=="undefined"?"__"+Dr:Symbol.for(Dr),jr=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),ao=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{},ji=class{constructor(e,t){this.rules=[];let{finish:n}=t||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,f){let u=[],d=/^@(\w+)\b/.exec(o[0]),m=d&&d[1]=="keyframes";if(d&&a==null)return l.push(o[0]+";");for(let g in a){let y=a[g];if(/&/.test(g))s(g.split(/,\s*/).map(k=>o.map(x=>k.replace(/&/,x))).reduce((k,x)=>k.concat(x)),y,l);else if(y&&typeof y=="object"){if(!d)throw new RangeError("The value of a property ("+g+") should be a primitive value.");s(r(g),y,u,m)}else y!=null&&u.push(g.replace(/_.*/,"").replace(/[A-Z]/g,k=>"-"+k.toLowerCase())+": "+y+";")}(u.length||m)&&l.push((n&&!d&&!f?o.map(n):o).join(", ")+" {"+u.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=ao[lo]||1;return ao[lo]=e+1,Dr+e.toString(36)}static mount(e,t,n){let r=e[jr],s=n&&n.nonce;r?s&&r.setNonce(s):r=new Er(e,s),r.mount(Array.isArray(t)?t:[t])}},co=new Map,Er=class{constructor(e,t){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let s=co.get(n);if(s)return e.adoptedStyleSheets=[s.sheet,...e.adoptedStyleSheets],e[jr]=s;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],co.set(n,this)}else{this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);let s=e.head||e;s.insertBefore(this.styleTag,s.firstChild)}this.modules=[],e[jr]=this}mount(e){let t=this.sheet,n=0,r=0;for(let s=0;s<e.length;s++){let o=e[s],a=this.modules.indexOf(o);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),a==-1){if(this.modules.splice(r++,0,o),t)for(let l=0;l<o.rules.length;l++)t.insertRule(o.rules[l],n++)}else{for(;r<a;)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(!t){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}};var Wi=require("@codemirror/language"),So=require("@lezer/highlight"),Ze=class i{constructor(e,t,n,r){this.fromA=e,this.toA=t,this.fromB=n,this.toB=r}offset(e,t){return new i(this.fromA+e,this.toA+e,this.fromB+t,this.toB+t)}};function Vt(i,e,t,n,r,s){if(i==n)return[];let o=Gr(i,e,t,n,r,s),a=Zr(i,e+o,t,n,r+o,s);e+=o,t-=a,r+=o,s-=a;let l=t-e,f=s-r;if(!l||!f)return[new Ze(e,t,r,s)];if(l>f){let d=i.slice(e,t).indexOf(n.slice(r,s));if(d>-1)return[new Ze(e,e+d,r,r),new Ze(e+d+f,t,s,s)]}else if(f>l){let d=n.slice(r,s).indexOf(i.slice(e,t));if(d>-1)return[new Ze(e,e,r,r+d),new Ze(t,t,r+d+l,s)]}if(l==1||f==1)return[new Ze(e,t,r,s)];let u=To(i,e,t,n,r,s);if(u){let[d,m,g]=u;return Vt(i,e,d,n,r,m).concat(Vt(i,d+g,t,n,m+g,s))}return uc(i,e,t,n,r,s)}var Or=1e9;function uc(i,e,t,n,r,s){let o=t-e,a=s-r;if(Math.min(o,a)>Or*16)return uo(i,e,t,n,r,s);let l=Math.ceil((o+a)/2);Fr.reset(l),zr.reset(l);let f=(g,y)=>i.charCodeAt(e+g)==n.charCodeAt(r+y),u=(g,y)=>i.charCodeAt(t-g-1)==n.charCodeAt(s-y-1),d=(o-a)%2!=0?zr:null,m=d?null:Fr;for(let g=0;g<l;g++){if(g>Or)return uo(i,e,t,n,r,s);let y=Fr.advance(g,o,a,l,d,!1,f)||zr.advance(g,o,a,l,m,!0,u);if(y)return fc(i,e,t,e+y[0],n,r,s,r+y[1])}return[new Ze(e,t,r,s)]}var Pi=class{constructor(){this.vec=[]}reset(e){this.len=e<<1;for(let t=0;t<this.len;t++)this.vec[t]=-1;this.vec[e+1]=0,this.start=this.end=0}advance(e,t,n,r,s,o,a){for(let l=-e+this.start;l<=e-this.end;l+=2){let f=r+l,u=l==-e||l!=e&&this.vec[f-1]<this.vec[f+1]?this.vec[f+1]:this.vec[f-1]+1,d=u-l;for(;u<t&&d<n&&a(u,d);)u++,d++;if(this.vec[f]=u,u>t)this.end+=2;else if(d>n)this.start+=2;else if(s){let m=r+(t-n)-l;if(m>=0&&m<this.len&&s.vec[m]!=-1)if(o){let g=s.vec[m];if(g>=t-u)return[g,r+g-m]}else{let g=t-s.vec[m];if(u>=g)return[u,d]}}}return null}},Fr=new Pi,zr=new Pi;function fc(i,e,t,n,r,s,o,a){let l=!1;return!_n(i,n)&&++n==t&&(l=!0),!_n(r,a)&&++a==o&&(l=!0),l?[new Ze(e,t,s,o)]:Vt(i,e,n,r,s,a).concat(Vt(i,n,t,r,a,o))}function $o(i,e){let t=1,n=Math.min(i,e);for(;t<n;)t=t<<1;return t}function Gr(i,e,t,n,r,s){if(e==t||e==s||i.charCodeAt(e)!=n.charCodeAt(r))return 0;let o=$o(t-e,s-r);for(let a=e,l=r;;){let f=a+o,u=l+o;if(f>t||u>s||i.slice(a,f)!=n.slice(l,u)){if(o==1)return a-e-(_n(i,a)?0:1);o=o>>1}else{if(f==t||u==s)return f-e;a=f,l=u}}}function Zr(i,e,t,n,r,s){if(e==t||r==s||i.charCodeAt(t-1)!=n.charCodeAt(s-1))return 0;let o=$o(t-e,s-r);for(let a=t,l=s;;){let f=a-o,u=l-o;if(f<e||u<r||i.slice(f,a)!=n.slice(u,l)){if(o==1)return t-a-(_n(i,a)?0:1);o=o>>1}else{if(f==e||u==r)return t-f;a=f,l=u}}}function Pr(i,e,t,n,r,s,o,a){let l=n.slice(r,s),f=null;for(;;){if(f||o<a)return f;for(let u=e+o;;){_n(i,u)||u++;let d=u+o;if(_n(i,d)||(d+=d==u+1?1:-1),d>=t)break;let m=i.slice(u,d),g=-1;for(;(g=l.indexOf(m,g+1))!=-1;){let y=Gr(i,d,t,n,r+g+m.length,s),k=Zr(i,e,u,n,r,r+g),x=m.length+y+k;(!f||f[2]<x)&&(f=[u-k,r+g-k,x])}u=d}if(a<0)return f;o=o>>1}}function To(i,e,t,n,r,s){let o=t-e,a=s-r;if(o<a){let l=To(n,r,s,i,e,t);return l&&[l[1],l[0],l[2]]}return o<4||a*2<o?null:Pr(i,e,t,n,r,s,Math.floor(o/4),-1)}function uo(i,e,t,n,r,s){let o=t-e,a=s-r,l;if(o<a){let m=Pr(n,r,s,i,e,t,Math.floor(o/6),50);l=m&&[m[1],m[0],m[2]]}else l=Pr(i,e,t,n,r,s,Math.floor(a/6),50);if(!l)return[new Ze(e,t,r,s)];let[f,u,d]=l;return Vt(i,e,f,n,r,u).concat(Vt(i,f+d,t,n,u+d,s))}function Lo(i,e){for(let t=1;t<i.length;t++){let n=i[t-1],r=i[t];n.toA>r.fromA-e&&n.toB>r.fromB-e&&(i[t-1]=new Ze(n.fromA,r.toA,n.fromB,r.toB),i.splice(t--,1))}}function dc(i,e,t){for(;;){Lo(t,1);let n=!1;for(let r=0;r<t.length;r++){let s=t[r],o,a;(o=Gr(i,s.fromA,s.toA,e,s.fromB,s.toB))&&(s=t[r]=new Ze(s.fromA+o,s.toA,s.fromB+o,s.toB)),(a=Zr(i,s.fromA,s.toA,e,s.fromB,s.toB))&&(s=t[r]=new Ze(s.fromA,s.toA-a,s.fromB,s.toB-a));let l=s.toA-s.fromA,f=s.toB-s.fromB;if(l&&f)continue;let u=s.fromA-(r?t[r-1].toA:0),d=(r<t.length-1?t[r+1].fromA:i.length)-s.toA;if(!u||!d)continue;let m=l?i.slice(s.fromA,s.toA):e.slice(s.fromB,s.toB);u<=m.length&&i.slice(s.fromA-u,s.fromA)==m.slice(m.length-u)?(t[r]=new Ze(s.fromA-u,s.toA-u,s.fromB-u,s.toB-u),n=!0):d<=m.length&&i.slice(s.toA,s.toA+d)==m.slice(0,d)&&(t[r]=new Ze(s.fromA+d,s.toA+d,s.fromB+d,s.toB+d),n=!0)}if(!n)break}return t}function pc(i,e,t){for(let n=0,r=0;r<i.length;r++){let s=i[r],o=s.toA-s.fromA,a=s.toB-s.fromB;if(o&&a||o>3||a>3){let l=r==i.length-1?e.length:i[r+1].fromA,f=s.fromA-n,u=l-s.toA,d=po(e,s.fromA,Math.min(f,5)),m=fo(e,s.toA,Math.min(u,5)),g=s.fromA-d,y=m-s.toA;if(!o||!a){let k=Math.max(o,a),[x,M,w]=o?[e,s.fromA,s.toA]:[t,s.fromB,s.toB],I,T;g&&y?(k>g&&e.slice(d,s.fromA)==x.slice(w-g,w)?(s=i[r]=new Ze(d,d+o,s.fromB-g,s.toB-g),d=s.fromA,m=fo(e,s.toA,Math.min(l-s.toA,5))):k>y&&e.slice(s.toA,m)==x.slice(M,M+y)&&(s=i[r]=new Ze(m-o,m,s.fromB+y,s.toB+y),m=s.toA,d=po(e,s.fromA,Math.min(s.fromA-n,5))),g=s.fromA-d,y=m-s.toA):!g&&!y&&(T=s.fromA-(I=gc(e,s.fromA,f)))&&e.slice(I,s.fromA)==x.slice(w-T,w)&&(s=i[r]=new Ze(I,I+o,s.fromB-T,s.toB-T))}(g||y)&&(s=i[r]=new Ze(s.fromA-g,s.toA+y,s.fromB-g,s.toB+y)),n=s.toA}}return Lo(i,3),i}var qt;try{qt=new RegExp("[\\p{Alphabetic}\\p{Number}]","u")}catch(i){}function No(i){return i>48&&i<58||i>64&&i<91||i>96&&i<123}function Ao(i,e){if(e==i.length)return 0;let t=i.charCodeAt(e);return t<192?No(t)?1:0:qt?!jo(t)||e==i.length-1?qt.test(String.fromCharCode(t))?1:0:qt.test(i.slice(e,e+2))?2:0:0}function Do(i,e){if(!e)return 0;let t=i.charCodeAt(e-1);return t<192?No(t)?1:0:qt?!Eo(t)||e==1?qt.test(String.fromCharCode(t))?1:0:qt.test(i.slice(e-2,e))?2:0:0}function fo(i,e,t){if(e==i.length||!Do(i,e))return e;for(let n=e,r=e+t;;){let s=Ao(i,n);if(!s)return n;if(n+=s,n>r)return e}}function po(i,e,t){if(!e||!Ao(i,e))return e;for(let n=e,r=e-t;;){let s=Do(i,n);if(!s)return n;if(n-=s,n<r)return e}}function gc(i,e,t){for(let n=e,r=e-t;;){let s=n?i.charCodeAt(n-1):10;if(s==10)return n;if(n--,n<r||s!=32&&s!=9)return e}}var jo=i=>i>=55296&&i<=56319,Eo=i=>i>=56320&&i<=57343;function _n(i,e){return!e||e==i.length||!jo(i.charCodeAt(e-1))||!Eo(i.charCodeAt(e))}function mc(i,e,t){var n;return Or=((n=t==null?void 0:t.scanLimit)!==null&&n!==void 0?n:1e9)>>1,dc(i,e,Vt(i,0,i.length,e,0,e.length))}function Fo(i,e,t){return pc(mc(i,e,t),i,e)}var zo={scanLimit:500},Ct=class i{constructor(e,t,n,r,s){this.changes=e,this.fromA=t,this.toA=n,this.fromB=r,this.toB=s}offset(e,t){return e||t?new i(this.changes,this.fromA+e,this.toA+e,this.fromB+t,this.toB+t):this}get endA(){return Math.max(this.fromA,this.toA-1)}get endB(){return Math.max(this.fromB,this.toB-1)}static build(e,t){return Oo(Fo(e.toString(),t.toString(),zo),e,t,0,0)}static updateA(e,t,n,r){return _o(yo(e,r,!0,n.length),e,t,n)}static updateB(e,t,n,r){return _o(yo(e,r,!1,t.length),e,t,n)}};function go(i,e,t,n){let r=t.lineAt(i),s=n.lineAt(e);return r.to==i&&s.to==e&&i<t.length&&e<n.length?[i+1,e+1]:[r.from,s.from]}function mo(i,e,t,n){let r=t.lineAt(i),s=n.lineAt(e);return r.from==i&&s.from==e?[i,e]:[r.to+1,s.to+1]}function Oo(i,e,t,n,r){let s=[];for(let o=0;o<i.length;o++){let a=i[o],[l,f]=go(a.fromA+n,a.fromB+r,e,t),[u,d]=mo(a.toA+n,a.toB+r,e,t),m=[a.offset(-l+n,-f+r)];for(;o<i.length-1;){let g=i[o+1],[y,k]=go(g.fromA+n,g.fromB+r,e,t);if(y>u+1&&k>d+1)break;m.push(g.offset(-l+n,-f+r)),[u,d]=mo(g.toA+n,g.toB+r,e,t),o++}s.push(new Ct(m,l,Math.max(l,u),f,Math.max(f,d)))}return s}var Ei=1e3;function ho(i,e,t,n){let r=0,s=i.length;for(;;){if(r==s){let u=0,d=0;r&&({toA:u,toB:d}=i[r-1]);let m=e-(t?u:d);return[u+m,d+m]}let o=r+s>>1,a=i[o],[l,f]=t?[a.fromA,a.toA]:[a.fromB,a.toB];if(l>e)s=o;else if(f<=e)r=o+1;else return n?[a.fromA,a.fromB]:[a.toA,a.toB]}}function yo(i,e,t,n){let r=[];return e.iterChangedRanges((s,o,a,l)=>{let f=0,u=t?e.length:n,d=0,m=t?n:e.length;s>Ei&&([f,d]=ho(i,s-Ei,t,!0)),o<e.length-Ei&&([u,m]=ho(i,o+Ei,t,!1));let g=l-a-(o-s),y,[k,x]=t?[g,0]:[0,g];r.length&&(y=r[r.length-1]).toA>=f?r[r.length-1]={fromA:y.fromA,fromB:y.fromB,toA:u,toB:m,diffA:y.diffA+k,diffB:y.diffB+x}:r.push({fromA:f,toA:u,fromB:d,toB:m,diffA:k,diffB:x})}),r}function _o(i,e,t,n){if(!i.length)return e;let r=0,s=0,o=0,a=[];for(let l of i){let f=l.fromA+s,u=l.toA+s+l.diffA,d=l.fromB+o,m=l.toB+o+l.diffB;for(;r<e.length;){let g=e[r];if(g.toA+s<=f&&g.toB+o<=d)a.push(g.offset(s,o));else if(g.fromA+s>u)break;r++}for(let g of Oo(Fo(t.sliceString(f,u),n.sliceString(d,m),zo),t,n,f,d))a.push(g);s+=l.diffA,o+=l.diffB}for(;r<e.length;)a.push(e[r++].offset(s,o));return a}var Ri=ie.StateEffect.define(),ft=ie.StateField.define({create(i){return null},update(i,e){for(let t of e.effects)t.is(Ri)&&(i=t.value);return i}}),mt=ie.Facet.define({combine:i=>i[0]}),Qi=ue.ViewPlugin.fromClass(class{constructor(i){({deco:this.deco,gutter:this.gutter}=wo(i))}update(i){(i.docChanged||i.viewportChanged||hc(i.startState,i.state)||yc(i.startState,i.state))&&({deco:this.deco,gutter:this.gutter}=wo(i.view))}},{decorations:i=>i.deco}),Fi=ie.Prec.low((0,ue.gutter)({class:"cm-changeGutter",markers:i=>{var e;return((e=i.plugin(Qi))===null||e===void 0?void 0:e.gutter)||ie.RangeSet.empty}}));function hc(i,e){return i.field(ft,!1)!=e.field(ft,!1)}function yc(i,e){return i.facet(mt)!=e.facet(mt)}var bo=ue.Decoration.line({class:"cm-changedLine"}),_c=ue.Decoration.mark({class:"cm-changedText"}),bc=ue.Decoration.mark({tagName:"ins"}),vc=ue.Decoration.mark({tagName:"del"}),vo=new class extends ue.GutterMarker{constructor(){super(...arguments),this.elementClass="cm-changedLineGutter"}};function wc(i,e,t,n,r,s){let o=t?i.fromA:i.fromB,a=t?i.toA:i.toB,l=0;if(o!=a){r.add(o,o,bo),r.add(o,a,t?vc:bc),s&&s.add(o,o,vo);for(let f=e.iterRange(o,a-1),u=o;!f.next().done;){if(f.lineBreak){u++,r.add(u,u,bo),s&&s.add(u,u,vo);continue}let d=u+f.value.length;if(n)for(;l<i.changes.length;){let m=i.changes[l],g=o+(t?m.fromA:m.fromB),y=o+(t?m.toA:m.toB),k=Math.max(u,g),x=Math.min(d,y);if(k<x&&r.add(k,x,_c),y<d)l++;else break}u=d}}}function wo(i){let e=i.state.field(ft),{side:t,highlightChanges:n,markGutter:r}=i.state.facet(mt),s=t=="a",o=new ie.RangeSetBuilder,a=r?new ie.RangeSetBuilder:null,{from:l,to:f}=i.viewport;for(let u of e){if((s?u.fromA:u.fromB)>=f)break;(s?u.toA:u.toB)>l&&wc(u,i.state.doc,s,n,o,a)}return{deco:o.finish(),gutter:a&&a.finish()}}var yn=class extends ue.WidgetType{constructor(e){super(),this.height=e}eq(e){return this.height==e.height}toDOM(){let e=document.createElement("div");return e.className="cm-mergeSpacer",e.style.height=this.height+"px",e}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}},Bi=ie.StateEffect.define({map:(i,e)=>i.map(e)}),On=ie.StateField.define({create:()=>ue.Decoration.none,update:(i,e)=>{for(let t of e.effects)if(t.is(Bi))return t.value;return i.map(e.changes)},provide:i=>ue.EditorView.decorations.from(i)}),zi=1e-4;function kc(i,e,t){let n=new ie.RangeSetBuilder,r=new ie.RangeSetBuilder,s=i.viewportLineBlocks,o=e.viewportLineBlocks,a=0,l=0,f=i.state.field(On).iter(),u=e.state.field(On).iter(),d=0,m=0,g=0,y=0;e:for(let w=0;;w++){let I=w<t.length?t[w]:null,[T,O]=I?[I.fromA,I.fromB]:[i.state.doc.length,e.state.doc.length];if(d<T&&m<O)for(;;){if(a==s.length||l==o.length)break e;let P=s[a],F=o[l];for(;f.value&&f.from<P.from;)g-=f.value.spec.widget.height,f.next();for(;u.value&&u.from<F.from;)y-=u.value.spec.widget.height,u.next();if(P.from>=T||F.from>=O)break;let R=P.from-d,ee=F.from-m;if(R<0||R<ee)a++;else if(ee<0||ee<R)l++;else{let Y=P.top+g-(F.top+y);Y<-zi?(g-=Y,n.add(P.from,P.from,ue.Decoration.widget({widget:new yn(-Y),block:!0,side:-1}))):Y>zi&&(y+=Y,r.add(F.from,F.from,ue.Decoration.widget({widget:new yn(Y),block:!0,side:-1}))),a++,l++}}if(!I)break;d=I.toA,m=I.toB}for(;f.value;)g-=f.value.spec.widget.height,f.next();for(;u.value;)y-=u.value.spec.widget.height,u.next();let k=i.contentHeight+g-(e.contentHeight+y);k<zi?n.add(i.state.doc.length,i.state.doc.length,ue.Decoration.widget({widget:new yn(-k),block:!0,side:1})):k>zi&&r.add(e.state.doc.length,e.state.doc.length,ue.Decoration.widget({widget:new yn(k),block:!0,side:1}));let x=n.finish(),M=r.finish();ie.RangeSet.eq([x],[i.state.field(On)])||i.dispatch({effects:Bi.of(x)}),ie.RangeSet.eq([M],[e.state.field(On)])||e.dispatch({effects:Bi.of(M)})}var Rr=ie.StateEffect.define({map:(i,e)=>e.mapPos(i)}),Br=class extends ue.WidgetType{constructor(e){super(),this.lines=e}eq(e){return this.lines==e.lines}toDOM(e){let t=document.createElement("div");return t.className="cm-collapsedLines",t.textContent="\u299A "+e.state.phrase("$ unchanged lines",this.lines)+" \u299A",t.addEventListener("click",n=>{let r=e.posAtDOM(n.target);e.dispatch({effects:Rr.of(r)});let{side:s,sibling:o}=e.state.facet(mt);o&&o().dispatch({effects:Rr.of(xc(r,e.state.field(ft),s=="a"))})}),t}ignoreEvent(e){return e instanceof MouseEvent}get estimatedHeight(){return 27}};function xc(i,e,t){let n=0,r=0;for(let s=0;;s++){let o=s<e.length?e[s]:null;if(!o||(t?o.fromA:o.fromB)>=i)return r+(i-n);[n,r]=t?[o.toA,o.toB]:[o.toB,o.toA]}}var Cc=ie.StateField.define({create(i){return ue.Decoration.none},update(i,e){i=i.map(e.changes);for(let t of e.effects)t.is(Rr)&&(i=i.update({filter:n=>n!=t.value}));return i},provide:i=>ue.EditorView.decorations.from(i)});function ko({margin:i=3,minSize:e=4}){return Cc.init(t=>Ic(t,i,e))}function Ic(i,e,t){let n=new ie.RangeSetBuilder,r=i.facet(mt).side=="a",s=i.field(ft),o=1;for(let a=0;;a++){let l=a<s.length?s[a]:null,f=a?o+e:1,u=l?i.doc.lineAt(r?l.fromA:l.fromB).number-1-e:i.doc.lines,d=u-f+1;if(d>=t&&n.add(i.doc.line(f).from,i.doc.line(u).to,ue.Decoration.replace({widget:new Br(d),block:!0})),!l)break;o=i.doc.lineAt(Math.min(i.doc.length,r?l.toA:l.toB)).number}return n.finish()}var Mc=ue.EditorView.styleModule.of(new ji({".cm-mergeView":{overflowY:"auto"},".cm-mergeViewEditors":{display:"flex",alignItems:"stretch"},".cm-mergeViewEditor":{flexGrow:1,flexBasis:0,overflow:"hidden"},".cm-merge-revert":{width:"1.6em",flexGrow:0,flexShrink:0,position:"relative"},".cm-merge-revert button":{position:"absolute",display:"block",width:"100%",boxSizing:"border-box",textAlign:"center",background:"none",border:"none",font:"inherit",cursor:"pointer"}})),Po=ue.EditorView.baseTheme({"& .cm-scroller, &":{height:"auto !important",overflowY:"visible !important"},"&.cm-merge-a .cm-changedLine, .cm-deletedChunk":{backgroundColor:"rgba(160, 128, 100, .08)"},"&.cm-merge-b .cm-changedLine":{backgroundColor:"rgba(100, 160, 128, .08)"},"&light.cm-merge-a .cm-changedText, &light .cm-deletedChunk .cm-deletedText":{background:"linear-gradient(#ee443366, #ee443366) bottom/100% 2px no-repeat"},"&dark.cm-merge-a .cm-changedText, &dark .cm-deletedChunk .cm-deletedText":{background:"linear-gradient(#ffaa9966, #ffaa9966) bottom/100% 2px no-repeat"},"&light.cm-merge-b .cm-changedText":{background:"linear-gradient(#22bb2266, #22bb2266) bottom/100% 2px no-repeat"},"&dark.cm-merge-b .cm-changedText":{background:"linear-gradient(#88ff8866, #88ff8866) bottom/100% 2px no-repeat"},"del, ins":{textDecoration:"none"},".cm-deletedChunk":{paddingLeft:"6px","& .cm-chunkButtons":{position:"absolute",insetInlineEnd:"5px"},"& button":{border:"none",cursor:"pointer",color:"white",margin:"0 2px",borderRadius:"3px","&[name=accept]":{background:"#2a2"},"&[name=reject]":{background:"#d43"}}},".cm-collapsedLines":{padding:"5px 5px 5px 10px",cursor:"pointer"},"&light .cm-collapsedLines":{color:"#444",background:"linear-gradient(to bottom, transparent 0, #f3f3f3 30%, #f3f3f3 70%, transparent 100%)"},"&dark .cm-collapsedLines":{color:"#ddd",background:"linear-gradient(to bottom, transparent 0, #222 30%, #222 70%, transparent 100%)"},".cm-changeGutter":{width:"3px",paddingLeft:"1px"},"&light.cm-merge-a .cm-changedLineGutter, &light .cm-deletedLineGutter":{background:"#e43"},"&dark.cm-merge-a .cm-changedLineGutter, &dark .cm-deletedLineGutter":{background:"#fa9"},"&light.cm-merge-b .cm-changedLineGutter":{background:"#2b2"},"&dark.cm-merge-b .cm-changedLineGutter":{background:"#8f8"}}),xo=new ie.Compartment,Oi=new ie.Compartment,Gi=class{constructor(e){this.revertDOM=null,this.revertToA=!1,this.revertToLeft=!1,this.measuring=-1;let t=[ie.Prec.low(Qi),Po,Mc,On,ue.EditorView.updateListener.of(d=>{this.measuring<0&&(d.heightChanged||d.viewportChanged)&&!d.transactions.some(m=>m.effects.some(g=>g.is(Bi)))&&this.measure()})],n=[mt.of({side:"a",sibling:()=>this.b,highlightChanges:e.highlightChanges!==!1,markGutter:e.gutter!==!1})];e.gutter!==!1&&n.push(Fi);let r=ie.EditorState.create({doc:e.a.doc,selection:e.a.selection,extensions:[e.a.extensions||[],ue.EditorView.editorAttributes.of({class:"cm-merge-a"}),Oi.of(n),t]}),s=[mt.of({side:"b",sibling:()=>this.a,highlightChanges:e.highlightChanges!==!1,markGutter:e.gutter!==!1})];e.gutter!==!1&&s.push(Fi);let o=ie.EditorState.create({doc:e.b.doc,selection:e.b.selection,extensions:[e.b.extensions||[],ue.EditorView.editorAttributes.of({class:"cm-merge-b"}),Oi.of(s),t]});this.chunks=Ct.build(r.doc,o.doc);let a=[ft.init(()=>this.chunks),xo.of(e.collapseUnchanged?ko(e.collapseUnchanged):[])];r=r.update({effects:ie.StateEffect.appendConfig.of(a)}).state,o=o.update({effects:ie.StateEffect.appendConfig.of(a)}).state,this.dom=document.createElement("div"),this.dom.className="cm-mergeView",this.editorDOM=this.dom.appendChild(document.createElement("div")),this.editorDOM.className="cm-mergeViewEditors";let l=e.orientation||"a-b",f=document.createElement("div");f.className="cm-mergeViewEditor";let u=document.createElement("div");u.className="cm-mergeViewEditor",this.editorDOM.appendChild(l=="a-b"?f:u),this.editorDOM.appendChild(l=="a-b"?u:f),this.a=new ue.EditorView({state:r,parent:f,root:e.root,dispatch:d=>this.dispatch(d,this.a)}),this.b=new ue.EditorView({state:o,parent:u,root:e.root,dispatch:d=>this.dispatch(d,this.b)}),this.setupRevertControls(!!e.revertControls,e.revertControls=="b-to-a",e.renderRevertControl),e.parent&&e.parent.appendChild(this.dom),this.scheduleMeasure()}dispatch(e,t){if(e.docChanged){this.chunks=t==this.a?Ct.updateA(this.chunks,e.newDoc,this.b.state.doc,e.changes):Ct.updateB(this.chunks,this.a.state.doc,e.newDoc,e.changes),t.update([e,e.state.update({effects:Ri.of(this.chunks)})]);let n=t==this.a?this.b:this.a;n.update([n.state.update({effects:Ri.of(this.chunks)})]),this.scheduleMeasure()}else t.update([e])}reconfigure(e){if("orientation"in e){let s=e.orientation!="b-a";if(s!=(this.editorDOM.firstChild==this.a.dom.parentNode)){let o=this.a.dom.parentNode,a=this.b.dom.parentNode;o.remove(),a.remove(),this.editorDOM.insertBefore(s?o:a,this.editorDOM.firstChild),this.editorDOM.appendChild(s?a:o),this.revertToLeft=!this.revertToLeft,this.revertDOM&&(this.revertDOM.textContent="")}}if("revertControls"in e||"renderRevertControl"in e){let s=!!this.revertDOM,o=this.revertToA,a=this.renderRevert;"revertControls"in e&&(s=!!e.revertControls,o=e.revertControls=="b-to-a"),"renderRevertControl"in e&&(a=e.renderRevertControl),this.setupRevertControls(s,o,a)}let t="highlightChanges"in e,n="gutter"in e,r="collapseUnchanged"in e;if(t||n||r){let s=[],o=[];if(t||n){let a=this.a.state.facet(mt),l=n?e.gutter!==!1:a.markGutter,f=t?e.highlightChanges!==!1:a.highlightChanges;s.push(Oi.reconfigure([mt.of({side:"a",sibling:()=>this.b,highlightChanges:f,markGutter:l}),l?Fi:[]])),o.push(Oi.reconfigure([mt.of({side:"b",sibling:()=>this.a,highlightChanges:f,markGutter:l}),l?Fi:[]]))}if(r){let a=xo.reconfigure(e.collapseUnchanged?ko(e.collapseUnchanged):[]);s.push(a),o.push(a)}this.a.dispatch({effects:s}),this.b.dispatch({effects:o})}this.scheduleMeasure()}setupRevertControls(e,t,n){this.revertToA=t,this.revertToLeft=this.revertToA==(this.editorDOM.firstChild==this.a.dom.parentNode),this.renderRevert=n,!e&&this.revertDOM?(this.revertDOM.remove(),this.revertDOM=null):e&&!this.revertDOM?(this.revertDOM=this.editorDOM.insertBefore(document.createElement("div"),this.editorDOM.firstChild.nextSibling),this.revertDOM.addEventListener("mousedown",r=>this.revertClicked(r)),this.revertDOM.className="cm-merge-revert"):this.revertDOM&&(this.revertDOM.textContent="")}scheduleMeasure(){if(this.measuring<0){let e=this.dom.ownerDocument.defaultView||window;this.measuring=e.requestAnimationFrame(()=>{this.measuring=-1,this.measure()})}}measure(){kc(this.a,this.b,this.chunks),this.revertDOM&&this.updateRevertButtons()}updateRevertButtons(){let e=this.revertDOM,t=e.firstChild,n=this.a.viewport,r=this.b.viewport;for(let s=0;s<this.chunks.length;s++){let o=this.chunks[s];if(o.fromA>n.to||o.fromB>r.to)break;if(o.fromA<n.from||o.fromB<r.from)continue;let a=this.a.lineBlockAt(o.fromA).top+"px";for(;t&&+t.dataset.chunk<s;)t=Co(t);t&&t.dataset.chunk==String(s)?(t.style.top!=a&&(t.style.top=a),t=t.nextSibling):e.insertBefore(this.renderRevertButton(a,s),t)}for(;t;)t=Co(t)}renderRevertButton(e,t){let n;if(this.renderRevert)n=this.renderRevert();else{n=document.createElement("button");let r=this.a.state.phrase("Revert this chunk");n.setAttribute("aria-label",r),n.setAttribute("title",r),n.textContent=this.revertToLeft?"\u21DC":"\u21DD"}return n.style.top=e,n.setAttribute("data-chunk",String(t)),n}revertClicked(e){let t=e.target,n;for(;t&&t.parentNode!=this.revertDOM;)t=t.parentNode;if(t&&(n=this.chunks[t.dataset.chunk])){let[r,s,o,a,l,f]=this.revertToA?[this.b,this.a,n.fromB,n.toB,n.fromA,n.toA]:[this.a,this.b,n.fromA,n.toA,n.fromB,n.toB],u=r.state.sliceDoc(o,Math.max(o,a-1));o!=a&&f<=s.state.doc.length&&(u+=r.state.lineBreak),s.dispatch({changes:{from:l,to:Math.min(s.state.doc.length,f),insert:u},userEvent:"revert"}),e.preventDefault()}}destroy(){this.a.destroy(),this.b.destroy(),this.measuring>-1&&(this.dom.ownerDocument.defaultView||window).cancelAnimationFrame(this.measuring),this.dom.remove()}};function Co(i){let e=i.nextSibling;return i.remove(),e}var Sc=new class extends ue.GutterMarker{constructor(){super(...arguments),this.elementClass="cm-deletedLineGutter"}},$c=ie.Prec.low((0,ue.gutter)({class:"cm-changeGutter",markers:i=>{var e;return((e=i.plugin(Qi))===null||e===void 0?void 0:e.gutter)||ie.RangeSet.empty},widgetMarker:(i,e)=>e instanceof Zi?Sc:null}));function Ro(i){let e=typeof i.original=="string"?ie.Text.of(i.original.split(/\r?\n/)):i.original;return[ie.Prec.low(Qi),Ac,Po,ue.EditorView.editorAttributes.of({class:"cm-merge-b"}),ie.EditorState.transactionExtender.of(t=>{let n=t.effects.find(o=>o.is(Wr));if(!t.docChanged&&!n)return null;let r=t.startState.field(ft),s=n?Ct.updateA(r,n.value.doc,t.newDoc,n.value.changes):Ct.updateB(r,t.startState.field(Pn),t.newDoc,t.changes);return{effects:Ri.of(s)}}),mt.of({highlightChanges:i.highlightChanges!==!1,markGutter:i.gutter!==!1,syntaxHighlightDeletions:i.syntaxHighlightDeletions!==!1,mergeControls:i.mergeControls!==!1,side:"b"}),Pn.init(()=>e),i.gutter!==!1?$c:[],ft.init(t=>Ct.build(e,t.doc))]}var Wr=ie.StateEffect.define(),Pn=ie.StateField.define({create:()=>ie.Text.empty,update(i,e){for(let t of e.effects)t.is(Wr)&&(i=t.value.doc);return i}}),Io=new WeakMap,Zi=class extends ue.WidgetType{constructor(e){super(),this.buildDOM=e,this.dom=null}eq(e){return this.dom==e.dom}toDOM(e){return this.dom||(this.dom=this.buildDOM(e))}};function Tc(i,e){let t=Io.get(e.changes);if(t)return t;let n=s=>{let{highlightChanges:o,syntaxHighlightDeletions:a,mergeControls:l}=i.facet(mt),f=s.state.field(Pn).sliceString(e.fromA,e.endA),u=a&&i.facet(Wi.language),d=document.createElement("div");if(d.className="cm-deletedChunk",l){let M=d.appendChild(document.createElement("div"));M.className="cm-chunkButtons";let w=M.appendChild(document.createElement("button"));w.name="accept",w.textContent=i.phrase("Accept"),w.onmousedown=T=>{T.preventDefault(),Lc(s,s.posAtDOM(d))};let I=M.appendChild(document.createElement("button"));I.name="reject",I.textContent=i.phrase("Reject"),I.onmousedown=T=>{T.preventDefault(),Nc(s,s.posAtDOM(d))}}let m=d.appendChild(document.createElement("del")),g=e.changes,y=0,k=!1;function x(M,w,I){for(let T=M;T<w;){let O=w,P=I+(k?" cm-deletedText":"");if(o&&y<g.length){let F=k?g[y].toA:g[y].fromA;F<=O&&(O=F,k&&y++,k=!k)}if(O>T){let F=document.createTextNode(f.slice(T,O));if(P){let R=d.appendChild(document.createElement("span"));R.className=P,m.appendChild(F)}else m.appendChild(F)}T=O}}if(u){let M=u.parser.parse(f),w=0;(0,So.highlightTree)(M,{style:I=>(0,Wi.highlightingFor)(i,I)},(I,T,O)=>{I>w&&x(w,I,""),x(I,T,O),w=T}),x(w,f.length,"")}else x(0,f.length,"");return d},r=ue.Decoration.widget({block:!0,side:-1,widget:new Zi(n)});return Io.set(e.changes,r),r}function Lc(i,e){let{state:t}=i,n=e!=null?e:t.selection.main.head,r=i.state.field(ft).find(l=>l.fromB<=n&&l.endB>=n);if(!r)return!1;let s=i.state.sliceDoc(r.fromB,Math.max(r.fromB,r.toB-1)),o=i.state.field(Pn);r.fromB!=r.toB&&r.toA<=o.length&&(s+=i.state.lineBreak);let a=ie.ChangeSet.of({from:r.fromA,to:Math.min(o.length,r.toA),insert:s},o.length);return i.dispatch({effects:Wr.of({doc:a.apply(o),changes:a})}),!0}function Nc(i,e){let{state:t}=i,n=e!=null?e:t.selection.main.head,r=t.field(ft).find(a=>a.fromB<=n&&a.endB>=n);if(!r)return!1;let o=t.field(Pn).sliceString(r.fromA,Math.max(r.fromA,r.toA-1));return r.fromA!=r.toA&&r.toB<=t.doc.length&&(o+=t.lineBreak),i.dispatch({changes:{from:r.fromB,to:Math.min(t.doc.length,r.toB),insert:o},userEvent:"revert"}),!0}function Mo(i){let e=new ie.RangeSetBuilder;for(let t of i.field(ft))e.add(t.fromB,t.fromB,Tc(i,t));return e.finish()}var Ac=ie.StateField.define({create:i=>Mo(i),update(i,e){return e.state.field(ft,!1)!=e.startState.field(ft,!1)?Mo(e.state):i},provide:i=>ue.EditorView.decorations.from(i)});var fl=require("@codemirror/state");var He=require("@codemirror/view"),st=require("@codemirror/view"),Bo=require("@codemirror/state"),ht=require("@codemirror/language"),bn=require("@codemirror/commands"),Yi=require("@codemirror/search"),Et=require("@codemirror/autocomplete"),Go=require("@codemirror/lint"),Rn=[(0,He.lineNumbers)(),(0,He.highlightActiveLineGutter)(),(0,He.highlightSpecialChars)(),(0,bn.history)(),(0,ht.foldGutter)(),(0,He.drawSelection)(),(0,He.dropCursor)(),Bo.EditorState.allowMultipleSelections.of(!0),(0,ht.indentOnInput)(),(0,ht.syntaxHighlighting)(ht.defaultHighlightStyle,{fallback:!0}),(0,ht.bracketMatching)(),(0,Et.closeBrackets)(),(0,Et.autocompletion)(),(0,He.rectangularSelection)(),(0,He.crosshairCursor)(),(0,He.highlightActiveLine)(),(0,Yi.highlightSelectionMatches)(),He.keymap.of([...Et.closeBracketsKeymap,...bn.defaultKeymap,...Yi.searchKeymap,...bn.historyKeymap,...ht.foldKeymap,...Et.completionKeymap,...Go.lintKeymap])];function Ur(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var en=Ur();function Uo(i){en=i}var Ho=/[&<>"']/,Dc=new RegExp(Ho.source,"g"),qo=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,jc=new RegExp(qo.source,"g"),Ec={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zo=i=>Ec[i];function dt(i,e){if(e){if(Ho.test(i))return i.replace(Dc,Zo)}else if(qo.test(i))return i.replace(jc,Zo);return i}var Fc=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function zc(i){return i.replace(Fc,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}var Oc=/(^|[^\[])\^/g;function Ce(i,e){let t=typeof i=="string"?i:i.source;e=e||"";let n={replace:(r,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(Oc,"$1"),t=t.replace(r,o),n},getRegex:()=>new RegExp(t,e)};return n}function Wo(i){try{i=encodeURI(i).replace(/%25/g,"%")}catch(e){return null}return i}var Gn={exec:()=>null};function Qo(i,e){let t=i.replace(/\|/g,(s,o,a)=>{let l=!1,f=o;for(;--f>=0&&a[f]==="\\";)l=!l;return l?"|":" |"}),n=t.split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function Ji(i,e,t){let n=i.length;if(n===0)return"";let r=0;for(;r<n;){let s=i.charAt(n-r-1);if(s===e&&!t)r++;else if(s!==e&&t)r++;else break}return i.slice(0,n-r)}function Pc(i,e){if(i.indexOf(e[1])===-1)return-1;let t=0;for(let n=0;n<i.length;n++)if(i[n]==="\\")n++;else if(i[n]===e[0])t++;else if(i[n]===e[1]&&(t--,t<0))return n;return-1}function Yo(i,e,t,n){let r=e.href,s=e.title?dt(e.title):null,o=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){n.state.inLink=!0;let a={type:"link",raw:t,href:r,title:s,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,a}return{type:"image",raw:t,href:r,title:s,text:dt(o)}}function Rc(i,e){let t=i.match(/^(\s+)(?:```)/);if(t===null)return e;let n=t[1];return e.split(`
`).map(r=>{let s=r.match(/^\s+/);if(s===null)return r;let[o]=s;return o.length>=n.length?r.slice(n.length):r}).join(`
`)}var vn=class{constructor(e){K(this,"options");K(this,"rules");K(this,"lexer");this.options=e||en}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Ji(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=Rc(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){let r=Ji(n,"#");(this.options.pedantic||!r||/ $/.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=Ji(t[0].replace(/^ *>[ \t]?/gm,""),`
`),r=this.lexer.state.top;this.lexer.state.top=!0;let s=this.lexer.blockTokens(n);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:s,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let o=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),a="",l="",f=!1;for(;e;){let u=!1;if(!(t=o.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let d=t[2].split(`
`,1)[0].replace(/^\t+/,M=>" ".repeat(3*M.length)),m=e.split(`
`,1)[0],g=0;this.options.pedantic?(g=2,l=d.trimStart()):(g=t[2].search(/[^ ]/),g=g>4?1:g,l=d.slice(g),g+=t[1].length);let y=!1;if(!d&&/^ *$/.test(m)&&(a+=m+`
`,e=e.substring(m.length+1),u=!0),!u){let M=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),w=new RegExp(`^ {0,${Math.min(3,g-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),I=new RegExp(`^ {0,${Math.min(3,g-1)}}(?:\`\`\`|~~~)`),T=new RegExp(`^ {0,${Math.min(3,g-1)}}#`);for(;e;){let O=e.split(`
`,1)[0];if(m=O,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),I.test(m)||T.test(m)||M.test(m)||w.test(e))break;if(m.search(/[^ ]/)>=g||!m.trim())l+=`
`+m.slice(g);else{if(y||d.search(/[^ ]/)>=4||I.test(d)||T.test(d)||w.test(d))break;l+=`
`+m}!y&&!m.trim()&&(y=!0),a+=O+`
`,e=e.substring(O.length+1),d=m.slice(g)}}s.loose||(f?s.loose=!0:/\n *\n *$/.test(a)&&(f=!0));let k=null,x;this.options.gfm&&(k=/^\[[ xX]\] /.exec(l),k&&(x=k[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:a,task:!!k,checked:x,loose:!1,text:l,tokens:[]}),s.raw+=a}s.items[s.items.length-1].raw=a.trimEnd(),s.items[s.items.length-1].text=l.trimEnd(),s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){let d=s.items[u].tokens.filter(g=>g.type==="space"),m=d.length>0&&d.some(g=>/\n.*\n/.test(g.raw));s.loose=m}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:s}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;let n=Qo(t[1]),r=t[2].replace(/^\||\| *$/g,"").split("|"),s=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let a of r)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a of n)o.header.push({text:a,tokens:this.lexer.inline(a)});for(let a of s)o.rows.push(Qo(a,o.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return o}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:dt(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;let o=Ji(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{let o=Pc(t[2],"()");if(o>-1){let l=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let r=t[2],s="";if(this.options.pedantic){let o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],s=o[3])}else s=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(n)?r=r.slice(1):r=r.slice(1,-1)),Yo(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(/\s+/g," "),s=t[r.toLowerCase()];if(!s){let o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return Yo(n,s,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){let o=[...r[0]].length-1,a,l,f=o,u=0,d=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+o);(r=d.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(l=[...a].length,r[3]||r[4]){f+=l;continue}else if((r[5]||r[6])&&o%3&&!((o+l)%3)){u+=l;continue}if(f-=l,f>0)continue;l=Math.min(l,l+f+u);let m=[...r[0]][0].length,g=e.slice(0,o+r.index+m+l);if(Math.min(o,l)%2){let k=g.slice(1,-1);return{type:"em",raw:g,text:k,tokens:this.lexer.inlineTokens(k)}}let y=g.slice(2,-2);return{type:"strong",raw:g,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," "),r=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return r&&s&&(n=n.substring(1,n.length-1)),n=dt(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=dt(t[1]),r="mailto:"+n):(n=dt(t[1]),r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n,r;let t;if(t=this.rules.inline.url.exec(e)){let s,o;if(t[2]==="@")s=dt(t[0]),o="mailto:"+s;else{let a;do a=t[0],t[0]=(r=(n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])!=null?r:"";while(a!==t[0]);s=dt(t[0]),t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n;return this.lexer.state.inRawBlock?n=t[0]:n=dt(t[0]),{type:"text",raw:t[0],text:n}}}},Bc=/^(?: *(?:\n|$))+/,Gc=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Zc=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Qn=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Wc=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Vo=/(?:[*+-]|\d{1,9}[.)])/,Xo=Ce(/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Vo).getRegex(),Hr=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Qc=/^[^\n]+/,qr=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Yc=Ce(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",qr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Jc=Ce(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Vo).getRegex(),Vi="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vr=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Uc=Ce("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Vr).replace("tag",Vi).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ko=Ce(Hr).replace("hr",Qn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vi).getRegex(),Hc=Ce(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ko).getRegex(),Xr={blockquote:Hc,code:Gc,def:Yc,fences:Zc,heading:Wc,hr:Qn,html:Uc,lheading:Xo,list:Jc,newline:Bc,paragraph:Ko,table:Gn,text:Qc},Jo=Ce("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Qn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vi).getRegex(),qc={...Xr,table:Jo,paragraph:Ce(Hr).replace("hr",Qn).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Jo).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vi).getRegex()},Vc={...Xr,html:Ce(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Vr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Gn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ce(Hr).replace("hr",Qn).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Xo).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},el=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Xc=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,tl=/^( {2,}|\\)\n(?!\s*$)/,Kc=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Yn="\\p{P}$+<=>`^|~",eu=Ce(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Yn).getRegex(),tu=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,nu=Ce(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Yn).getRegex(),iu=Ce("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Yn).getRegex(),ru=Ce("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Yn).getRegex(),su=Ce(/\\([punct])/,"gu").replace(/punct/g,Yn).getRegex(),ou=Ce(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),lu=Ce(Vr).replace("(?:-->|$)","-->").getRegex(),au=Ce("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",lu).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Hi=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,cu=Ce(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Hi).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),nl=Ce(/^!?\[(label)\]\[(ref)\]/).replace("label",Hi).replace("ref",qr).getRegex(),il=Ce(/^!?\[(ref)\](?:\[\])?/).replace("ref",qr).getRegex(),uu=Ce("reflink|nolink(?!\\()","g").replace("reflink",nl).replace("nolink",il).getRegex(),Kr={_backpedal:Gn,anyPunctuation:su,autolink:ou,blockSkip:tu,br:tl,code:Xc,del:Gn,emStrongLDelim:nu,emStrongRDelimAst:iu,emStrongRDelimUnd:ru,escape:el,link:cu,nolink:il,punctuation:eu,reflink:nl,reflinkSearch:uu,tag:au,text:Kc,url:Gn},fu={...Kr,link:Ce(/^!?\[(label)\]\((.*?)\)/).replace("label",Hi).getRegex(),reflink:Ce(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Hi).getRegex()},Qr={...Kr,escape:Ce(el).replace("])","~|])").getRegex(),url:Ce(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},du={...Qr,br:Ce(tl).replace("{2,}","*").getRegex(),text:Ce(Qr.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ui={normal:Xr,gfm:qc,pedantic:Vc},Bn={normal:Kr,gfm:Qr,breaks:du,pedantic:fu},It=class i{constructor(e){K(this,"tokens");K(this,"options");K(this,"state");K(this,"tokenizer");K(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||en,this.options.tokenizer=this.options.tokenizer||new vn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:Ui.normal,inline:Bn.normal};this.options.pedantic?(t.block=Ui.pedantic,t.inline=Bn.pedantic):this.options.gfm&&(t.block=Ui.gfm,this.options.breaks?t.inline=Bn.breaks:t.inline=Bn.gfm),this.tokenizer.rules=t}static get rules(){return{block:Ui,inline:Bn}}static lex(e,t){return new i(t).lex(e)}static lexInline(e,t){return new i(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,f)=>l+"    ".repeat(f.length));let n,r,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(n=a.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0,l=e.slice(1),f;this.options.extensions.startBlock.forEach(u=>{f=u.call({lexer:this},l),typeof f=="number"&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){r=t[t.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),o=s.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,s,o=e,a,l,f;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(f=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(n=u.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,o,f)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0,d=e.slice(1),m;this.options.extensions.startInline.forEach(g=>{m=g.call({lexer:this},d),typeof m=="number"&&m>=0&&(u=Math.min(u,m))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(n=this.tokenizer.inlineText(s)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(f=n.raw.slice(-1)),l=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){let u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}},wn=class{constructor(e){K(this,"options");this.options=e||en}code(e,t,n){var s;let r=(s=(t||"").match(/^\S*/))==null?void 0:s[0];return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="language-'+dt(r)+'">'+(n?e:dt(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:dt(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,t){return e}heading(e,t,n){return`<h${t}>${e}</h${t}>
`}hr(){return`<hr>
`}list(e,t,n){let r=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+r+s+`>
`+e+"</"+r+`>
`}listitem(e,t,n){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){let n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){let r=Wo(e);if(r===null)return n;e=r;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s}image(e,t,n){let r=Wo(e);if(r===null)return n;e=r;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${t}"`),s+=">",s}text(e){return e}},Zn=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},Mt=class i{constructor(e){K(this,"options");K(this,"renderer");K(this,"textRenderer");this.options=e||en,this.options.renderer=this.options.renderer||new wn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Zn}static parse(e,t){return new i(t).parse(e)}static parseInline(e,t){return new i(t).parseInline(e)}parse(e,t=!0){let n="";for(let r=0;r<e.length;r++){let s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){let o=s,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){n+=a||"";continue}}switch(s.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{let o=s;n+=this.renderer.heading(this.parseInline(o.tokens),o.depth,zc(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{let o=s;n+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{let o=s,a="",l="";for(let u=0;u<o.header.length;u++)l+=this.renderer.tablecell(this.parseInline(o.header[u].tokens),{header:!0,align:o.align[u]});a+=this.renderer.tablerow(l);let f="";for(let u=0;u<o.rows.length;u++){let d=o.rows[u];l="";for(let m=0;m<d.length;m++)l+=this.renderer.tablecell(this.parseInline(d[m].tokens),{header:!1,align:o.align[m]});f+=this.renderer.tablerow(l)}n+=this.renderer.table(a,f);continue}case"blockquote":{let o=s,a=this.parse(o.tokens);n+=this.renderer.blockquote(a);continue}case"list":{let o=s,a=o.ordered,l=o.start,f=o.loose,u="";for(let d=0;d<o.items.length;d++){let m=o.items[d],g=m.checked,y=m.task,k="";if(m.task){let x=this.renderer.checkbox(!!g);f?m.tokens.length>0&&m.tokens[0].type==="paragraph"?(m.tokens[0].text=x+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&m.tokens[0].tokens[0].type==="text"&&(m.tokens[0].tokens[0].text=x+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:x+" "}):k+=x+" "}k+=this.parse(m.tokens,f),u+=this.renderer.listitem(k,y,!!g)}n+=this.renderer.list(u,a,l);continue}case"html":{let o=s;n+=this.renderer.html(o.text,o.block);continue}case"paragraph":{let o=s;n+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=s,a=o.tokens?this.parseInline(o.tokens):o.text;for(;r+1<e.length&&e[r+1].type==="text";)o=e[++r],a+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);n+=t?this.renderer.paragraph(a):a;continue}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,t){t=t||this.renderer;let n="";for(let r=0;r<e.length;r++){let s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=o||"";continue}}switch(s.type){case"escape":{let o=s;n+=t.text(o.text);break}case"html":{let o=s;n+=t.html(o.text);break}case"link":{let o=s;n+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break}case"image":{let o=s;n+=t.image(o.href,o.title,o.text);break}case"strong":{let o=s;n+=t.strong(this.parseInline(o.tokens,t));break}case"em":{let o=s;n+=t.em(this.parseInline(o.tokens,t));break}case"codespan":{let o=s;n+=t.codespan(o.text);break}case"br":{n+=t.br();break}case"del":{let o=s;n+=t.del(this.parseInline(o.tokens,t));break}case"text":{let o=s;n+=t.text(o.text);break}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},Xt=class{constructor(e){K(this,"options");this.options=e||en}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}};K(Xt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Wn,Jr,qi,rl,Yr=class{constructor(...e){pr(this,Wn);pr(this,qi);K(this,"defaults",Ur());K(this,"options",this.setOptions);K(this,"parse",ei(this,Wn,Jr).call(this,It.lex,Mt.parse));K(this,"parseInline",ei(this,Wn,Jr).call(this,It.lexInline,Mt.parseInline));K(this,"Parser",Mt);K(this,"Renderer",wn);K(this,"TextRenderer",Zn);K(this,"Lexer",It);K(this,"Tokenizer",vn);K(this,"Hooks",Xt);this.use(...e)}walkTokens(e,t){var r,s;let n=[];for(let o of e)switch(n=n.concat(t.call(this,o)),o.type){case"table":{let a=o;for(let l of a.header)n=n.concat(this.walkTokens(l.tokens,t));for(let l of a.rows)for(let f of l)n=n.concat(this.walkTokens(f.tokens,t));break}case"list":{let a=o;n=n.concat(this.walkTokens(a.items,t));break}default:{let a=o;(s=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{n=n.concat(this.walkTokens(a[l],t))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=t.renderers[s.name];o?t.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:t.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=t[s.level];o?o.unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(t.childTokens[s.name]=s.childTokens)}),r.extensions=t),n.renderer){let s=this.defaults.renderer||new wn(this.defaults);for(let o in n.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;let a=o,l=n.renderer[a],f=s[a];s[a]=(...u)=>{let d=l.apply(s,u);return d===!1&&(d=f.apply(s,u)),d||""}}r.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new vn(this.defaults);for(let o in n.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,l=n.tokenizer[a],f=s[a];s[a]=(...u)=>{let d=l.apply(s,u);return d===!1&&(d=f.apply(s,u)),d}}r.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new Xt;for(let o in n.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;let a=o,l=n.hooks[a],f=s[a];Xt.passThroughHooks.has(o)?s[a]=u=>{if(this.defaults.async)return Promise.resolve(l.call(s,u)).then(m=>f.call(s,m));let d=l.call(s,u);return f.call(s,d)}:s[a]=(...u)=>{let d=l.apply(s,u);return d===!1&&(d=f.apply(s,u)),d}}r.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,o=n.walkTokens;r.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return It.lex(e,t!=null?t:this.defaults)}parser(e,t){return Mt.parse(e,t!=null?t:this.defaults)}};Wn=new WeakSet,Jr=function(e,t){return(n,r)=>{let s={...r},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);let a=ei(this,qi,rl).call(this,!!o.silent,!!o.async);if(typeof n=="undefined"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(l=>e(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>t(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(n=o.hooks.preprocess(n));let l=e(n,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let f=t(l,o);return o.hooks&&(f=o.hooks.postprocess(f)),f}catch(l){return a(l)}}},qi=new WeakSet,rl=function(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let r="<p>An error occurred:</p><pre>"+dt(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}};var Kt=new Yr;function ce(i,e){return Kt.parse(i,e)}ce.options=ce.setOptions=function(i){return Kt.setOptions(i),ce.defaults=Kt.defaults,Uo(ce.defaults),ce};ce.getDefaults=Ur;ce.defaults=en;ce.use=function(...i){return Kt.use(...i),ce.defaults=Kt.defaults,Uo(ce.defaults),ce};ce.walkTokens=function(i,e){return Kt.walkTokens(i,e)};ce.parseInline=Kt.parseInline;ce.Parser=Mt;ce.parser=Mt.parse;ce.Renderer=wn;ce.TextRenderer=Zn;ce.Lexer=It;ce.lexer=It.lex;ce.Tokenizer=vn;ce.Hooks=Xt;ce.parse=ce;var rm=ce.options,sm=ce.setOptions,om=ce.use,lm=ce.walkTokens,am=ce.parseInline;var cm=Mt.parse,um=It.lex;var St=require("obsidian");var sl=require("@codemirror/state");var yt=require("obsidian");var Jn=require("obsidian"),kn=class extends Jn.Modal{constructor(t,n,r){super(t);this.message=n;this.callback=r}onOpen(){this.titleEl.setText("Are you sure?"),this.contentEl.setText(this.message);let t=this.contentEl.createDiv("div");t.addClass("confirm-modal-buttons"),new Jn.ButtonComponent(t).setButtonText("Yes").setCta().onClick(()=>{this.callback(),this.close()}),new Jn.ButtonComponent(t).setButtonText("No").onClick(()=>{this.close()})}};function pu(i){Me(i,"svelte-1vfpmb8",".merge.svelte-1vfpmb8{border-radius:5px;height:35%;overflow:scroll}.preview.svelte-1vfpmb8{border:1px solid var(--background-modifier-border);border-radius:5px;height:35%;overflow:scroll;padding:1%}.tools.svelte-1vfpmb8{display:flex;flex-direction:row;justify-content:end;align-items:center}")}function gu(i){let e,t=ce(i[0],{mangle:!1,headerIds:!1})+"",n;return{c(){e=new Dn(!1),n=pt(),e.a=n},m(r,s){e.m(t,r,s),v(r,n,s)},p(r,s){s&1&&t!==(t=ce(r[0],{mangle:!1,headerIds:!1})+"")&&e.p(t)},d(r){r&&(b(n),e.d())}}}function mu(i){let e,t=ce(i[2].toString(),{mangle:!1,headerIds:!1})+"",n;return{c(){e=new Dn(!1),n=pt(),e.a=n},m(r,s){e.m(t,r,s),v(r,n,s)},p(r,s){s&4&&t!==(t=ce(r[2].toString(),{mangle:!1,headerIds:!1})+"")&&e.p(t)},d(r){r&&(b(n),e.d())}}}function hu(i){let e,t,n,r,s,o,a;function l(d,m){return d[2]?mu:gu}let f=l(i,-1),u=f(i);return{c(){e=p("div"),t=_(),n=p("h3"),n.textContent="Preview the merged file",r=_(),s=p("div"),u.c(),o=_(),a=p("div"),h(e,"class","merge svelte-1vfpmb8"),h(s,"class","preview svelte-1vfpmb8"),h(a,"class","tools svelte-1vfpmb8")},m(d,m){v(d,e,m),i[6](e),v(d,t,m),v(d,n,m),v(d,r,m),v(d,s,m),u.m(s,null),v(d,o,m),v(d,a,m),i[7](a)},p(d,[m]){f===(f=l(d,m))&&u?u.p(d,m):(u.d(1),u=f(d),u&&(u.c(),u.m(s,null)))},i:Z,o:Z,d(d){d&&(b(e),b(t),b(n),b(r),b(s),b(o),b(a)),i[6](null),u.d(),i[7](null)}}}function yu(i,e,t){let{originalContent:n="this is the original text"}=e,{modifiedContent:r="this is the modified text"}=e,{parentModal:s}=e,o,a,l,f,u;it(()=>{o=new Gi({a:{doc:n,extensions:[Rn,st.EditorView.lineWrapping,st.EditorView.darkTheme.of(!0),st.EditorView.updateListener.of(g=>{g.docChanged&&t(2,l=g.state.doc)})]},b:{doc:r,extensions:[Rn,st.EditorView.lineWrapping,st.EditorView.darkTheme.of(!0),st.EditorView.updateListener.of(g=>{g.docChanged&&(f=g.state.doc)}),st.EditorView.editable.of(!1),sl.EditorState.readOnly.of(!0)]},revertControls:"b-to-a",parent:a}),new yt.ButtonComponent(u).setButtonText("Save merged file").setCta().onClick(()=>ut(void 0,void 0,void 0,function*(){if(o.chunks.length>0){new yt.Notice("There is still some merge conflicts. Please resolve them."),new kn(s.app,`Are you sure you want to save the file?
There are still some merge conflicts.
This action will save the previewed file in the original file and delete the conflicting file.`,()=>ut(void 0,void 0,void 0,function*(){new yt.Notice("Saved file"),yield s.app.vault.delete(s.modifiedFile),new yt.Notice("Deleted conflicting file"),s.close()})).open();return}yield s.app.vault.modify(s.originalFile,l.toString()),new yt.Notice("Saved file"),yield s.app.vault.delete(s.modifiedFile),new yt.Notice("Deleted conflicting file"),s.close()})).buttonEl.style.margin="1%",new yt.ButtonComponent(u).setButtonText("Cancel merge").setWarning().onClick(()=>{if(o.chunks.length>0){new yt.Notice("There is still some merge conflicts. Please resolve them."),new kn(s.app,`Are you sure you want to cancel the merge?
There are still some merge conflicts.
This will keep the original file and the conflicting file.`,()=>{new yt.Notice("Closing the merge editor."),s.close()}).open();return}new kn(s.app,`Are you sure you want to cancel the merge?
You have resolved the conflicts but your modifications will not be saved.
This will keep the original file and the conflicting file.`,()=>{new yt.Notice("Closing the merge editor."),s.close()}).open()}).buttonEl.style.margin="1% 0"});function d(g){ct[g?"unshift":"push"](()=>{a=g,t(1,a)})}function m(g){ct[g?"unshift":"push"](()=>{u=g,t(3,u)})}return i.$$set=g=>{"originalContent"in g&&t(0,n=g.originalContent),"modifiedContent"in g&&t(4,r=g.modifiedContent),"parentModal"in g&&t(5,s=g.parentModal)},[n,a,l,u,r,s,d,m]}var es=class extends ge{constructor(e){super(),be(this,e,yu,hu,ye,{originalContent:0,modifiedContent:4,parentModal:5},pu)}},ol=es;var ll=require("obsidian"),Xi=class extends ll.Modal{constructor(t,n,r){super(t);this.originalFile=n;this.modifiedFile=r}async onOpen(){this.originalContent=await this.app.vault.read(this.originalFile),this.modifiedContent=await this.app.vault.read(this.modifiedFile),this.component=new ol({target:this.contentEl,props:{parentModal:this,originalContent:this.originalContent,modifiedContent:this.modifiedContent}}),this.modalEl.addClass("syncthing-merge-editor-modal"),this.contentEl.addClass("syncthing-merge-editor"),this.titleEl.setText(`Resolve conflicts - ${this.originalFile.basename}`)}onClose(){var t;(t=this.component)==null||t.$destroy()}};function _u(i){Me(i,"svelte-8kfohb","p.svelte-8kfohb{background-color:darkred;opacity:0.6;border-radius:10px;box-shadow:black 0px 0px 10px;padding:1%}")}function bu(i){let e,t,n=i[0].message+"",r;return{c(){e=p("p"),t=z(`A failure occured :
	`),r=z(n),h(e,"class","svelte-8kfohb")},m(s,o){v(s,e,o),c(e,t),c(e,r)},p(s,[o]){o&1&&n!==(n=s[0].message+"")&&re(r,n)},i:Z,o:Z,d(s){s&&b(e)}}}function vu(i,e,t){let{failure:n}=e;return i.$$set=r=>{"failure"in r&&t(0,n=r.failure)},[n]}var ts=class extends ge{constructor(e){super(),be(this,e,vu,bu,ye,{failure:0},_u)}},Ki=ts;function wu(i){Me(i,"svelte-kca58t",".conflict-file.svelte-kca58t{padding:0.5em;border-radius:0.5em;margin:0.5em}.conflict-file.svelte-kca58t:hover{background-color:var(--background-secondary-alt)}.conflict-file.svelte-kca58t:active{background-color:var(--background-secondary-alt)}.selected.svelte-kca58t{background-color:var(--background-secondary-alt)}")}function ku(i){let e,t,n,r,s,o,a,l,f,u,d,m,g,y,k,x=i[1].extension+"",M,w,I,T,O=an(i[1].stat.size,1)+"",P,F,R,ee,Y=new Date(i[1].stat.mtime).toLocaleString()+"",W,G,E,H,L=new Date(i[1].stat.ctime).toLocaleString()+"",J,$,j,me,ke=i[1].path+"",he;return{c(){e=p("div"),t=p("strong"),n=z("Conflict #"),r=z(i[0]),s=_(),o=p("em"),o.textContent=`Occured on: ${i[4].dateTime.toLocaleString()}`,a=_(),l=p("ul"),f=p("li"),f.textContent=`Conflict date: ${i[4].dateTime.toLocaleString()}`,u=_(),d=p("li"),d.textContent=`Modified by: ${i[4].modifiedBy}`,m=_(),g=p("li"),y=z("Extension: "),k=p("code"),M=z(x),w=_(),I=p("li"),T=z("Size: "),P=z(O),F=_(),R=p("li"),ee=z("Last modified at: "),W=z(Y),G=_(),E=p("li"),H=z("Created at: "),J=z(L),$=_(),j=p("li"),me=z("Path: "),he=z(ke)},m(fe,q){v(fe,e,q),c(e,t),c(t,n),c(t,r),c(e,s),c(e,o),c(e,a),c(e,l),c(l,f),c(l,u),c(l,d),c(l,m),c(l,g),c(g,y),c(g,k),c(k,M),c(l,w),c(l,I),c(I,T),c(I,P),c(l,F),c(l,R),c(R,ee),c(R,W),c(l,G),c(l,E),c(E,H),c(E,J),c(l,$),c(l,j),c(j,me),c(j,he)},p(fe,q){q&1&&re(r,fe[0]),q&2&&x!==(x=fe[1].extension+"")&&re(M,x),q&2&&O!==(O=an(fe[1].stat.size,1)+"")&&re(P,O),q&2&&Y!==(Y=new Date(fe[1].stat.mtime).toLocaleString()+"")&&re(W,Y),q&2&&L!==(L=new Date(fe[1].stat.ctime).toLocaleString()+"")&&re(J,L),q&2&&ke!==(ke=fe[1].path+"")&&re(he,ke)},i:Z,o:Z,d(fe){fe&&b(e)}}}function xu(i){let e,t;return e=new Ki({props:{failure:i[4]}}),{c(){D(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p:Z,i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Cu(i){let e,t,n,r,s,o,a=[xu,ku],l=[];function f(u,d){return u[4]instanceof pe?0:1}return t=f(i,-1),n=l[t]=a[t](i),{c(){e=p("div"),n.c(),h(e,"class","svelte-kca58t"),gt(e,"conflict-file",i[2]),gt(e,"selected",i[3])},m(u,d){v(u,e,d),l[t].m(e,null),r=!0,s||(o=U(e,"click",i[6]),s=!0)},p(u,[d]){n.p(u,d),(!r||d&4)&&gt(e,"conflict-file",u[2]),(!r||d&8)&&gt(e,"selected",u[3])},i(u){r||(C(n),r=!0)},o(u){S(n),r=!1},d(u){u&&b(e),l[t].d(),s=!1,o()}}}function Iu(i,e,t){let{counter:n}=e,{file:r}=e,{styled:s=!1}=e,{isClicked:o=!1}=e,a=$r(),l=Xe(r.name);function f(){a("file",{file:r})}let u=()=>{s&&f()};return i.$$set=d=>{"counter"in d&&t(0,n=d.counter),"file"in d&&t(1,r=d.file),"styled"in d&&t(2,s=d.styled),"isClicked"in d&&t(3,o=d.isClicked)},[n,r,s,o,l,f,u]}var ns=class extends ge{constructor(e){super(),be(this,e,Iu,Cu,ye,{counter:0,file:1,styled:2,isClicked:3},wu)}},er=ns;function Mu(i){let e,t,n,r,s,o=i[0].extension+"",a,l,f,u,d=an(i[0].stat.size,1)+"",m,g,y,k,x=new Date(i[0].stat.mtime).toLocaleString()+"",M,w,I,T,O=new Date(i[0].stat.ctime).toLocaleString()+"",P,F,R,ee,Y=i[0].path+"",W;return{c(){e=p("div"),t=p("ul"),n=p("li"),r=z("Extension: "),s=p("code"),a=z(o),l=_(),f=p("li"),u=z("Size: "),m=z(d),g=_(),y=p("li"),k=z("Last modified at: "),M=z(x),w=_(),I=p("li"),T=z("Created at: "),P=z(O),F=_(),R=p("li"),ee=z("Path: "),W=z(Y)},m(G,E){v(G,e,E),c(e,t),c(t,n),c(n,r),c(n,s),c(s,a),c(t,l),c(t,f),c(f,u),c(f,m),c(t,g),c(t,y),c(y,k),c(y,M),c(t,w),c(t,I),c(I,T),c(I,P),c(t,F),c(t,R),c(R,ee),c(R,W)},p(G,[E]){E&1&&o!==(o=G[0].extension+"")&&re(a,o),E&1&&d!==(d=an(G[0].stat.size,1)+"")&&re(m,d),E&1&&x!==(x=new Date(G[0].stat.mtime).toLocaleString()+"")&&re(M,x),E&1&&O!==(O=new Date(G[0].stat.ctime).toLocaleString()+"")&&re(P,O),E&1&&Y!==(Y=G[0].path+"")&&re(W,Y)},i:Z,o:Z,d(G){G&&b(e)}}}function Su(i,e,t){let{file:n}=e;return i.$$set=r=>{"file"in r&&t(0,n=r.file)},[n]}var is=class extends ge{constructor(e){super(),be(this,e,Su,Mu,ye,{file:0})}},al=is;function $u(i){Me(i,"svelte-10busrc",".column.svelte-10busrc.svelte-10busrc{display:inline-block;width:33%;min-height:fit-content;max-height:95%;vertical-align:top;overflow-y:scroll;padding:1%}.column.svelte-10busrc h1.svelte-10busrc{margin-top:0;text-align:center}.conflicts.svelte-10busrc.svelte-10busrc{max-height:650px;overflow-y:auto;padding:1%}.divider.svelte-10busrc.svelte-10busrc{margin-top:10px;margin-bottom:10px;border-bottom:2px solid var(--background-modifier-border)}.tools.svelte-10busrc.svelte-10busrc{display:flex;flex-direction:row;justify-content:space-evenly;align-items:end}.preview.svelte-10busrc.svelte-10busrc{border:1px solid var(--background-modifier-border);border-radius:5px;padding:1%}.preview-container.svelte-10busrc.svelte-10busrc{padding:1%;overflow-y:scroll;height:500px}.diff_view.svelte-10busrc.svelte-10busrc{max-height:650px;overflow-y:scroll}")}function cl(i,e,t){let n=i.slice();return n[13]=e[t],n[15]=t,n}function Tu(i){let e;return{c(){e=p("div"),h(e,"class","divider svelte-10busrc")},m(t,n){v(t,e,n)},d(t){t&&b(e)}}}function ul(i){let e,t,n,r=i[15]!==0&&Tu(i);return t=new er({props:{file:i[13],counter:i[15],styled:!0,isClicked:i[0].conflictingFiles[i[15]]===i[2]}}),t.$on("file",i[6]),{c(){r&&r.c(),e=_(),D(t.$$.fragment)},m(s,o){r&&r.m(s,o),v(s,e,o),N(t,s,o),n=!0},p(s,o){let a={};o&1&&(a.file=s[13]),o&5&&(a.isClicked=s[0].conflictingFiles[s[15]]===s[2]),t.$set(a)},i(s){n||(C(t.$$.fragment,s),n=!0)},o(s){S(t.$$.fragment,s),n=!1},d(s){s&&b(e),r&&r.d(s),A(t,s)}}}function Lu(i){return{c:Z,m:Z,p:Z,d:Z}}function Nu(i){let e,t=ce(i[12],{mangle:!1,headerIds:!1})+"";return{c(){e=p("div"),h(e,"class","preview svelte-10busrc")},m(n,r){v(n,e,r),e.innerHTML=t},p(n,r){r&1&&t!==(t=ce(n[12],{mangle:!1,headerIds:!1})+"")&&(e.innerHTML=t)},d(n){n&&b(e)}}}function Au(i){let e;return{c(){e=p("p"),e.textContent="Loading preview..."},m(t,n){v(t,e,n)},p:Z,d(t){t&&b(e)}}}function Du(i){return{c:Z,m:Z,p:Z,d:Z}}function ju(i){let e,t=ce(i[12],{mangle:!1,headerIds:!1})+"";return{c(){e=p("div"),h(e,"class","preview svelte-10busrc")},m(n,r){v(n,e,r),e.innerHTML=t},p(n,r){r&5&&t!==(t=ce(n[12],{mangle:!1,headerIds:!1})+"")&&(e.innerHTML=t)},d(n){n&&b(e)}}}function Eu(i){let e;return{c(){e=p("p"),e.textContent="Loading preview..."},m(t,n){v(t,e,n)},p:Z,d(t){t&&b(e)}}}function Fu(i){let e,t,n,r,s,o,a,l,f,u,d,m,g,y,k=i[0].originalFile.basename+"",x,M,w,I,T,O,P,F,R,ee,Y,W,G,E,H,L,J,$,j,me,ke,he,fe=et(i[0].conflictingFiles),q=[];for(let V=0;V<fe.length;V+=1)q[V]=ul(cl(i,fe,V));let Se=V=>S(q[V],1,1,()=>{q[V]=null});w=new al({props:{file:i[0].originalFile}});let _e={ctx:i,current:null,token:null,hasCatch:!1,pending:Au,then:Nu,catch:Lu,value:12};zn(F=i[0].app.vault.cachedRead(i[0].originalFile),_e);let de={ctx:i,current:null,token:null,hasCatch:!1,pending:Eu,then:ju,catch:Du,value:12};return zn(W=i[0].app.vault.cachedRead(i[2]),de),{c(){e=p("div"),t=p("h1"),t.textContent="Conflicting files",n=_(),r=p("div");for(let V=0;V<q.length;V+=1)q[V].c();s=_(),o=p("div"),a=p("h1"),a.textContent="Quick difference view",l=_(),f=p("div"),u=_(),d=p("div"),m=p("h1"),m.textContent="Original file",g=_(),y=p("h2"),x=z(k),M=_(),D(w.$$.fragment),I=_(),T=p("div"),O=p("h2"),O.textContent="Original file preview",P=_(),_e.block.c(),R=_(),ee=p("h2"),ee.textContent="Conflicting file preview",Y=_(),de.block.c(),G=_(),E=p("div"),H=p("button"),H.textContent="Accept conflict changes",L=_(),J=p("button"),J.textContent="Accept original",$=_(),j=p("button"),j.textContent="Open in Merge Editor",h(t,"class","svelte-10busrc"),h(r,"class","conflicts svelte-10busrc"),h(e,"class","column svelte-10busrc"),h(a,"class","svelte-10busrc"),h(f,"class","diff_view svelte-10busrc"),h(o,"class","column svelte-10busrc"),h(m,"class","svelte-10busrc"),h(T,"class","preview-container svelte-10busrc"),h(d,"class","column svelte-10busrc"),h(E,"class","tools svelte-10busrc")},m(V,X){v(V,e,X),c(e,t),c(e,n),c(e,r);for(let Ie=0;Ie<q.length;Ie+=1)q[Ie]&&q[Ie].m(r,null);v(V,s,X),v(V,o,X),c(o,a),c(o,l),c(o,f),i[7](f),v(V,u,X),v(V,d,X),c(d,m),c(d,g),c(d,y),c(y,x),c(d,M),N(w,d,null),c(d,I),c(d,T),c(T,O),c(T,P),_e.block.m(T,_e.anchor=null),_e.mount=()=>T,_e.anchor=R,c(T,R),c(T,ee),c(T,Y),de.block.m(T,de.anchor=null),de.mount=()=>T,de.anchor=null,v(V,G,X),v(V,E,X),c(E,H),c(E,L),c(E,J),c(E,$),c(E,j),me=!0,ke||(he=[U(H,"click",i[3]),U(J,"click",i[4]),U(j,"click",i[5])],ke=!0)},p(V,[X]){if(i=V,X&69){fe=et(i[0].conflictingFiles);let ae;for(ae=0;ae<fe.length;ae+=1){let ze=cl(i,fe,ae);q[ae]?(q[ae].p(ze,X),C(q[ae],1)):(q[ae]=ul(ze),q[ae].c(),C(q[ae],1),q[ae].m(r,null))}for(Be(),ae=fe.length;ae<q.length;ae+=1)Se(ae);Ge()}(!me||X&1)&&k!==(k=i[0].originalFile.basename+"")&&re(x,k);let Ie={};X&1&&(Ie.file=i[0].originalFile),w.$set(Ie),_e.ctx=i,X&1&&F!==(F=i[0].app.vault.cachedRead(i[0].originalFile))&&zn(F,_e)||Nr(_e,i,X),de.ctx=i,X&5&&W!==(W=i[0].app.vault.cachedRead(i[2]))&&zn(W,de)||Nr(de,i,X)},i(V){if(!me){for(let X=0;X<fe.length;X+=1)C(q[X]);C(w.$$.fragment,V),me=!0}},o(V){q=q.filter(Boolean);for(let X=0;X<q.length;X+=1)S(q[X]);S(w.$$.fragment,V),me=!1},d(V){V&&(b(e),b(s),b(o),b(u),b(d),b(G),b(E)),xt(q,V),i[7](null),A(w),_e.block.d(),_e.token=null,_e=null,de.block.d(),de.token=null,de=null,ke=!1,xe(he)}}}function zu(i,e,t){let{parentModal:n}=e,r,s,o=n.conflictingFiles[0];n.titleEl.setText("Difference view"),n.titleEl.style.textAlign="center",it(()=>ut(void 0,void 0,void 0,function*(){s=new st.EditorView({parent:r,state:fl.EditorState.create({doc:yield n.app.vault.read(o),extensions:[Rn,st.EditorView.editable.of(!1),st.EditorView.lineWrapping,st.EditorView.darkTheme.of(!0),Ro({original:yield n.app.vault.read(n.originalFile),mergeControls:!1,gutter:!0,highlightChanges:!0,syntaxHighlightDeletions:!0})]})})}));function a(){return ut(this,void 0,void 0,function*(){new St.Notice("Resolving conflict : Accepting left",2e3);let x=n.originalFile.path;setTimeout(()=>new St.Notice(`Deleting ${x}...`,2e3),500),yield n.app.vault.delete(n.originalFile,!0),new St.Notice("Original file deleted",2e3),setTimeout(()=>{new St.Notice(`Renaming ${o.path} to ${x}...`,2e3)},1e3),yield n.app.fileManager.renameFile(o,x),f(),new St.Notice("Conflict resolved : Accepted left",2e3),t(0,n.originalFile=o,n),u(),t(2,o=n.conflictingFiles[0])})}function l(){return ut(this,void 0,void 0,function*(){new St.Notice("Resolving conflict : Accepting original",5e3),setTimeout(()=>new St.Notice(`Deleting ${o.path}...`,5e3),1e3),yield n.app.vault.delete(o),new St.Notice("Conflict resolved",5e3),f(),u(),t(2,o=n.conflictingFiles[0])})}function f(){n.conflictingFiles.remove(o),t(0,n)}function u(){n.conflictingFiles.length===0&&n.close()}function d(){new Xi(n.app,n.originalFile,o).open()}function m(k){return s.state.update({changes:{from:0,to:s.state.doc.length,insert:k}})}function g(k){return ut(this,void 0,void 0,function*(){t(2,o=k.detail.file),s.dispatch(m(yield n.app.vault.read(o)))})}function y(k){ct[k?"unshift":"push"](()=>{r=k,t(1,r)})}return i.$$set=k=>{"parentModal"in k&&t(0,n=k.parentModal)},[n,r,o,a,l,d,g,y]}var rs=class extends ge{constructor(e){super(),be(this,e,zu,Fu,ye,{parentModal:0},$u)}},dl=rs;var tr=class extends nr.Modal{constructor(t,n,r){super(t);this.file=n;this.syncthingController=r;this.d2hColorBlind=!1;this.conflictingFiles=[];this.conflictingFilesOrFailure=[];this.originalFile=n,this.conflictingFilesProperties=new Map}async onOpen(){if(this.modalEl.style.width="100%",this.modalEl.style.height="100%",{originalFile:this.originalFile,conflictingFiles:this.conflictingFilesOrFailure,conflictingFilesProperties:this.conflictingFilesProperties}=await this.syncthingController.getDiffFiles(this.file),this.conflictingFilesOrFailure instanceof pe){new nr.Notice(this.conflictingFilesOrFailure.message),this.close();return}this.conflictingFiles=this.conflictingFilesOrFailure,this.component=new dl({target:this.contentEl,props:{parentModal:this}})}onClose(){var n;let{contentEl:t}=this;(n=this.component)==null||n.$destroy(),t.empty()}};function Ou(i){Me(i,"svelte-x0g9xq",".divider.svelte-x0g9xq.svelte-x0g9xq{margin-top:10px;margin-bottom:10px;border-bottom:2px solid var(--background-modifier-border)}details.svelte-x0g9xq.svelte-x0g9xq{padding:1% 2%;border-radius:10px}details.svelte-x0g9xq.svelte-x0g9xq:hover{background-color:var(--background-modifier-hover)}summary.svelte-x0g9xq.svelte-x0g9xq{list-style:none;display:flex;flex-direction:row;justify-content:space-between;align-items:center}summary.svelte-x0g9xq>p.svelte-x0g9xq{display:flex;flex-direction:column}")}function pl(i,e,t){let n=i.slice();return n[5]=e[t],n[7]=t,n}function Pu(i){let e=i[3].filename+"",t;return{c(){t=z(e)},m(n,r){v(n,t,r)},p:Z,d(n){n&&b(t)}}}function Ru(i){let e=i[3].message+"",t;return{c(){t=z(e)},m(n,r){v(n,t,r)},p:Z,d(n){n&&b(t)}}}function Bu(i){let e;return{c(){e=p("div"),h(e,"class","divider svelte-x0g9xq")},m(t,n){v(t,e,n)},d(t){t&&b(e)}}}function gl(i){let e,t,n,r=i[7]!==0&&Bu(i);return t=new er({props:{file:i[5],counter:i[7]}}),{c(){r&&r.c(),e=_(),D(t.$$.fragment)},m(s,o){r&&r.m(s,o),v(s,e,o),N(t,s,o),n=!0},p(s,o){let a={};o&1&&(a.file=s[5]),t.$set(a)},i(s){n||(C(t.$$.fragment,s),n=!0)},o(s){S(t.$$.fragment,s),n=!1},d(s){s&&b(e),r&&r.d(s),A(t,s)}}}function Gu(i){let e,t,n,r,s,o,a,l=i[0].length+"",f,u,d=i[0].length>1?"s":"",m,g,y,k,x,M=i[0].length>1?"s":"",w,I,T,O,P;function F(E,H){return E[3]instanceof pe?Ru:Pu}let ee=F(i,-1)(i),Y=et(i[0]),W=[];for(let E=0;E<Y.length;E+=1)W[E]=gl(pl(i,Y,E));let G=E=>S(W[E],1,1,()=>{W[E]=null});return{c(){e=p("details"),t=p("summary"),n=p("p"),r=p("span"),ee.c(),s=_(),o=p("span"),a=z("("),f=z(l),u=z(" conflict"),m=z(d),g=z(")"),y=_(),k=p("button"),x=z("View conflict"),w=z(M),I=_();for(let E=0;E<W.length;E+=1)W[E].c();h(n,"class","svelte-x0g9xq"),h(k,"class","mod-cta"),h(t,"class","svelte-x0g9xq"),h(e,"class","svelte-x0g9xq")},m(E,H){v(E,e,H),c(e,t),c(t,n),c(n,r),ee.m(r,null),c(n,s),c(n,o),c(o,a),c(o,f),c(o,u),c(o,m),c(o,g),c(t,y),c(t,k),c(k,x),c(k,w),c(e,I);for(let L=0;L<W.length;L+=1)W[L]&&W[L].m(e,null);T=!0,O||(P=U(k,"click",i[4]),O=!0)},p(E,[H]){if(ee.p(E,H),(!T||H&1)&&l!==(l=E[0].length+"")&&re(f,l),(!T||H&1)&&d!==(d=E[0].length>1?"s":"")&&re(m,d),(!T||H&1)&&M!==(M=E[0].length>1?"s":"")&&re(w,M),H&1){Y=et(E[0]);let L;for(L=0;L<Y.length;L+=1){let J=pl(E,Y,L);W[L]?(W[L].p(J,H),C(W[L],1)):(W[L]=gl(J),W[L].c(),C(W[L],1),W[L].m(e,null))}for(Be(),L=Y.length;L<W.length;L+=1)G(L);Ge()}},i(E){if(!T){for(let H=0;H<Y.length;H+=1)C(W[H]);T=!0}},o(E){W=W.filter(Boolean);for(let H=0;H<W.length;H+=1)S(W[H]);T=!1},d(E){E&&b(e),ee.d(),xt(W,E),O=!1,P()}}}function Zu(i,e,t){let{conflicts:n}=e,{syncthingController:r}=e,{parentModal:s}=e,o=Xe(n[0].name);o instanceof pe&&console.error(o);let a=()=>new tr(s.app,n[0],r).open();return i.$$set=l=>{"conflicts"in l&&t(0,n=l.conflicts),"syncthingController"in l&&t(1,r=l.syncthingController),"parentModal"in l&&t(2,s=l.parentModal)},[n,r,s,o,a]}var ss=class extends ge{constructor(e){super(),be(this,e,Zu,Gu,ye,{conflicts:0,syncthingController:1,parentModal:2},Ou)}},ml=ss;function Wu(i){Me(i,"svelte-1drkksv",".divider.svelte-1drkksv{margin-top:10px;margin-bottom:10px;border-bottom:2px solid var(--background-modifier-border)}")}function hl(i,e,t){let n=i.slice();return n[5]=e[t],n[7]=t,n}function Qu(i){let e;return{c(){e=p("div"),h(e,"class","divider svelte-1drkksv")},m(t,n){v(t,e,n)},d(t){t&&b(e)}}}function yl(i){var s;let e,t,n,r=i[7]!==0&&Qu(i);return t=new ml({props:{conflicts:(s=i[0].get(i[5]))!=null?s:[],syncthingController:i[1].syncthingController,parentModal:i[1]}}),{c(){r&&r.c(),e=_(),D(t.$$.fragment)},m(o,a){r&&r.m(o,a),v(o,e,a),N(t,o,a),n=!0},p(o,a){var f;let l={};a&1&&(l.conflicts=(f=o[0].get(o[5]))!=null?f:[]),a&2&&(l.syncthingController=o[1].syncthingController),a&2&&(l.parentModal=o[1]),t.$set(l)},i(o){n||(C(t.$$.fragment,o),n=!0)},o(o){S(t.$$.fragment,o),n=!1},d(o){o&&b(e),r&&r.d(o),A(t,o)}}}function _l(i){let e,t,n=et(i[0].keys()),r=[];for(let o=0;o<n.length;o+=1)r[o]=yl(hl(i,n,o));let s=o=>S(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=pt()},m(o,a){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(o,a);v(o,e,a),t=!0},p(o,a){if(a&3){n=et(o[0].keys());let l;for(l=0;l<n.length;l+=1){let f=hl(o,n,l);r[l]?(r[l].p(f,a),C(r[l],1)):(r[l]=yl(f),r[l].c(),C(r[l],1),r[l].m(e.parentNode,e))}for(Be(),l=n.length;l<r.length;l+=1)s(l);Ge()}},i(o){if(!t){for(let a=0;a<n.length;a+=1)C(r[a]);t=!0}},o(o){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)S(r[a]);t=!1},d(o){o&&b(e),xt(r,o)}}}function Yu(i){let e,t,n=i[0],r,s,o=_l(i);return{c(){e=p("div"),t=_(),o.c(),r=pt()},m(a,l){v(a,e,l),i[3](e),v(a,t,l),o.m(a,l),v(a,r,l),s=!0},p(a,[l]){l&1&&ye(n,n=a[0])?(Be(),S(o,1,1,Z),Ge(),o=_l(a),o.c(),C(o,1),o.m(r.parentNode,r)):o.p(a,l)},i(a){s||(C(o),s=!0)},o(a){S(o),s=!1},d(a){a&&(b(e),b(t),b(r)),i[3](null),o.d(a)}}}function Ju(i,e,t){let{parentModal:n}=e,{conflicts:r}=e,s,o={recent:"Most recent",old:"Least recent","a-to-z":"A to Z","z-to-a":"Z to A"};it(()=>{new bl.Setting(s).setName("Sort by date").addDropdown(l=>{l.addOptions(o),l.onChange(f=>{t(0,r=mr(r,f,n.syncthingController)),console.log("dropdown",r)})}),t(0,r=mr(r,"recent",n.syncthingController))}),n.titleEl.setText("Syncthing Conflicts");function a(l){ct[l?"unshift":"push"](()=>{s=l,t(2,s)})}return i.$$set=l=>{"parentModal"in l&&t(1,n=l.parentModal),"conflicts"in l&&t(0,r=l.conflicts)},i.$$.update=()=>{i.$$.dirty&1&&r&&console.log("conflicts",r)},[r,n,s,a]}var os=class extends ge{constructor(e){super(),be(this,e,Ju,Yu,ye,{parentModal:1,conflicts:0},Wu)}},vl=os;var ir=class extends wl.Modal{constructor(t,n){super(t);this.syncthingController=n;this.components=[]}async onOpen(){var n,r;this.titleEl.style.textAlign="center";let t=await this.syncthingController.getConflicts();if(t instanceof pe){(n=this.components)==null||n.push(new Ki({target:this.contentEl,props:{failure:t}}));return}(r=this.components)==null||r.push(new vl({target:this.contentEl,props:{parentModal:this,conflicts:t}}))}onClose(){var n;(n=this.components)==null||n.forEach(r=>{r.$destroy()});let{contentEl:t}=this;t.empty()}};var kl=`data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjEwMCUiIHdpZHRoPSIxMDAlIiB2aWV3Qm94PSIwIDAg
NTEyIDUxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCgk8cmFkaWFsR3Jh
ZGllbnQgaWQ9ImxvZ28tYm90dG9tLWxlZnQiIGN4PSIwIiBjeT0iMCIgZ3JhZGllbnRUcmFuc2Zv
cm09Im1hdHJpeCgtNTkgLTIyNSAxNTAgLTM5IDE2MS40IDQ3MCkiIGdyYWRpZW50VW5pdHM9InVz
ZXJTcGFjZU9uVXNlIiByPSIxIj4NCgkJPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZm
IiBzdG9wLW9wYWNpdHk9Ii40Ii8+DQoJCTxzdG9wIG9mZnNldD0iMSIgc3RvcC1vcGFjaXR5PSIu
MSIvPg0KCTwvcmFkaWFsR3JhZGllbnQ+DQoJPHJhZGlhbEdyYWRpZW50IGlkPSJsb2dvLXRvcC1y
aWdodCIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDUwIC0zNzkgMjgw
IDM3IDM2MCAzNzQuMikiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiByPSIxIj4NCgkJ
PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii42Ii8+DQoJ
CTxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMSIvPg0K
CTwvcmFkaWFsR3JhZGllbnQ+DQoJPHJhZGlhbEdyYWRpZW50IGlkPSJsb2dvLXRvcC1sZWZ0IiBj
eD0iMCIgY3k9IjAiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoNjkgLTMxOSAyMTggNDcgMTc1
LjQgMzA3KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiPg0KCQk8c3RvcCBv
ZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjgiLz4NCgkJPHN0b3Ag
b2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii40Ii8+DQoJPC9yYWRp
YWxHcmFkaWVudD4NCgk8cmFkaWFsR3JhZGllbnQgaWQ9ImxvZ28tYm90dG9tLXJpZ2h0IiBjeD0i
MCIgY3k9IjAiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoLTk2IC0xNjMgMTg3IC0xMTEgMzM1
LjMgNTEyLjIpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcj0iMSI+DQoJCTxzdG9w
IG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1vcGFjaXR5PSIuMyIvPg0KCQk8c3Rv
cCBvZmZzZXQ9IjEiIHN0b3Atb3BhY2l0eT0iLjMiLz4NCgk8L3JhZGlhbEdyYWRpZW50Pg0KCTxy
YWRpYWxHcmFkaWVudCBpZD0ibG9nby10b3AtZWRnZSIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRy
YW5zZm9ybT0ibWF0cml4KC0zNiAxNjYgLTExMiAtMjQgMzEwIDEyOC4yKSIgZ3JhZGllbnRVbml0
cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiPg0KCQk8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9
IiNmZmYiIHN0b3Atb3BhY2l0eT0iMCIvPg0KCQk8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9
IiNmZmYiIHN0b3Atb3BhY2l0eT0iLjIiLz4NCgk8L3JhZGlhbEdyYWRpZW50Pg0KCTxyYWRpYWxH
cmFkaWVudCBpZD0ibG9nby1sZWZ0LWVkZ2UiIGN4PSIwIiBjeT0iMCIgZ3JhZGllbnRUcmFuc2Zv
cm09Im1hdHJpeCg4OCA4OSAtMTkwIDE4NyAxMTEgMjIwLjIpIiBncmFkaWVudFVuaXRzPSJ1c2Vy
U3BhY2VPblVzZSIgcj0iMSI+DQoJCTxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iI2ZmZiIg
c3RvcC1vcGFjaXR5PSIuMiIvPg0KCQk8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmYi
IHN0b3Atb3BhY2l0eT0iLjQiLz4NCgk8L3JhZGlhbEdyYWRpZW50Pg0KCTxyYWRpYWxHcmFkaWVu
dCBpZD0ibG9nby1ib3R0b20tZWRnZSIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0i
bWF0cml4KDkgMTMwIC0yNzYgMjAgMjE1IDI4NCkiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9u
VXNlIiByPSIxIj4NCgkJPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9w
YWNpdHk9Ii4yIi8+DQoJCTxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI2ZmZiIgc3RvcC1v
cGFjaXR5PSIuMyIvPg0KCTwvcmFkaWFsR3JhZGllbnQ+DQoJPHJhZGlhbEdyYWRpZW50IGlkPSJs
b2dvLW1pZGRsZS1lZGdlIiBjeD0iMCIgY3k9IjAiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgo
LTE5OCAtMTA0IDMyNyAtNjIzIDQwMCAzOTkuMikiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9u
VXNlIiByPSIxIj4NCgkJPHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9w
YWNpdHk9Ii4yIi8+DQoJCTxzdG9wIG9mZnNldD0iLjUiIHN0b3AtY29sb3I9IiNmZmYiIHN0b3At
b3BhY2l0eT0iLjIiLz4NCgkJPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9w
LW9wYWNpdHk9Ii4zIi8+DQoJPC9yYWRpYWxHcmFkaWVudD4NCgk8Y2xpcFBhdGggaWQ9ImNsaXAi
Pg0KCQk8cGF0aCBkPSJNLjIuMmg1MTJ2NTEySC4yeiIvPg0KCTwvY2xpcFBhdGg+DQoJPGcgY2xp
cC1wYXRoPSJ1cmwoI2NsaXApIj4NCgkJPHBhdGggZD0iTTM4Mi4zIDQ3NS42Yy0zLjEgMjMuNC0y
NiA0MS42LTQ4LjcgMzUuMy0zMi40LTguOS02OS45LTIyLjgtMTAzLjYtMjUuNGwtNTEuNy00YTM0
IDM0IDAgMCAxLTIyLTEwLjJsLTg5LTkxLjdhMzQgMzQgMCAwIDEtNi43LTM3LjdzNTUtMTIxIDU3
LjEtMTI3LjNjMi02LjMgOS42LTYxLjIgMTQtOTAuNiAxLjItNy45IDUtMTUgMTEtMjAuM0wyNDgg
OC45YTM0LjEgMzQuMSAwIDAgMSA0OS42IDQuM0wzODYgMTI1LjZhMzcgMzcgMCAwIDEgNy42IDIy
LjRjMCAyMS4zIDEuOCA2NSAxMy42IDkzLjIgMTEuNSAyNy4zIDMyLjUgNTcgNDMuNSA3MS41YTE3
LjMgMTcuMyAwIDAgMSAxLjMgMTkuMiAxNDk0IDE0OTQgMCAwIDEtNDQuOCA3MC42Yy0xNSAyMi4z
LTIxLjkgNDkuOS0yNSA3My4xeiIgZmlsbD0iIzZjMzFlMyIvPg0KCQk8cGF0aCBkPSJNMTY1Ljkg
NDc4LjNjNDEuNC04NCA0MC4yLTE0NC4yIDIyLjYtMTg3LTE2LjItMzkuNi00Ni4zLTY0LjUtNzAt
ODAtLjYgMi4zLTEuMyA0LjQtMi4yIDYuNUw2MC42IDM0MmEzNCAzNCAwIDAgMCA2LjYgMzcuN2w4
OS4xIDkxLjdhMzQgMzQgMCAwIDAgOS42IDd6IiBmaWxsPSJ1cmwoI2xvZ28tYm90dG9tLWxlZnQp
Ii8+DQoJCTxwYXRoIGQ9Ik0yNzguNCAzMDcuOGMxMS4yIDEuMiAyMi4yIDMuNiAzMi44IDcuNiAz
NCAxMi43IDY1IDQxLjIgOTAuNSA5Ni4zIDEuOC0zLjEgMy42LTYuMiA1LjYtOS4yYTE1MzYgMTUz
NiAwIDAgMCA0NC44LTcwLjYgMTcgMTcgMCAwIDAtMS4zLTE5LjJjLTExLTE0LjYtMzItNDQuMi00
My41LTcxLjUtMTEuOC0yOC4yLTEzLjUtNzItMTMuNi05My4yIDAtOC4xLTIuNi0xNi03LjYtMjIu
NEwyOTcuNiAxMy4yYTM0IDM0IDAgMCAwLTEuNS0xLjcgOTYgOTYgMCAwIDEgMiA1NCAxOTguMyAx
OTguMyAwIDAgMS0xNy42IDQxLjNsLTcuMiAxNC4yYTE3MSAxNzEgMCAwIDAtMTkuNCA3MWMtMS4y
IDI5LjQgNC44IDY2LjQgMjQuNSAxMTUuOHoiIGZpbGw9InVybCgjbG9nby10b3AtcmlnaHQpIi8+
DQoJCTxwYXRoIGQ9Ik0yNzguNCAzMDcuOGMtMTkuNy00OS40LTI1LjgtODYuNC0yNC41LTExNS45
YTE3MSAxNzEgMCAwIDEgMTkuNC03MWMyLjMtNC44IDQuOC05LjUgNy4yLTE0LjEgNy4xLTEzLjkg
MTQtMjcgMTcuNi00MS40YTk2IDk2IDAgMCAwLTItNTRBMzQuMSAzNC4xIDAgMCAwIDI0OCA5bC0x
MDUuNCA5NC44YTM0LjEgMzQuMSAwIDAgMC0xMC45IDIwLjNsLTEyLjggODUtLjUgMi4zYzIzLjgg
MTUuNSA1NCA0MC40IDcwLjEgODBhMTQ3IDE0NyAwIDAgMSA3LjggMjQuOGMyOC02LjggNTUuNy0x
MSA4Mi4xLTguM3oiIGZpbGw9InVybCgjbG9nby10b3AtbGVmdCkiLz4NCgkJPHBhdGggZD0iTTMz
My42IDUxMWMyMi43IDYuMiA0NS42LTEyIDQ4LjctMzUuNGExODcgMTg3IDAgMCAxIDE5LjQtNjMu
OWMtMjUuNi01NS01Ni41LTgzLjYtOTAuNC05Ni4zLTM2LTEzLjQtNzUuMi05LTExNSAuNyA4Ljkg
NDAuNCAzLjYgOTMuMy0zMC40IDE2Mi4yIDQgMS44IDguMSAzIDEyLjUgMy4zIDAgMCAyNC40IDIg
NTMuNiA0LjEgMjkgMiA3Mi40IDE3LjEgMTAxLjYgMjUuMnoiIGZpbGw9InVybCgjbG9nby1ib3R0
b20tcmlnaHQpIi8+DQoJCTxnIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbC1ydWxlPSJldmVub2Rk
Ij4NCgkJCTxwYXRoIGQ9Ik0yNTQuMSAxOTBjLTEuMyAyOS4yIDIuNCA2Mi44IDIyLjEgMTEyLjFs
LTYuMi0uNWMtMTcuNy01MS41LTIxLjUtNzgtMjAuMi0xMDcuNmExNzQuNyAxNzQuNyAwIDAgMSAy
MC40LTcyYzIuNC00LjkgOC0xNC4xIDEwLjUtMTguOCA3LjEtMTMuNyAxMS45LTIxIDE2LTMzLjYg
NS43LTE3LjUgNC41LTI1LjkgMy44LTM0LjEgNC42IDI5LjktMTIuNyA1Ni0yNS43IDgyLjRhMTc3
LjEgMTc3LjEgMCAwIDAtMjAuNyA3MnoiIGZpbGw9InVybCgjbG9nby10b3AtZWRnZSkiLz4NCgkJ
CTxwYXRoIGQ9Ik0xOTQuMyAyOTMuNGMyLjQgNS40IDQuNiA5LjggNiAxNi41TDE5NSAzMTFjLTIu
MS03LjgtMy44LTEzLjQtNi44LTIwLTE3LjgtNDItNDYuMy02My42LTY5LjctNzkuNSAyOC4yIDE1
LjIgNTcuMiAzOSA3NS43IDgxLjl6IiBmaWxsPSJ1cmwoI2xvZ28tbGVmdC1lZGdlKSIvPg0KCQkJ
PHBhdGggZD0iTTIwMC42IDMxNS4xYzkuOCA0Ni0xLjIgMTA0LjItMzMuNiAxNjAuOSAyNy4xLTU2
LjIgNDAuMi0xMTAuMSAyOS4zLTE2MHoiIGZpbGw9InVybCgjbG9nby1ib3R0b20tZWRnZSkiLz4N
CgkJCTxwYXRoIGQ9Ik0zMTIuNSAzMTFjNTMuMSAxOS45IDczLjYgNjMuNiA4OC45IDEwMC0xOS0z
OC4xLTQ1LjItODAuMy05MC44LTk2LTM0LjgtMTEuOC02NC4xLTEwLjQtMTE0LjMgMWwtMS4xLTVj
NTMuMi0xMi4xIDgxLTEzLjUgMTE3LjMgMHoiIGZpbGw9InVybCgjbG9nby1taWRkbGUtZWRnZSki
Lz4NCgkJPC9nPg0KCTwvZz4NCjwvc3ZnPg0K`,xl=`data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBB
ZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9u
OiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1s
bnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53
My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCA0MjkgMTE3
LjMiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDQyOSAxMTcuMyIgeG1sOnNwYWNlPSJwcmVz
ZXJ2ZSI+DQo8Zz4NCgk8bGluZWFyR3JhZGllbnQgaWQ9IlNWR0lEXzFfIiBncmFkaWVudFVuaXRz
PSJ1c2VyU3BhY2VPblVzZSIgeDE9IjU4LjY2NiIgeTE9IjExNy4zMzIiIHgyPSI1OC42NjYiIHky
PSItOS4wOTQ5NDdlLTEzIj4NCgkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6
IzA4ODJDOCIvPg0KCQk8c3RvcCAgb2Zmc2V0PSIxIiBzdHlsZT0ic3RvcC1jb2xvcjojMjZCNkRC
Ii8+DQoJPC9saW5lYXJHcmFkaWVudD4NCgk8Y2lyY2xlIGZpbGw9InVybCgjU1ZHSURfMV8pIiBj
eD0iNTguNyIgY3k9IjU4LjciIHI9IjU4LjciLz4NCgk8Zz4NCgkJPGNpcmNsZSBmaWxsPSJub25l
IiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iNiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEw
IiBjeD0iNTguNyIgY3k9IjU4LjUiIHI9IjQzLjciLz4NCgkJPGc+DQoJCQk8cGF0aCBmaWxsPSIj
RkZGRkZGIiBkPSJNOTQuNyw0Ny44YzQuNywxLjYsOS44LTAuOSwxMS40LTUuNmMxLjYtNC43LTAu
OS05LjgtNS42LTExLjRjLTQuNy0xLjYtOS44LDAuOS0xMS40LDUuNg0KCQkJCUM4Ny41LDQxLjEs
OTAsNDYuMiw5NC43LDQ3Ljh6Ii8+DQoJCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiNGRkZG
RkYiIHN0cm9rZS13aWR0aD0iNiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iOTcuNiIgeTE9
IjM5LjQiIHgyPSI2Ny41IiB5Mj0iNjQuNCIvPg0KCQk8L2c+DQoJCTxnPg0KCQkJPHBhdGggZmls
bD0iI0ZGRkZGRiIgZD0iTTc3LjYsOTFjLTAuNCw0LjksMy4yLDkuMyw4LjIsOS44YzUsMC40LDku
My0zLjIsOS44LTguMmMwLjQtNC45LTMuMi05LjMtOC4yLTkuOA0KCQkJCUM4Mi40LDgyLjQsNzgs
ODYsNzcuNiw5MXoiLz4NCgkJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ry
b2tlLXdpZHRoPSI2IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSI4Ni41IiB5MT0iOTEuOCIg
eDI9IjY3LjUiIHkyPSI2NC40Ii8+DQoJCTwvZz4NCgkJPHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0i
TTYwLDY5LjNjMi43LDQuMiw4LjMsNS40LDEyLjQsMi43YzQuMi0yLjcsNS40LTguMywyLjctMTIu
NGMtMi43LTQuMi04LjMtNS40LTEyLjQtMi43DQoJCQlDNTguNSw1OS41LDU3LjMsNjUuMSw2MCw2
OS4zeiIvPg0KCQk8Zz4NCgkJCTxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik0yMS4yLDYxLjRjLTQu
My0yLjUtOS44LTEuMS0xMi4zLDMuMWMtMi41LDQuMy0xLjEsOS44LDMuMSwxMi4zYzQuMywyLjUs
OS44LDEuMSwxMi4zLTMuMQ0KCQkJCUMyNi44LDY5LjUsMjUuNCw2NCwyMS4yLDYxLjR6Ii8+DQoJ
CQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iNiIgc3Ry
b2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMTYuNiIgeTE9IjY5LjEiIHgyPSI2Ny41IiB5Mj0iNjQu
NCIvPg0KCQk8L2c+DQoJPC9nPg0KPC9nPg0KPGc+DQoJPHBhdGggZmlsbD0iIzA4OTFEMSIgZD0i
TTE2My44LDUwLjJjLTAuNi0wLjctNi4zLTQuMS0xMS40LTQuMWMtMy40LDAtNS4yLDEuMi01LjIs
My41YzAsMi45LDMuMiwzLjcsOC45LDUuMg0KCQljOC4yLDIuMiwxMy4zLDUsMTMuMywxMi45YzAs
OS43LTcuOCwxMy0xNiwxM2MtNi4yLDAtMTMuMS0yLTE4LjItNS4zbDQuMy04LjZjMC44LDAuOCw3
LjUsNSwxNCw1YzMuNSwwLDUuMi0xLjEsNS4yLTMuMg0KCQljMC0zLjItNC40LTQtMTAuMy01Ljhj
LTcuOS0yLjQtMTEuNS01LjMtMTEuNS0xMS44YzAtOSw3LjItMTMuOSwxNS43LTEzLjljNi4xLDAs
MTEuNiwyLjUsMTUuNCw0LjdMMTYzLjgsNTAuMnoiLz4NCgk8cGF0aCBmaWxsPSIjMDg5MUQxIiBk
PSJNMTc1LDg1LjFjMS43LDAuNSwzLjMsMC44LDQuNCwwLjhjMiwwLDMuMy0xLjUsNC4yLTUuNWwt
MTEuOS0zMS41aDkuOGw3LjQsMjMuM2w2LjMtMjMuM2g4LjlsLTEyLjEsMzYuNg0KCQljLTEuNyw1
LjMtNi4yLDguNy0xMS44LDguOGMtMS43LDAtMy41LTAuMi01LjMtMC45Vjg1LjF6Ii8+DQoJPHBh
dGggZmlsbD0iIzA4OTFEMSIgZD0iTTIzOS4zLDgwLjNoLTkuNlY2Mi42YzAtNC4xLTEuNy01Ljkt
NC4zLTUuOWMtMi42LDAtNS44LDIuMy03LDUuNnYxOC4xaC05LjZWNDguOGg4LjZ2NS4zDQoJCWMy
LjMtMy43LDYuOC01LjksMTIuMi01LjljOC4yLDAsOS41LDYuNyw5LjUsMTEuOVY4MC4zeiIvPg0K
CTxwYXRoIGZpbGw9IiMwODkxRDEiIGQ9Ik0yNjEuNiw0OC4yYzcuMiwwLDEyLjMsMy40LDE0Ljgs
OC4zbC05LjQsMi44Yy0xLjItMS45LTMuMS0zLTUuNS0zYy00LDAtNywzLjItNyw4LjJjMCw1LDMu
MSw4LjMsNyw4LjMNCgkJYzIuNCwwLDQuNi0xLjMsNS41LTMuMWw5LjQsMi45Yy0yLjMsNC45LTcu
Niw4LjMtMTQuOCw4LjNjLTEwLjYsMC0xNi45LTcuNy0xNi45LTE2LjRTMjUwLjksNDguMiwyNjEu
Niw0OC4yeiIvPg0KCTxwYXRoIGZpbGw9IiMwODkxRDEiIGQ9Ik0zMDIuMSw3OC43Yy0yLjYsMS4x
LTYuMiwyLjMtOS43LDIuM2MtNC43LDAtOC44LTIuMy04LjgtOC40VjU2LjFoLTR2LTcuM2g0di0x
MGg5LjZ2MTBoNi40djcuM2gtNi40djEzLjENCgkJYzAsMi4xLDEuMiwyLjksMi44LDIuOWMxLjQs
MCwzLTAuNiw0LjItMS4xTDMwMi4xLDc4Ljd6Ii8+DQoJPHBhdGggZmlsbD0iIzA4OTFEMSIgZD0i
TTMzNy4yLDgwLjNoLTkuNlY2Mi42YzAtNC4xLTEuOC01LjktNC42LTUuOWMtMi4zLDAtNS41LDIu
Mi02LjcsNS42djE4LjFoLTkuNlYzNi41aDkuNnYxNy42DQoJCWMyLjMtMy43LDYuMy01LjksMTAu
OS01LjljOC41LDAsOS45LDYuNSw5LjksMTEuOVY4MC4zeiIvPg0KCTxwYXRoIGZpbGw9IiMwODkx
RDEiIGQ9Ik0zNDMuNCw0NS4ydi04LjdoOS42djguN0gzNDMuNHogTTM0My40LDgwLjNWNDguOGg5
LjZ2MzEuNUgzNDMuNHoiLz4NCgk8cGF0aCBmaWxsPSIjMDg5MUQxIiBkPSJNMzg5LjksODAuM2gt
OS42VjYyLjZjMC00LjEtMS43LTUuOS00LjMtNS45Yy0yLjYsMC01LjgsMi4zLTcsNS42djE4LjFo
LTkuNlY0OC44aDguNnY1LjMNCgkJYzIuMy0zLjcsNi44LTUuOSwxMi4yLTUuOWM4LjIsMCw5LjUs
Ni43LDkuNSwxMS45VjgwLjN6Ii8+DQoJPHBhdGggZmlsbD0iIzA4OTFEMSIgZD0iTTM5NS41LDY0
LjZjMC05LjIsNi0xNi4zLDE0LjYtMTYuM2M0LjcsMCw4LjQsMi4yLDEwLjYsNS44di01LjJoOC4z
djI5LjNjMCw5LjYtNy41LDE1LjUtMTguMiwxNS41DQoJCWMtNi44LDAtMTEuNS0yLjMtMTUtNi4z
bDUuMS01LjJjMi4zLDIuNiw2LDQuMyw5LjksNC4zYzQuNiwwLDguNi0yLjQsOC42LTguM3YtMy4x
Yy0xLjksMy41LTUuOSw1LjMtMTAsNS4zDQoJCUM0MDEuMSw4MC41LDM5NS41LDczLjMsMzk1LjUs
NjQuNnogTTQxOS40LDY4LjV2LTYuNmMtMS4zLTMuMy00LjItNS41LTcuMS01LjVjLTQuMSwwLTcs
NC03LDguNGMwLDQuNiwzLjIsOCw3LjUsOA0KCQlDNDE1LjcsNzIuOCw0MTguMSw3MSw0MTkuNCw2
OC41eiIvPg0KPC9nPg0KPC9zdmc+DQo=`,Cl=`
<!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
	xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 117.3 117.3"
	enable-background="new 0 0 117.3 117.3" xml:space="preserve">
<g>
	<linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="58.666" y1="117.332" x2="58.666" y2="0">
		<stop offset="0" style="stop-color:#0882C8"/>
		<stop offset="1" style="stop-color:#26B6DB"/>
	</linearGradient>
	<circle fill="url(#SVGID_1_)" cx="58.7" cy="58.7" r="58.7"/>
	<g>
		<circle fill="none" stroke="#FFFFFF" stroke-width="6" stroke-miterlimit="10" cx="58.7" cy="58.5" r="43.7"/>
		<g>
			<path fill="#FFFFFF" d="M94.7,47.8c4.7,1.6,9.8-0.9,11.4-5.6c1.6-4.7-0.9-9.8-5.6-11.4c-4.7-1.6-9.8,0.9-11.4,5.6     C87.5,41.1,90,46.2,94.7,47.8z"/>
			<line fill="none" stroke="#FFFFFF" stroke-width="6" stroke-miterlimit="10" x1="97.6" y1="39.4" x2="67.5" y2="64.4"/>
		</g>
		<g>
			<path fill="#FFFFFF" d="M77.6,91c-0.4,4.9,3.2,9.3,8.2,9.8c5,0.4,9.3-3.2,9.8-8.2c0.4-4.9-3.2-9.3-8.2-9.8     C82.4,82.4,78,86,77.6,91z"/>
			<line fill="none" stroke="#FFFFFF" stroke-width="6" stroke-miterlimit="10" x1="86.5" y1="91.8" x2="67.5" y2="64.4"/>
		</g>
		<path fill="#FFFFFF" d="M60,69.3c2.7,4.2,8.3,5.4,12.4,2.7c4.2-2.7,5.4-8.3,2.7-12.4c-2.7-4.2-8.3-5.4-12.4-2.7    C58.5,59.5,57.3,65.1,60,69.3z"/>
		<g>
			<path fill="#FFFFFF" d="M21.2,61.4c-4.3-2.5-9.8-1.1-12.3,3.1c-2.5,4.3-1.1,9.8,3.1,12.3c4.3,2.5,9.8,1.1,12.3-3.1     C26.8,69.5,25.4,64,21.2,61.4z"/>
			<line fill="none" stroke="#FFFFFF" stroke-width="6" stroke-miterlimit="10" x1="16.6" y1="69.1" x2="67.5" y2="64.4"/>
		</g>
	</g>
</g>
</svg>
`;var Ft=require("obsidian");var Fe=require("obsidian");var Il=require("obsidian");function Uu(i){let e,t=[i[1],{style:"display: flex;"}],n={};for(let r=0;r<t.length;r+=1)n=kt(n,t[r]);return{c(){e=p("div"),gn(e,n)},m(r,s){v(r,e,s),i[3](e)},p(r,[s]){gn(e,n=Di(t,[s&2&&r[1],{style:"display: flex;"}]))},i:Z,o:Z,d(r){r&&b(e),i[3](null)}}}function Hu(i,e,t){let n=["name"],r=pn(e,n),s,{name:o}=e;it(()=>{let l=(0,Il.getIcon)(o);l&&s.appendChild(l)});function a(l){ct[l?"unshift":"push"](()=>{s=l,t(0,s)})}return i.$$set=l=>{e=kt(kt({},e),$i(l)),t(1,r=pn(e,n)),"name"in l&&t(2,o=l.name)},[s,r,o,a]}var ls=class extends ge{constructor(e){super(),be(this,e,Hu,Uu,ye,{name:2})}},Q=ls;function qu(i){Me(i,"svelte-1iic7l7",".error.svelte-1iic7l7{color:var(--text-error)}")}var Vu=i=>({}),Ml=i=>({}),Xu=i=>({}),Sl=i=>({}),Ku=i=>({}),$l=i=>({});function ef(i){let e;return{c(){e=z(i[0])},m(t,n){v(t,e,n)},p(t,n){n&1&&re(e,t[0])},d(t){t&&b(e)}}}function tf(i){let e;return{c(){e=z(i[1])},m(t,n){v(t,e,n)},p(t,n){n&2&&re(e,t[1])},d(t){t&&b(e)}}}function nf(i){let e,t,n,r,s,o,a,l,f,u=i[6].name,d=Wt(u,i,i[5],$l),m=d||ef(i),g=i[6].description,y=Wt(g,i,i[5],Sl),k=y||tf(i),x=i[6].control,M=Wt(x,i,i[5],Ml);return{c(){e=p("div"),t=p("div"),n=p("div"),m&&m.c(),r=_(),s=p("div"),k&&k.c(),o=_(),a=p("div"),M&&M.c(),h(n,"class","setting-item-name svelte-1iic7l7"),gt(n,"error",i[3]),h(s,"class","setting-item-description svelte-1iic7l7"),gt(s,"error",i[3]),h(t,"class","setting-item-info"),h(a,"class","setting-item-control"),h(e,"class",l="setting-item "+i[4]+" svelte-1iic7l7"),gt(e,"setting-item-heading",i[2])},m(w,I){v(w,e,I),c(e,t),c(t,n),m&&m.m(n,null),c(t,r),c(t,s),k&&k.m(s,null),c(e,o),c(e,a),M&&M.m(a,null),f=!0},p(w,[I]){d?d.p&&(!f||I&32)&&Yt(d,u,w,w[5],f?Qt(u,w[5],I,Ku):Jt(w[5]),$l):m&&m.p&&(!f||I&1)&&m.p(w,f?I:-1),(!f||I&8)&&gt(n,"error",w[3]),y?y.p&&(!f||I&32)&&Yt(y,g,w,w[5],f?Qt(g,w[5],I,Xu):Jt(w[5]),Sl):k&&k.p&&(!f||I&2)&&k.p(w,f?I:-1),(!f||I&8)&&gt(s,"error",w[3]),M&&M.p&&(!f||I&32)&&Yt(M,x,w,w[5],f?Qt(x,w[5],I,Vu):Jt(w[5]),Ml),(!f||I&16&&l!==(l="setting-item "+w[4]+" svelte-1iic7l7"))&&h(e,"class",l),(!f||I&20)&&gt(e,"setting-item-heading",w[2])},i(w){f||(C(m,w),C(k,w),C(M,w),f=!0)},o(w){S(m,w),S(k,w),S(M,w),f=!1},d(w){w&&b(e),m&&m.d(w),k&&k.d(w),M&&M.d(w)}}}function rf(i,e,t){let{$$slots:n={},$$scope:r}=e,{name:s=""}=e,{description:o=""}=e,{heading:a=!1}=e,{error:l=!1}=e,{class:f=""}=e;return i.$$set=u=>{"name"in u&&t(0,s=u.name),"description"in u&&t(1,o=u.description),"heading"in u&&t(2,a=u.heading),"error"in u&&t(3,l=u.error),"class"in u&&t(4,f=u.class),"$$scope"in u&&t(5,r=u.$$scope)},[s,o,a,l,f,r,n]}var as=class extends ge{constructor(e){super(),be(this,e,rf,nf,ye,{name:0,description:1,heading:2,error:3,class:4},qu)}},Je=as;var Tl=require("obsidian");function sf(i){let e,t=[i[1]],n={};for(let r=0;r<t.length;r+=1)n=kt(n,t[r]);return{c(){e=p("div"),gn(e,n)},m(r,s){v(r,e,s),i[3](e)},p(r,[s]){gn(e,n=Di(t,[s&2&&r[1]]))},i:Z,o:Z,d(r){r&&b(e),i[3](null)}}}function of(i,e,t){let n=["callback"],r=pn(e,n),{callback:s}=e,o;it(()=>{new Tl.ToggleComponent(o).onChange(s)});function a(l){ct[l?"unshift":"push"](()=>{o=l,t(0,o)})}return i.$$set=l=>{e=kt(kt({},e),$i(l)),t(1,r=pn(e,n)),"callback"in l&&t(2,s=l.callback)},[o,r,s,a]}var cs=class extends ge{constructor(e){super(),be(this,e,of,sf,ye,{callback:2})}},Ll=cs;var Zl=require("obsidian");var tn=require("obsidian");var $t=require("obsidian");function lf(i){Me(i,"svelte-8fgumz","details.svelte-8fgumz.svelte-8fgumz{padding:1%;border-radius:var(--radius-l)}details.svelte-8fgumz.svelte-8fgumz:hover{background-color:var(--background-modifier-hover)}summary.svelte-8fgumz.svelte-8fgumz{list-style:none;display:flex;flex-direction:row;align-items:center;gap:0.5em;height:fit-content;background-color:var(--background-secondary-alt);padding:1% 2%;border-radius:var(--radius-m)}details[open].svelte-8fgumz summary.svelte-8fgumz{border-radius:0;border-top-left-radius:var(--radius-m);border-top-right-radius:var(--radius-m)}table.svelte-8fgumz.svelte-8fgumz{width:100%;background-color:var(--background-primary);border-collapse:collapse;border-spacing:0;padding:1%;border-radius:var(--radius-l)}table.svelte-8fgumz>tr:last-child td.svelte-8fgumz:first-child{border-bottom-left-radius:var(--radius-m)}table.svelte-8fgumz>tr:last-child td.svelte-8fgumz:last-child{border-bottom-right-radius:var(--radius-m)}table.svelte-8fgumz tr td.svelte-8fgumz{padding:0.5em}tr.svelte-8fgumz.svelte-8fgumz:active,td.svelte-8fgumz.svelte-8fgumz:active{position:static;background:none;width:auto;transition:none;transform:none;border-radius:0}table.svelte-8fgumz tr td div.svelte-8fgumz{vertical-align:middle;display:inline-flex;align-items:center;gap:0.5em}table.svelte-8fgumz tr td.svelte-8fgumz:first-child{text-align:start;display:table-cell}table.svelte-8fgumz tr td.svelte-8fgumz:last-child{text-align:end}table.svelte-8fgumz tr.svelte-8fgumz:nth-child(odd){background-color:var(--background-primary-alt)}table.svelte-8fgumz tr.svelte-8fgumz:nth-child(even){background-color:var(--background-secondary)}")}var af=i=>({}),Nl=i=>({class:"footer"}),cf=i=>({}),Al=i=>({});function uf(i){var a,l,f;let e,t,n,r=((f=(a=i[1])==null?void 0:a.name)!=null?f:(l=i[1])==null?void 0:l.deviceID)+"",s,o;return e=new Q({props:{name:"hard-drive"}}),{c(){D(e.$$.fragment),t=_(),n=p("span"),s=z(r)},m(u,d){N(e,u,d),v(u,t,d),v(u,n,d),c(n,s),o=!0},p(u,d){var m,g,y;(!o||d&2)&&r!==(r=((y=(m=u[1])==null?void 0:m.name)!=null?y:(g=u[1])==null?void 0:g.deviceID)+"")&&re(s,r)},i(u){o||(C(e.$$.fragment,u),o=!0)},o(u){S(e.$$.fragment,u),o=!1},d(u){u&&(b(t),b(n)),A(e,u)}}}function ff(i){let e,t,n,r,s,o,a,l,f,u,d,m,g,y,k,x,M,w,I,T,O,P,F,R,ee,Y,W,G,E,H,L,J,$,j,me,ke,he,fe,q,Se,_e,de,V,X,Ie,ae,ze,Le,Oe,ot,$e,Ve,Pe,Ue,Ne,We,Qe,se,Te,Ye,ve,lt,Re,we=i[1].deviceID.slice(0,7)+"",vt,B,oe,Ae,ne,qe,wt,_t,Cn,Tt,Lt,Nt,nn;return r=new Q({props:{name:"download-cloud"}}),g=new Q({props:{name:"upload-cloud"}}),P=new Q({props:{name:"home"}}),L=new Q({props:{name:"network"}}),Se=new Q({props:{name:"milestone"}}),Oe=new Q({props:{name:"clock-9"}}),se=new Q({props:{name:"qr-code"}}),qe=new Q({props:{name:"tag"}}),{c(){e=p("tr"),t=p("td"),n=p("div"),D(r.$$.fragment),s=_(),o=p("span"),o.textContent="Download Rate",a=_(),l=p("td"),l.innerHTML='<a href="/" style="color: inherit;">0 B/s (0 B)</a>',f=_(),u=p("tr"),d=p("td"),m=p("div"),D(g.$$.fragment),y=_(),k=p("span"),k.textContent="Upload Rate",x=_(),M=p("td"),M.innerHTML='<a href="/" style="color: inherit;">0 B/s (0 B)</a>',w=_(),I=p("tr"),T=p("td"),O=p("div"),D(P.$$.fragment),F=_(),R=p("span"),R.textContent="Local State (Total)",ee=_(),Y=p("td"),Y.innerHTML="<span>Files: 100, Folders: 50, Storage: ~40 MiB</span>",W=_(),G=p("tr"),E=p("td"),H=p("div"),D(L.$$.fragment),J=_(),$=p("span"),$.textContent="Listeners",j=_(),me=p("td"),me.innerHTML="<span>3/3</span>",ke=_(),he=p("tr"),fe=p("td"),q=p("div"),D(Se.$$.fragment),_e=_(),de=p("span"),de.textContent="Discovery",V=_(),X=p("td"),X.innerHTML="<span>4/5</span>",Ie=_(),ae=p("tr"),ze=p("td"),Le=p("div"),D(Oe.$$.fragment),ot=_(),$e=p("span"),$e.textContent="Uptime",Ve=_(),Pe=p("td"),Pe.innerHTML="<span>10h 23m</span>",Ue=_(),Ne=p("tr"),We=p("td"),Qe=p("div"),D(se.$$.fragment),Te=_(),Ye=p("span"),Ye.textContent="Identification",ve=_(),lt=p("td"),Re=p("a"),vt=z(we),B=_(),oe=p("tr"),Ae=p("td"),ne=p("div"),D(qe.$$.fragment),wt=_(),_t=p("span"),_t.textContent="Version",Cn=_(),Tt=p("td"),Tt.innerHTML="<span>v1.23.7, Windows, blabla</span>",h(n,"class","svelte-8fgumz"),h(t,"class","svelte-8fgumz"),h(l,"class","svelte-8fgumz"),h(e,"class","svelte-8fgumz"),h(m,"class","svelte-8fgumz"),h(d,"class","svelte-8fgumz"),h(M,"class","svelte-8fgumz"),h(u,"class","svelte-8fgumz"),h(O,"class","svelte-8fgumz"),h(T,"class","svelte-8fgumz"),h(Y,"class","svelte-8fgumz"),h(I,"class","svelte-8fgumz"),h(H,"class","svelte-8fgumz"),h(E,"class","svelte-8fgumz"),h(me,"class","svelte-8fgumz"),h(G,"class","svelte-8fgumz"),h(q,"class","svelte-8fgumz"),h(fe,"class","svelte-8fgumz"),h(X,"class","svelte-8fgumz"),h(he,"class","svelte-8fgumz"),h(Le,"class","svelte-8fgumz"),h(ze,"class","svelte-8fgumz"),h(Pe,"class","svelte-8fgumz"),h(ae,"class","svelte-8fgumz"),h(Qe,"class","svelte-8fgumz"),h(We,"class","svelte-8fgumz"),h(Re,"href","/"),h(lt,"class","svelte-8fgumz"),h(Ne,"class","svelte-8fgumz"),h(ne,"class","svelte-8fgumz"),h(Ae,"class","svelte-8fgumz"),h(Tt,"class","svelte-8fgumz"),h(oe,"class","svelte-8fgumz")},m(le,De){v(le,e,De),c(e,t),c(t,n),N(r,n,null),c(n,s),c(n,o),c(e,a),c(e,l),v(le,f,De),v(le,u,De),c(u,d),c(d,m),N(g,m,null),c(m,y),c(m,k),c(u,x),c(u,M),v(le,w,De),v(le,I,De),c(I,T),c(T,O),N(P,O,null),c(O,F),c(O,R),c(I,ee),c(I,Y),v(le,W,De),v(le,G,De),c(G,E),c(E,H),N(L,H,null),c(H,J),c(H,$),c(G,j),c(G,me),v(le,ke,De),v(le,he,De),c(he,fe),c(fe,q),N(Se,q,null),c(q,_e),c(q,de),c(he,V),c(he,X),v(le,Ie,De),v(le,ae,De),c(ae,ze),c(ze,Le),N(Oe,Le,null),c(Le,ot),c(Le,$e),c(ae,Ve),c(ae,Pe),v(le,Ue,De),v(le,Ne,De),c(Ne,We),c(We,Qe),N(se,Qe,null),c(Qe,Te),c(Qe,Ye),c(Ne,ve),c(Ne,lt),c(lt,Re),c(Re,vt),v(le,B,De),v(le,oe,De),c(oe,Ae),c(Ae,ne),N(qe,ne,null),c(ne,wt),c(ne,_t),c(oe,Cn),c(oe,Tt),Lt=!0,Nt||(nn=U(Re,"click",i[6]),Nt=!0)},p(le,De){(!Lt||De&2)&&we!==(we=le[1].deviceID.slice(0,7)+"")&&re(vt,we)},i(le){Lt||(C(r.$$.fragment,le),C(g.$$.fragment,le),C(P.$$.fragment,le),C(L.$$.fragment,le),C(Se.$$.fragment,le),C(Oe.$$.fragment,le),C(se.$$.fragment,le),C(qe.$$.fragment,le),Lt=!0)},o(le){S(r.$$.fragment,le),S(g.$$.fragment,le),S(P.$$.fragment,le),S(L.$$.fragment,le),S(Se.$$.fragment,le),S(Oe.$$.fragment,le),S(se.$$.fragment,le),S(qe.$$.fragment,le),Lt=!1},d(le){le&&(b(e),b(f),b(u),b(w),b(I),b(W),b(G),b(ke),b(he),b(Ie),b(ae),b(Ue),b(Ne),b(B),b(oe)),A(r),A(g),A(P),A(L),A(Se),A(Oe),A(se),A(qe),Nt=!1,nn()}}}function df(i){let e,t,n,r,s,o,a,l,f,u,d,m,g,y,k,x,M,w,I,T,O,P,F,R,ee,Y,W,G,E=i[1].address.join(", ")+"",H,L,J,$,j,me,ke,he,fe,q,Se,_e=i[1].deviceID.slice(0,7)+"",de,V,X,Ie,ae,ze,Le,Oe,ot,$e,Ve,Pe=i[1].name+"",Ue,Ne,We,Qe;return r=new Q({props:{name:"eye"}}),y=new Q({props:{name:"cloud"}}),F=new Q({props:{name:"link"}}),me=new Q({props:{name:"qr-code"}}),ze=new Q({props:{name:"folder"}}),{c(){e=p("tr"),t=p("td"),n=p("div"),D(r.$$.fragment),s=_(),o=p("span"),o.textContent="Last seen",a=_(),l=p("td"),f=p("span"),f.textContent=`${new Date().toString()}`,u=_(),d=p("tr"),m=p("td"),g=p("div"),D(y.$$.fragment),k=_(),x=p("span"),x.textContent="Sync Status",M=_(),w=p("td"),w.innerHTML="<span>up to date</span>",I=_(),T=p("tr"),O=p("td"),P=p("div"),D(F.$$.fragment),R=_(),ee=p("span"),ee.textContent="Addresses",Y=_(),W=p("td"),G=p("span"),H=z(E),L=_(),J=p("tr"),$=p("td"),j=p("div"),D(me.$$.fragment),ke=_(),he=p("span"),he.textContent="Identification",fe=_(),q=p("td"),Se=p("a"),de=z(_e),V=_(),X=p("tr"),Ie=p("td"),ae=p("div"),D(ze.$$.fragment),Le=_(),Oe=p("span"),Oe.textContent="Folders",ot=_(),$e=p("td"),Ve=p("span"),Ue=z(Pe),h(n,"class","svelte-8fgumz"),h(t,"class","svelte-8fgumz"),h(l,"class","svelte-8fgumz"),h(e,"class","svelte-8fgumz"),h(g,"class","svelte-8fgumz"),h(m,"class","svelte-8fgumz"),h(w,"class","svelte-8fgumz"),h(d,"class","svelte-8fgumz"),h(P,"class","svelte-8fgumz"),h(O,"class","svelte-8fgumz"),h(W,"class","svelte-8fgumz"),h(T,"class","svelte-8fgumz"),h(j,"class","svelte-8fgumz"),h($,"class","svelte-8fgumz"),h(Se,"href","/"),h(q,"class","svelte-8fgumz"),h(J,"class","svelte-8fgumz"),h(ae,"class","svelte-8fgumz"),h(Ie,"class","svelte-8fgumz"),h($e,"class","svelte-8fgumz"),h(X,"class","svelte-8fgumz")},m(se,Te){v(se,e,Te),c(e,t),c(t,n),N(r,n,null),c(n,s),c(n,o),c(e,a),c(e,l),c(l,f),v(se,u,Te),v(se,d,Te),c(d,m),c(m,g),N(y,g,null),c(g,k),c(g,x),c(d,M),c(d,w),v(se,I,Te),v(se,T,Te),c(T,O),c(O,P),N(F,P,null),c(P,R),c(P,ee),c(T,Y),c(T,W),c(W,G),c(G,H),v(se,L,Te),v(se,J,Te),c(J,$),c($,j),N(me,j,null),c(j,ke),c(j,he),c(J,fe),c(J,q),c(q,Se),c(Se,de),v(se,V,Te),v(se,X,Te),c(X,Ie),c(Ie,ae),N(ze,ae,null),c(ae,Le),c(ae,Oe),c(X,ot),c(X,$e),c($e,Ve),c(Ve,Ue),Ne=!0,We||(Qe=U(Se,"click",i[5]),We=!0)},p(se,Te){(!Ne||Te&2)&&E!==(E=se[1].address.join(", ")+"")&&re(H,E),(!Ne||Te&2)&&_e!==(_e=se[1].deviceID.slice(0,7)+"")&&re(de,_e),(!Ne||Te&2)&&Pe!==(Pe=se[1].name+"")&&re(Ue,Pe)},i(se){Ne||(C(r.$$.fragment,se),C(y.$$.fragment,se),C(F.$$.fragment,se),C(me.$$.fragment,se),C(ze.$$.fragment,se),Ne=!0)},o(se){S(r.$$.fragment,se),S(y.$$.fragment,se),S(F.$$.fragment,se),S(me.$$.fragment,se),S(ze.$$.fragment,se),Ne=!1},d(se){se&&(b(e),b(u),b(d),b(I),b(T),b(L),b(J),b(V),b(X)),A(r),A(y),A(F),A(me),A(ze),We=!1,Qe()}}}function pf(i){let e,t,n,r,s,o,a,l,f,u=i[0].id+"",d,m,g,y,k,x,M,w,I,T,O,P=i[0].path+"",F,R,ee,Y,W,G,E,H,L,J,$,j,me,ke,he,fe,q,Se,_e,de,V,X,Ie,ae,ze,Le,Oe,ot,$e,Ve,Pe,Ue,Ne,We,Qe,se,Te,Ye,ve,lt,Re,we,vt,B,oe,Ae,ne,qe,wt,_t,Cn,Tt,Lt,Nt,nn,le=i[0].devices.map(Dl).join(", ")+"",De,lr,Ot,qn,rn,sn,ys,ar,_s,Vn,cr,ur,Pt,Xn,on,ln,bs,fr,vs,Kn,dr,Rt;return r=new Q({props:{name:"info"}}),x=new Q({props:{name:"folder"}}),G=new Q({props:{name:"globe-2"}}),he=new Q({props:{name:"home"}}),ae=new Q({props:{name:"refresh-cw"}}),Ve=new Q({props:{name:"clock-9"}}),We=new Q({props:{name:"eye"}}),Re=new Q({props:{name:"file"}}),_t=new Q({props:{name:"share-2"}}),sn=new Q({props:{name:"clock-9"}}),ln=new Q({props:{name:"arrow-left-right"}}),{c(){e=p("tr"),t=p("td"),n=p("div"),D(r.$$.fragment),s=_(),o=p("span"),o.textContent="Folder ID",a=_(),l=p("td"),f=p("span"),d=z(u),m=_(),g=p("tr"),y=p("td"),k=p("div"),D(x.$$.fragment),M=_(),w=p("span"),w.textContent="Folder Path",I=_(),T=p("td"),O=p("span"),F=z(P),R=_(),ee=p("tr"),Y=p("td"),W=p("div"),D(G.$$.fragment),E=_(),H=p("span"),H.textContent="Global State",L=_(),J=p("td"),J.innerHTML="<span>Files: 100, Folders: 50, Storage: ~40 MiB</span>",$=_(),j=p("tr"),me=p("td"),ke=p("div"),D(he.$$.fragment),fe=_(),q=p("span"),q.textContent="Local State",Se=_(),_e=p("td"),_e.innerHTML="<span>Files: 100, Folders: 50, Storage: ~40 MiB</span>",de=_(),V=p("tr"),X=p("td"),Ie=p("div"),D(ae.$$.fragment),ze=_(),Le=p("span"),Le.textContent="Rescans",Oe=_(),ot=p("td"),$e=p("div"),D(Ve.$$.fragment),Pe=_(),Ue=p("span"),Ue.textContent="1h",Ne=_(),D(We.$$.fragment),Qe=_(),se=p("span"),se.textContent="Enabled",Te=_(),Ye=p("tr"),ve=p("td"),lt=p("div"),D(Re.$$.fragment),we=_(),vt=p("span"),vt.textContent="File Versioning",B=_(),oe=p("td"),oe.innerHTML="<span>Staggered</span>",Ae=_(),ne=p("tr"),qe=p("td"),wt=p("div"),D(_t.$$.fragment),Cn=_(),Tt=p("span"),Tt.textContent="Shared With",Lt=_(),Nt=p("td"),nn=p("span"),De=z(le),lr=_(),Ot=p("tr"),qn=p("td"),rn=p("div"),D(sn.$$.fragment),ys=_(),ar=p("span"),ar.textContent="Last Scan",_s=_(),Vn=p("td"),cr=p("span"),cr.textContent=`${new Date().toISOString()}`,ur=_(),Pt=p("tr"),Xn=p("td"),on=p("div"),D(ln.$$.fragment),bs=_(),fr=p("span"),fr.textContent="Latest Change",vs=_(),Kn=p("td"),dr=p("span"),dr.textContent="Updated <filename>.ext",h(n,"class","svelte-8fgumz"),h(t,"class","svelte-8fgumz"),h(l,"class","svelte-8fgumz"),h(e,"class","svelte-8fgumz"),h(k,"class","svelte-8fgumz"),h(y,"class","svelte-8fgumz"),h(T,"class","svelte-8fgumz"),h(g,"class","svelte-8fgumz"),h(W,"class","svelte-8fgumz"),h(Y,"class","svelte-8fgumz"),h(J,"class","svelte-8fgumz"),h(ee,"class","svelte-8fgumz"),h(ke,"class","svelte-8fgumz"),h(me,"class","svelte-8fgumz"),h(_e,"class","svelte-8fgumz"),h(j,"class","svelte-8fgumz"),h(Ie,"class","svelte-8fgumz"),h(X,"class","svelte-8fgumz"),h($e,"class","svelte-8fgumz"),h(ot,"class","svelte-8fgumz"),h(V,"class","svelte-8fgumz"),h(lt,"class","svelte-8fgumz"),h(ve,"class","svelte-8fgumz"),h(oe,"class","svelte-8fgumz"),h(Ye,"class","svelte-8fgumz"),h(wt,"class","svelte-8fgumz"),h(qe,"class","svelte-8fgumz"),h(Nt,"class","svelte-8fgumz"),h(ne,"class","svelte-8fgumz"),h(rn,"class","svelte-8fgumz"),h(qn,"class","svelte-8fgumz"),h(Vn,"class","svelte-8fgumz"),h(Ot,"class","svelte-8fgumz"),h(on,"class","svelte-8fgumz"),h(Xn,"class","svelte-8fgumz"),h(Kn,"class","svelte-8fgumz"),h(Pt,"class","svelte-8fgumz")},m(te,je){v(te,e,je),c(e,t),c(t,n),N(r,n,null),c(n,s),c(n,o),c(e,a),c(e,l),c(l,f),c(f,d),v(te,m,je),v(te,g,je),c(g,y),c(y,k),N(x,k,null),c(k,M),c(k,w),c(g,I),c(g,T),c(T,O),c(O,F),v(te,R,je),v(te,ee,je),c(ee,Y),c(Y,W),N(G,W,null),c(W,E),c(W,H),c(ee,L),c(ee,J),v(te,$,je),v(te,j,je),c(j,me),c(me,ke),N(he,ke,null),c(ke,fe),c(ke,q),c(j,Se),c(j,_e),v(te,de,je),v(te,V,je),c(V,X),c(X,Ie),N(ae,Ie,null),c(Ie,ze),c(Ie,Le),c(V,Oe),c(V,ot),c(ot,$e),N(Ve,$e,null),c($e,Pe),c($e,Ue),c($e,Ne),N(We,$e,null),c($e,Qe),c($e,se),v(te,Te,je),v(te,Ye,je),c(Ye,ve),c(ve,lt),N(Re,lt,null),c(lt,we),c(lt,vt),c(Ye,B),c(Ye,oe),v(te,Ae,je),v(te,ne,je),c(ne,qe),c(qe,wt),N(_t,wt,null),c(wt,Cn),c(wt,Tt),c(ne,Lt),c(ne,Nt),c(Nt,nn),c(nn,De),v(te,lr,je),v(te,Ot,je),c(Ot,qn),c(qn,rn),N(sn,rn,null),c(rn,ys),c(rn,ar),c(Ot,_s),c(Ot,Vn),c(Vn,cr),v(te,ur,je),v(te,Pt,je),c(Pt,Xn),c(Xn,on),N(ln,on,null),c(on,bs),c(on,fr),c(Pt,vs),c(Pt,Kn),c(Kn,dr),Rt=!0},p(te,je){(!Rt||je&1)&&u!==(u=te[0].id+"")&&re(d,u),(!Rt||je&1)&&P!==(P=te[0].path+"")&&re(F,P),(!Rt||je&1)&&le!==(le=te[0].devices.map(Dl).join(", ")+"")&&re(De,le)},i(te){Rt||(C(r.$$.fragment,te),C(x.$$.fragment,te),C(G.$$.fragment,te),C(he.$$.fragment,te),C(ae.$$.fragment,te),C(Ve.$$.fragment,te),C(We.$$.fragment,te),C(Re.$$.fragment,te),C(_t.$$.fragment,te),C(sn.$$.fragment,te),C(ln.$$.fragment,te),Rt=!0)},o(te){S(r.$$.fragment,te),S(x.$$.fragment,te),S(G.$$.fragment,te),S(he.$$.fragment,te),S(ae.$$.fragment,te),S(Ve.$$.fragment,te),S(We.$$.fragment,te),S(Re.$$.fragment,te),S(_t.$$.fragment,te),S(sn.$$.fragment,te),S(ln.$$.fragment,te),Rt=!1},d(te){te&&(b(e),b(m),b(g),b(R),b(ee),b($),b(j),b(de),b(V),b(Te),b(Ye),b(Ae),b(ne),b(lr),b(Ot),b(ur),b(Pt)),A(r),A(x),A(G),A(he),A(ae),A(Ve),A(We),A(Re),A(_t),A(sn),A(ln)}}}function gf(i){let e,t,n,r,s,o,a,l,f,u,d,m;return t=new Q({props:{name:"pause"}}),a=new Q({props:{name:"pencil"}}),{c(){e=p("button"),D(t.$$.fragment),n=_(),r=p("span"),r.textContent="Pause",s=_(),o=p("button"),D(a.$$.fragment),l=_(),f=p("span"),f.textContent="Edit"},m(g,y){v(g,e,y),N(t,e,null),c(e,n),c(e,r),v(g,s,y),v(g,o,y),N(a,o,null),c(o,l),c(o,f),u=!0,d||(m=[U(e,"click",i[11]),U(o,"click",i[12])],d=!0)},i(g){u||(C(t.$$.fragment,g),C(a.$$.fragment,g),u=!0)},o(g){S(t.$$.fragment,g),S(a.$$.fragment,g),u=!1},d(g){g&&(b(e),b(s),b(o)),A(t),A(a),d=!1,xe(m)}}}function mf(i){let e,t,n,r,s,o,a,l,f,u,d,m,g,y,k,x,M,w,I,T,O,P;return t=new Q({props:{name:"pause"}}),a=new Q({props:{name:"history"}}),m=new Q({props:{name:"refresh-cw"}}),M=new Q({props:{name:"pencil"}}),{c(){e=p("button"),D(t.$$.fragment),n=_(),r=p("span"),r.textContent="Pause",s=_(),o=p("button"),D(a.$$.fragment),l=_(),f=p("span"),f.textContent="Versions",u=_(),d=p("button"),D(m.$$.fragment),g=_(),y=p("span"),y.textContent="Rescan",k=_(),x=p("button"),D(M.$$.fragment),w=_(),I=p("span"),I.textContent="Edit"},m(F,R){v(F,e,R),N(t,e,null),c(e,n),c(e,r),v(F,s,R),v(F,o,R),N(a,o,null),c(o,l),c(o,f),v(F,u,R),v(F,d,R),N(m,d,null),c(d,g),c(d,y),v(F,k,R),v(F,x,R),N(M,x,null),c(x,w),c(x,I),T=!0,O||(P=[U(e,"click",i[7]),U(o,"click",i[8]),U(d,"click",i[9]),U(x,"click",i[10])],O=!0)},i(F){T||(C(t.$$.fragment,F),C(a.$$.fragment,F),C(m.$$.fragment,F),C(M.$$.fragment,F),T=!0)},o(F){S(t.$$.fragment,F),S(a.$$.fragment,F),S(m.$$.fragment,F),S(M.$$.fragment,F),T=!1},d(F){F&&(b(e),b(s),b(o),b(u),b(d),b(k),b(x)),A(t),A(a),A(m),A(M),O=!1,xe(P)}}}function hf(i){let e,t,n,r,s=[mf,gf],o=[];function a(l,f){return l[0]&&!l[2]?0:l[1]&&!l[2]?1:-1}return~(e=a(i,-1))&&(t=o[e]=s[e](i)),{c(){t&&t.c(),n=pt()},m(l,f){~e&&o[e].m(l,f),v(l,n,f),r=!0},p(l,f){let u=e;e=a(l,f),e!==u&&(t&&(Be(),S(o[u],1,1,()=>{o[u]=null}),Ge()),~e?(t=o[e],t||(t=o[e]=s[e](l),t.c()),C(t,1),t.m(n.parentNode,n)):t=null)},i(l){r||(C(t),r=!0)},o(l){S(t),r=!1},d(l){l&&b(n),~e&&o[e].d(l)}}}function yf(i){let e,t,n,r,s,o,a,l,f=i[4].title,u=Wt(f,i,i[3],Al),d=u||uf(i),m=[pf,df,ff],g=[];function y(w,I){return w[0]&&!w[2]?0:w[1]&&!w[2]?1:w[2]&&w[1]?2:-1}~(s=y(i,-1))&&(o=g[s]=m[s](i));let k=i[4].footer,x=Wt(k,i,i[3],Nl),M=x||hf(i);return{c(){e=p("details"),t=p("summary"),d&&d.c(),n=_(),r=p("table"),o&&o.c(),a=_(),M&&M.c(),h(t,"class","svelte-8fgumz"),h(r,"class","svelte-8fgumz"),h(e,"class","svelte-8fgumz")},m(w,I){v(w,e,I),c(e,t),d&&d.m(t,null),c(e,n),c(e,r),~s&&g[s].m(r,null),c(e,a),M&&M.m(e,null),l=!0},p(w,[I]){u?u.p&&(!l||I&8)&&Yt(u,f,w,w[3],l?Qt(f,w[3],I,cf):Jt(w[3]),Al):d&&d.p&&(!l||I&2)&&d.p(w,l?I:-1);let T=s;s=y(w,I),s===T?~s&&g[s].p(w,I):(o&&(Be(),S(g[T],1,1,()=>{g[T]=null}),Ge()),~s?(o=g[s],o?o.p(w,I):(o=g[s]=m[s](w),o.c()),C(o,1),o.m(r,null)):o=null),x?x.p&&(!l||I&8)&&Yt(x,k,w,w[3],l?Qt(k,w[3],I,af):Jt(w[3]),Nl):M&&M.p&&(!l||I&7)&&M.p(w,l?I:-1)},i(w){l||(C(d,w),C(o),C(M,w),l=!0)},o(w){S(d,w),S(o),S(M,w),l=!1},d(w){w&&b(e),d&&d.d(w),~s&&g[s].d(),M&&M.d(w)}}}var Dl=i=>i.deviceID.slice(0,7);function _f(i,e,t){let{$$slots:n={},$$scope:r}=e,{folder:s=void 0}=e,{device:o=void 0}=e,{isThisDevice:a=!1}=e,l=()=>{new $t.Notice("Not implemented yet!")},f=()=>new $t.Notice("not implement yet !"),u=async x=>{new $t.Notice("Not implemented yet!")},d=async x=>{new $t.Notice("Not implemented yet!")},m=async x=>{new $t.Notice("Not implemented yet!")},g=async x=>{new $t.Notice("Not implemented yet!")},y=async x=>{new $t.Notice("Not implemented yet!")},k=async x=>{new $t.Notice("Not implemented yet!")};return i.$$set=x=>{"folder"in x&&t(0,s=x.folder),"device"in x&&t(1,o=x.device),"isThisDevice"in x&&t(2,a=x.isThisDevice),"$$scope"in x&&t(3,r=x.$$scope)},[s,o,a,r,n,l,f,u,d,m,g,y,k]}var us=class extends ge{constructor(e){super(),be(this,e,_f,yf,ye,{folder:0,device:1,isThisDevice:2},lf)}},xn=us;var Un=require("obsidian");function bf(i){Me(i,"svelte-13pw3b3",".footer.svelte-13pw3b3.svelte-13pw3b3{display:flex;justify-content:flex-end;gap:0.5rem;margin:1em 0 0 0}.footer.svelte-13pw3b3 button.svelte-13pw3b3{gap:0.5rem}")}function vf(i){let e,t,n,r=i[0].label+"",s,o,a,l;return e=new Q({props:{name:"folder"}}),{c(){D(e.$$.fragment),t=_(),n=p("span"),s=z(r),o=_(),a=p("span"),a.textContent="Unshared",Ee(a,"flex","1 0 auto"),Ee(a,"text-align","end")},m(f,u){N(e,f,u),v(f,t,u),v(f,n,u),c(n,s),v(f,o,u),v(f,a,u),l=!0},p(f,u){(!l||u&1)&&r!==(r=f[0].label+"")&&re(s,r)},i(f){l||(C(e.$$.fragment,f),l=!0)},o(f){S(e.$$.fragment,f),l=!1},d(f){f&&(b(t),b(n),b(o),b(a)),A(e,f)}}}function wf(i){let e,t,n,r,s,o,a,l,f,u,d,m,g,y,k,x,M,w,I,T,O,P,F;return n=new Q({props:{name:"pause"}}),l=new Q({props:{name:"history"}}),g=new Q({props:{name:"refresh-cw"}}),w=new Q({props:{name:"pencil"}}),{c(){e=p("div"),t=p("button"),D(n.$$.fragment),r=_(),s=p("span"),s.textContent="Pause",o=_(),a=p("button"),D(l.$$.fragment),f=_(),u=p("span"),u.textContent="Versions",d=_(),m=p("button"),D(g.$$.fragment),y=_(),k=p("span"),k.textContent="Rescan",x=_(),M=p("button"),D(w.$$.fragment),I=_(),T=p("span"),T.textContent="Edit",h(t,"class","svelte-13pw3b3"),h(a,"class","svelte-13pw3b3"),h(m,"class","svelte-13pw3b3"),h(M,"class","svelte-13pw3b3"),h(e,"slot","footer"),h(e,"class","footer svelte-13pw3b3")},m(R,ee){v(R,e,ee),c(e,t),N(n,t,null),c(t,r),c(t,s),c(e,o),c(e,a),N(l,a,null),c(a,f),c(a,u),c(e,d),c(e,m),N(g,m,null),c(m,y),c(m,k),c(e,x),c(e,M),N(w,M,null),c(M,I),c(M,T),O=!0,P||(F=[U(t,"click",i[1]),U(a,"click",i[2]),U(m,"click",i[3]),U(M,"click",i[4])],P=!0)},p:Z,i(R){O||(C(n.$$.fragment,R),C(l.$$.fragment,R),C(g.$$.fragment,R),C(w.$$.fragment,R),O=!0)},o(R){S(n.$$.fragment,R),S(l.$$.fragment,R),S(g.$$.fragment,R),S(w.$$.fragment,R),O=!1},d(R){R&&b(e),A(n),A(l),A(g),A(w),P=!1,xe(F)}}}function kf(i){let e,t;return e=new xn({props:{folder:i[0],device:void 0,$$slots:{footer:[wf],title:[vf]},$$scope:{ctx:i}}}),{c(){D(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){let s={};r&1&&(s.folder=n[0]),r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function xf(i,e,t){let{folder:n={id:"folder ID",label:"folder label",path:"folder path",type:"sendreceive",devices:[{deviceID:"device 1",encryptionPassword:"",introducedBy:""},{deviceID:"device 2",encryptionPassword:"",introducedBy:""}],filesystemType:"filesystem type",maxConflicts:0}}=e,r=async l=>{new Un.Notice("Not implemented yet!")},s=async l=>{new Un.Notice("Not implemented yet!")},o=async l=>{new Un.Notice("Not implemented yet!")},a=async l=>{new Un.Notice("Not implemented yet!")};return i.$$set=l=>{"folder"in l&&t(0,n=l.folder)},[n,r,s,o,a]}var fs=class extends ge{constructor(e){super(),be(this,e,xf,kf,ye,{folder:0},bf)}},jl=fs;var ds=require("obsidian");function Cf(i){Me(i,"svelte-13pw3b3",".footer.svelte-13pw3b3.svelte-13pw3b3{display:flex;justify-content:flex-end;gap:0.5rem;margin:1em 0 0 0}.footer.svelte-13pw3b3 button.svelte-13pw3b3{gap:0.5rem}")}function If(i){var g;let e,t,n,r,s=((g=i[0].name)!=null?g:i[0].deviceID)+"",o,a,l,f,u,d,m;return t=new Q({props:{name:"hard-drive"}}),d=new Q({props:{name:"wifi-off"}}),{c(){e=p("div"),D(t.$$.fragment),n=_(),r=p("span"),o=z(s),a=_(),l=p("div"),f=p("span"),f.textContent="Disconnected",u=_(),D(d.$$.fragment),Ee(e,"display","flex"),Ee(e,"gap","0.5em"),Ee(l,"display","flex"),Ee(l,"gap","0.5em"),Ee(l,"flex","1 0 auto"),Ee(l,"justify-content","end")},m(y,k){v(y,e,k),N(t,e,null),c(e,n),c(e,r),c(r,o),v(y,a,k),v(y,l,k),c(l,f),c(l,u),N(d,l,null),m=!0},p(y,k){var x;(!m||k&1)&&s!==(s=((x=y[0].name)!=null?x:y[0].deviceID)+"")&&re(o,s)},i(y){m||(C(t.$$.fragment,y),C(d.$$.fragment,y),m=!0)},o(y){S(t.$$.fragment,y),S(d.$$.fragment,y),m=!1},d(y){y&&(b(e),b(a),b(l)),A(t),A(d)}}}function Mf(i){let e,t,n,r,s,o,a,l,f,u,d,m,g;return n=new Q({props:{name:"pause"}}),l=new Q({props:{name:"pencil"}}),{c(){e=p("div"),t=p("button"),D(n.$$.fragment),r=_(),s=p("span"),s.textContent="Pause",o=_(),a=p("button"),D(l.$$.fragment),f=_(),u=p("span"),u.textContent="Edit",h(t,"class","svelte-13pw3b3"),h(a,"class","svelte-13pw3b3"),h(e,"slot","footer"),h(e,"class","footer svelte-13pw3b3")},m(y,k){v(y,e,k),c(e,t),N(n,t,null),c(t,r),c(t,s),c(e,o),c(e,a),N(l,a,null),c(a,f),c(a,u),d=!0,m||(g=[U(t,"click",i[1]),U(a,"click",i[2])],m=!0)},p:Z,i(y){d||(C(n.$$.fragment,y),C(l.$$.fragment,y),d=!0)},o(y){S(n.$$.fragment,y),S(l.$$.fragment,y),d=!1},d(y){y&&b(e),A(n),A(l),m=!1,xe(g)}}}function Sf(i){let e,t;return e=new xn({props:{device:i[0],folder:void 0,$$slots:{footer:[Mf],title:[If]},$$scope:{ctx:i}}}),{c(){D(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,[r]){let s={};r&1&&(s.device=n[0]),r&9&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function $f(i,e,t){let{device:n={address:["dynamic"],deviceID:"device ID",introducedBy:"introduced by",name:"device name",ignoredFolders:[],paused:!1}}=e,r=async o=>{new ds.Notice("Not implemented yet!")},s=async o=>{new ds.Notice("Not implemented yet!")};return i.$$set=o=>{"device"in o&&t(0,n=o.device)},[n,r,s]}var ps=class extends ge{constructor(e){super(),be(this,e,$f,Sf,ye,{device:0},Cf)}},El=ps;function Tf(i){Me(i,"svelte-15h0slv",`.close-button.svelte-15h0slv{margin-left:auto;cursor:var(--cursor);font-size:24px;line-height:20px;padding:var(--size-2-2);border-radius:var(--radius-s);color:var(--text-muted);&:before {
			font-family: Inter, sans-serif;
			content: "\\D7";
			font-weight: 300;
		};&:hover {
			background-color: var(--background-modifier-hover);
			color: var(--text-normal);
		}}`)}function Fl(i){let e,t,n,r,s,o,a,l,f,u,d,m,g,y;return{c(){e=p("div"),t=p("div"),n=p("div"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-alert-triangle"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',r=_(),s=p("div"),o=z(i[1]),a=_(),l=p("div"),f=_(),u=p("div"),d=p("p"),m=z(i[2]),h(n,"class","callout-icon"),h(s,"class","callout-title-inner"),h(l,"role","button"),h(l,"tabindex","0"),h(l,"aria-roledescription","Dismiss"),h(l,"class","close-button svelte-15h0slv"),h(t,"class","callout-title"),h(u,"class","callout-content"),h(e,"data-callout-metadata",""),h(e,"data-callout-fold",""),h(e,"data-callout","warning"),h(e,"class","callout")},m(k,x){v(k,e,x),c(e,t),c(t,n),c(t,r),c(t,s),c(s,o),c(t,a),c(t,l),c(e,f),c(e,u),c(u,d),c(d,m),g||(y=[U(l,"keypress",i[3]),U(l,"click",i[4])],g=!0)},p(k,x){x&2&&re(o,k[1]),x&4&&re(m,k[2])},d(k){k&&b(e),g=!1,xe(y)}}}function Lf(i){let e,t=!i[0]&&Fl(i);return{c(){t&&t.c(),e=pt()},m(n,r){t&&t.m(n,r),v(n,e,r)},p(n,[r]){n[0]?t&&(t.d(1),t=null):t?t.p(n,r):(t=Fl(n),t.c(),t.m(e.parentNode,e))},i:Z,o:Z,d(n){n&&b(e),t&&t.d(n)}}}function Nf(i,e,t){let{title:n="Warning"}=e,{message:r}=e,{dismiss:s=!1}=e,o=()=>t(0,s=!s),a=()=>t(0,s=!s);return i.$$set=l=>{"title"in l&&t(1,n=l.title),"message"in l&&t(2,r=l.message),"dismiss"in l&&t(0,s=l.dismiss)},[s,n,r,o,a]}var gs=class extends ge{constructor(e){super(),be(this,e,Nf,Lf,ye,{title:1,message:2,dismiss:0},Tf)}},zl=gs;function Af(i){Me(i,"svelte-f2narq",".left.svelte-f2narq.svelte-f2narq{float:left;width:50%}.right.svelte-f2narq.svelte-f2narq{float:right;width:50%}.folder.svelte-f2narq.svelte-f2narq,.mydevice.svelte-f2narq.svelte-f2narq,.remote.svelte-f2narq.svelte-f2narq{width:100%}.controls.svelte-f2narq.svelte-f2narq{display:flex;flex-direction:row;justify-content:flex-end;margin:1em 0}.controls.svelte-f2narq button.svelte-f2narq{gap:0.5em;margin:0 0.5em}")}function Ol(i,e,t){let n=i.slice();return n[16]=e[t],n}function Pl(i,e,t){let n=i.slice();return n[19]=e[t],n}function Rl(i){let e,t;return e=new jl({props:{folder:i[19]}}),{c(){D(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){let s={};r&1&&(s.folder=n[19]),e.$set(s)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Bl(i){let e,t;return e=new El({props:{device:i[16]}}),{c(){D(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){let s={};r&6&&(s.device=n[16]),e.$set(s)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Df(i){let e,t,n,r,s,o,a=i[0].length+"",l,f,u,d,m,g,y,k,x,M,w,I,T,O,P,F,R,ee,Y,W,G,E,H,L,J,$,j,me,ke,he=i[1].filter(i[7]).length+"",fe,q,Se,_e,de,V,X,Ie,ae,ze,Le,Oe,ot,$e,Ve,Pe,Ue,Ne,We,Qe,se,Te;e=new zl({props:{message:"The following configuration is not fully implemented yet. Some data aren't real-time and some controls are not implemented yet. It is mainly to reproduce the Syncthing GUI and then, real-time data and controls will be added."}});let Ye=et(i[0]),ve=[];for(let B=0;B<Ye.length;B+=1)ve[B]=Rl(Pl(i,Ye,B));let lt=B=>S(ve[B],1,1,()=>{ve[B]=null});y=new Q({props:{name:"pause"}}),I=new Q({props:{name:"refresh-cw"}}),R=new Q({props:{name:"plus"}}),J=new xn({props:{isThisDevice:!0,device:i[2]}});let Re=et(i[1].filter(i[8])),we=[];for(let B=0;B<Re.length;B+=1)we[B]=Bl(Ol(i,Re,B));let vt=B=>S(we[B],1,1,()=>{we[B]=null});return X=new Q({props:{name:"pause"}}),Oe=new Q({props:{name:"info"}}),Ue=new Q({props:{name:"plus"}}),{c(){D(e.$$.fragment),t=_(),n=p("div"),r=p("div"),s=p("h2"),o=z("Folders ("),l=z(a),f=z(")"),u=_();for(let B=0;B<ve.length;B+=1)ve[B].c();d=_(),m=p("div"),g=p("button"),D(y.$$.fragment),k=_(),x=p("span"),x.textContent="Pause All",M=_(),w=p("button"),D(I.$$.fragment),T=_(),O=p("span"),O.textContent="Rescan All",P=_(),F=p("button"),D(R.$$.fragment),ee=_(),Y=p("span"),Y.textContent="Add Folder",W=_(),G=p("div"),E=p("div"),H=p("h2"),H.textContent="This Device",L=_(),D(J.$$.fragment),$=_(),j=p("div"),me=p("h2"),ke=z("Remote Devices ("),fe=z(he),q=z(")"),Se=_();for(let B=0;B<we.length;B+=1)we[B].c();_e=_(),de=p("div"),V=p("button"),D(X.$$.fragment),Ie=_(),ae=p("span"),ae.textContent="Pause All",ze=_(),Le=p("button"),D(Oe.$$.fragment),ot=_(),$e=p("span"),$e.textContent="Recent Changes",Ve=_(),Pe=p("button"),D(Ue.$$.fragment),Ne=_(),We=p("span"),We.textContent="Add Remote Device",h(g,"class","svelte-f2narq"),h(w,"class","svelte-f2narq"),h(F,"class","svelte-f2narq"),h(m,"class","controls svelte-f2narq"),h(r,"class","folder svelte-f2narq"),h(n,"class","left svelte-f2narq"),h(E,"class","mydevice svelte-f2narq"),h(V,"class","svelte-f2narq"),h(Le,"class","svelte-f2narq"),h(Pe,"class","svelte-f2narq"),h(de,"class","controls svelte-f2narq"),h(j,"class","remote svelte-f2narq"),h(G,"class","right svelte-f2narq")},m(B,oe){N(e,B,oe),v(B,t,oe),v(B,n,oe),c(n,r),c(r,s),c(s,o),c(s,l),c(s,f),c(r,u);for(let Ae=0;Ae<ve.length;Ae+=1)ve[Ae]&&ve[Ae].m(r,null);c(r,d),c(r,m),c(m,g),N(y,g,null),c(g,k),c(g,x),c(m,M),c(m,w),N(I,w,null),c(w,T),c(w,O),c(m,P),c(m,F),N(R,F,null),c(F,ee),c(F,Y),v(B,W,oe),v(B,G,oe),c(G,E),c(E,H),c(E,L),N(J,E,null),c(G,$),c(G,j),c(j,me),c(me,ke),c(me,fe),c(me,q),c(j,Se);for(let Ae=0;Ae<we.length;Ae+=1)we[Ae]&&we[Ae].m(j,null);c(j,_e),c(j,de),c(de,V),N(X,V,null),c(V,Ie),c(V,ae),c(de,ze),c(de,Le),N(Oe,Le,null),c(Le,ot),c(Le,$e),c(de,Ve),c(de,Pe),N(Ue,Pe,null),c(Pe,Ne),c(Pe,We),Qe=!0,se||(Te=[U(g,"click",i[4]),U(w,"click",i[5]),U(F,"click",i[6]),U(V,"click",i[9]),U(Le,"click",i[10]),U(Pe,"click",i[11])],se=!0)},p(B,[oe]){if((!Qe||oe&1)&&a!==(a=B[0].length+"")&&re(l,a),oe&1){Ye=et(B[0]);let ne;for(ne=0;ne<Ye.length;ne+=1){let qe=Pl(B,Ye,ne);ve[ne]?(ve[ne].p(qe,oe),C(ve[ne],1)):(ve[ne]=Rl(qe),ve[ne].c(),C(ve[ne],1),ve[ne].m(r,d))}for(Be(),ne=Ye.length;ne<ve.length;ne+=1)lt(ne);Ge()}let Ae={};if(oe&4&&(Ae.device=B[2]),J.$set(Ae),(!Qe||oe&6)&&he!==(he=B[1].filter(B[7]).length+"")&&re(fe,he),oe&6){Re=et(B[1].filter(B[8]));let ne;for(ne=0;ne<Re.length;ne+=1){let qe=Ol(B,Re,ne);we[ne]?(we[ne].p(qe,oe),C(we[ne],1)):(we[ne]=Bl(qe),we[ne].c(),C(we[ne],1),we[ne].m(j,_e))}for(Be(),ne=Re.length;ne<we.length;ne+=1)vt(ne);Ge()}},i(B){if(!Qe){C(e.$$.fragment,B);for(let oe=0;oe<Ye.length;oe+=1)C(ve[oe]);C(y.$$.fragment,B),C(I.$$.fragment,B),C(R.$$.fragment,B),C(J.$$.fragment,B);for(let oe=0;oe<Re.length;oe+=1)C(we[oe]);C(X.$$.fragment,B),C(Oe.$$.fragment,B),C(Ue.$$.fragment,B),Qe=!0}},o(B){S(e.$$.fragment,B),ve=ve.filter(Boolean);for(let oe=0;oe<ve.length;oe+=1)S(ve[oe]);S(y.$$.fragment,B),S(I.$$.fragment,B),S(R.$$.fragment,B),S(J.$$.fragment,B),we=we.filter(Boolean);for(let oe=0;oe<we.length;oe+=1)S(we[oe]);S(X.$$.fragment,B),S(Oe.$$.fragment,B),S(Ue.$$.fragment,B),Qe=!1},d(B){B&&(b(t),b(n),b(W),b(G)),A(e,B),xt(ve,B),A(y),A(I),A(R),A(J),xt(we,B),A(X),A(Oe),A(Ue),se=!1,xe(Te)}}}function jf(i,e,t){var n,r,s;let{parent:o}=e;o.titleEl.setText("Syncthing Configuration"),o.titleEl.style.textAlign="center";let a=`${(n=o.plugin.settings.configuration.url)===null||n===void 0?void 0:n.protocol}://${(r=o.plugin.settings.configuration.url)===null||r===void 0?void 0:r.ip_address}:${(s=o.plugin.settings.configuration.url)===null||s===void 0?void 0:s.port}/`;console.log(a);let l=[],f=[],u;it(()=>ut(void 0,void 0,void 0,function*(){t(0,l=yield o.plugin.syncthingController.getFolders()),t(1,f=yield o.plugin.syncthingController.getDevices()),t(2,u=f.first()),console.log("Folders: ",l),console.log("Devices: ",f)}));let d=async I=>{new tn.Notice("Not implemented yet!")},m=async I=>{new tn.Notice("Not implemented yet!")},g=async I=>{new tn.Notice("Not implemented yet!")},y=I=>I!==u,k=I=>I!==u,x=async I=>{new tn.Notice("Not implemented yet!")},M=async I=>{new tn.Notice("Not implemented yet!")},w=async I=>{new tn.Notice("Not implemented yet!")};return i.$$set=I=>{"parent"in I&&t(3,o=I.parent)},[l,f,u,o,d,m,g,y,k,x,M,w]}var ms=class extends ge{constructor(e){super(),be(this,e,jf,Df,ye,{parent:3},Af)}},Gl=ms;var rr=class extends Zl.Modal{constructor(t,n){super(t);this.plugin=n;this.components=[]}async onOpen(){this.modalEl.style.width="100%",this.modalEl.style.height="100%",this.components.push(new Gl({target:this.contentEl,props:{parent:this}}))}onClose(){let{contentEl:t}=this;this.components.forEach(n=>n.$destroy()),t.empty()}};function Ef(i){Me(i,"svelte-13bfvu7",".banner.svelte-13bfvu7.svelte-13bfvu7{display:flex;justify-content:center;align-items:center;margin:0;padding:0}.banner.svelte-13bfvu7 a.svelte-13bfvu7{text-decoration-line:none}.banner.svelte-13bfvu7 img.svelte-13bfvu7{height:2em}.footer.svelte-13bfvu7.svelte-13bfvu7{display:flex;justify-content:space-between;width:100%}.footer.svelte-13bfvu7 button.svelte-13bfvu7{display:flex;flex-direction:row;align-items:flex-start;gap:0.5em;justify-content:space-around}")}function Ff(i){let e;return{c(){e=p("p"),e.innerHTML=`This plugin allows you to sync your vault with Syncthing. It allows you
		to manage the sync process from within Obsidian. You can only manage the
		folder you are in. To use this plugin, you need to have Syncthing
		installed on your device. You can find more information about Syncthing
		here:
		<a href="https://syncthing.net">https://syncthing.net</a>`,h(e,"slot","description")},m(t,n){v(t,e,n)},p:Z,d(t){t&&b(e)}}}function Wl(i){let e,t,n,r;return e=new Je({props:{heading:!0,error:!0,name:"Syncthing is not found",$$slots:{description:[zf]},$$scope:{ctx:i}}}),n=new Je({props:{name:"Retry",description:"If you want to retry connecting, after setting the API key. This might resolve the issue.",$$slots:{control:[Of]},$$scope:{ctx:i}}}),{c(){D(e.$$.fragment),t=_(),D(n.$$.fragment)},m(s,o){N(e,s,o),v(s,t,o),N(n,s,o),r=!0},i(s){r||(C(e.$$.fragment,s),C(n.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(n.$$.fragment,s),r=!1},d(s){s&&b(t),A(e,s),A(n,s)}}}function zf(i){let e,t;return{c(){e=z(`Syncthing is not installed or not found on your device. Please
			install it at the following URL:
			`),t=p("a"),t.textContent="https://syncthing.net/downloads",h(t,"href","https://syncthing.net/downloads"),h(t,"target","_blank")},m(n,r){v(n,e,r),v(n,t,r)},p:Z,d(n){n&&(b(e),b(t))}}}function Of(i){let e;return{c(){e=p("button"),e.textContent="Connect to Syncthing via API.",h(e,"class","mod-cta")},m(t,n){v(t,e,n)},p:Z,d(t){t&&b(e)}}}function Pf(i){let e;return{c(){e=z("Add your Syncthing API key here for the plugin to work.")},m(t,n){v(t,e,n)},d(t){t&&b(e)}}}function Rf(i){let e,t,n,r,s,o,a,l,f,u=[Zf,Gf],d=[];function m(g,y){return g[2]==="password"?0:1}return t=m(i,-1),n=d[t]=u[t](i),o=new Q({props:{name:"eraser"}}),{c(){e=p("button"),n.c(),r=_(),s=p("button"),D(o.$$.fragment)},m(g,y){v(g,e,y),d[t].m(e,null),v(g,r,y),v(g,s,y),N(o,s,null),a=!0,l||(f=[U(e,"click",i[10]),U(s,"click",i[11])],l=!0)},p(g,y){let k=t;t=m(g,y),t!==k&&(Be(),S(d[k],1,1,()=>{d[k]=null}),Ge(),n=d[t],n||(n=d[t]=u[t](g),n.c()),C(n,1),n.m(e,null))},i(g){a||(C(n),C(o.$$.fragment,g),a=!0)},o(g){S(n),S(o.$$.fragment,g),a=!1},d(g){g&&(b(e),b(r),b(s)),d[t].d(),A(o),l=!1,xe(f)}}}function Bf(i){let e,t,n;return{c(){e=p("button"),e.textContent="Get API key"},m(r,s){v(r,e,s),t||(n=U(e,"click",i[5]),t=!0)},p:Z,i:Z,o:Z,d(r){r&&b(e),t=!1,n()}}}function Gf(i){let e,t;return e=new Q({props:{name:"eye-off"}}),{c(){D(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Zf(i){let e,t;return e=new Q({props:{name:"eye"}}),{c(){D(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Wf(i){let e,t,n,r,s,o,a,l,f,u=[Bf,Rf],d=[];function m(g,y){return g[0].plugin.settings.api_key?1:0}return r=m(i,-1),s=d[r]=u[r](i),{c(){e=p("input"),n=_(),s.c(),o=pt(),h(e,"type",i[2]),h(e,"name","apikey"),h(e,"id","apikey"),e.value=t=i[0].plugin.settings.api_key,h(e,"placeholder","Enter your API key here...")},m(g,y){v(g,e,y),v(g,n,y),d[r].m(g,y),v(g,o,y),a=!0,l||(f=U(e,"change",i[9]),l=!0)},p(g,y){(!a||y&4)&&h(e,"type",g[2]),(!a||y&1&&t!==(t=g[0].plugin.settings.api_key)&&e.value!==t)&&(e.value=t);let k=r;r=m(g,y),r===k?d[r].p(g,y):(Be(),S(d[k],1,1,()=>{d[k]=null}),Ge(),s=d[r],s?s.p(g,y):(s=d[r]=u[r](g),s.c()),C(s,1),s.m(o.parentNode,o))},i(g){a||(C(s),a=!0)},o(g){S(s),a=!1},d(g){g&&(b(e),b(n),b(o)),d[r].d(g),l=!1,f()}}}function Qf(i){let e,t,n;return{c(){e=p("button"),e.textContent="Check API Status"},m(r,s){v(r,e,s),t||(n=U(e,"click",i[12]),t=!0)},p:Z,d(r){r&&b(e),t=!1,n()}}}function Yf(i){let e,t;return e=new Je({props:{name:"Syncthing CLI Status",$$slots:{control:[Jf]},$$scope:{ctx:i}}}),{c(){D(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){let s={};r&268435457&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Jf(i){let e,t,n;return{c(){e=p("button"),e.textContent="Check CLI Status"},m(r,s){v(r,e,s),t||(n=U(e,"click",i[13]),t=!0)},p:Z,d(r){r&&b(e),t=!1,n()}}}function Uf(i){let e,t;return e=new Je({props:{name:"Warning",description:"The following settings are in beta. All plugin's features may not currently be available on mobile.",error:!0}}),{c(){D(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Hf(i){let e,t,n,r,s,o,a,l,f,u,d,m,g,y,k,x;return{c(){var M,w,I,T;e=p("div"),t=p("div"),n=p("select"),r=p("option"),r.textContent="http://",s=p("option"),s.textContent="https://",a=_(),l=p("input"),u=_(),d=p("input"),g=_(),y=p("input"),r.__value="http",jn(r,r.__value),s.__value="https",jn(s,s.__value),Ee(n,"border-radius","var(--input-radius) 0 0 var(--input-radius)"),h(l,"type","text"),h(l,"placeholder","Enter your Syncthing address here..."),l.value=f=(w=(M=i[0].plugin.settings.configuration.url)==null?void 0:M.ip_address)!=null?w:"",Ee(l,"border-radius","0"),h(d,"type","number"),h(d,"placeholder","Enter the port..."),d.value=m=(T=(I=i[0].plugin.settings.configuration.url)==null?void 0:I.port)!=null?T:"",Ee(d,"border-radius","0 var(--input-radius) var(--input-radius) 0"),Ee(t,"display","flex"),Ee(t,"align-items","center"),Ee(y,"margin","2% 0"),y.value=i[4],y.disabled=!0,h(e,"slot","control"),Ee(e,"display","flex"),Ee(e,"flex-direction","column"),Ee(e,"align-items","flex-start"),Ee(e,"justify-content","flex-end")},m(M,w){var I,T;v(M,e,w),c(e,t),c(t,n),c(n,r),c(n,s),Sr(n,(T=(I=i[0].plugin.settings.configuration.url)==null?void 0:I.protocol)!=null?T:""),c(t,a),c(t,l),c(t,u),c(t,d),c(e,g),c(e,y),k||(x=[U(n,"change",i[14]),U(l,"change",i[15]),U(d,"change",i[16])],k=!0)},p(M,w){var I,T,O,P,F,R,ee,Y;w&1&&o!==(o=(T=(I=M[0].plugin.settings.configuration.url)==null?void 0:I.protocol)!=null?T:"")&&Sr(n,(P=(O=M[0].plugin.settings.configuration.url)==null?void 0:O.protocol)!=null?P:""),w&1&&f!==(f=(R=(F=M[0].plugin.settings.configuration.url)==null?void 0:F.ip_address)!=null?R:"")&&l.value!==f&&(l.value=f),w&1&&m!==(m=(Y=(ee=M[0].plugin.settings.configuration.url)==null?void 0:ee.port)!=null?Y:"")&&d.value!==m&&(d.value=m),w&16&&y.value!==M[4]&&(y.value=M[4])},d(M){M&&b(e),k=!1,xe(x)}}}function qf(i){let e,t;return e=new Q({props:{name:"eye-off"}}),{c(){D(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Vf(i){let e,t;return e=new Q({props:{name:"eye"}}),{c(){D(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Xf(i){let e,t,n,r,s,o,a,l,f,u,d,m,g,y=[Vf,qf],k=[];function x(M,w){return M[3]==="password"?0:1}return f=x(i,-1),u=k[f]=y[f](i),{c(){var M;e=p("input"),n=_(),r=p("input"),a=_(),l=p("button"),u.c(),h(e,"type","text"),h(e,"placeholder","Enter your GUI username..."),h(e,"id","gui-username"),e.required=t=Fe.Platform.isMobileApp,h(r,"type",i[3]),h(r,"placeholder","Enter your GUI password..."),h(r,"id","gui-password"),r.value=s=(M=i[0].plugin.settings.gui_password)!=null?M:"",r.required=o=Fe.Platform.isMobileApp},m(M,w){v(M,e,w),jn(e,i[0].plugin.settings.gui_username),v(M,n,w),v(M,r,w),v(M,a,w),v(M,l,w),k[f].m(l,null),d=!0,m||(g=[U(e,"input",i[17]),U(e,"change",i[18]),U(r,"change",i[19]),U(l,"click",i[20])],m=!0)},p(M,w){var T;w&1&&e.value!==M[0].plugin.settings.gui_username&&jn(e,M[0].plugin.settings.gui_username),(!d||w&8)&&h(r,"type",M[3]),(!d||w&1&&s!==(s=(T=M[0].plugin.settings.gui_password)!=null?T:"")&&r.value!==s)&&(r.value=s);let I=f;f=x(M,w),f!==I&&(Be(),S(k[I],1,1,()=>{k[I]=null}),Ge(),u=k[f],u||(u=k[f]=y[f](M),u.c()),C(u,1),u.m(l,null))},i(M){d||(C(u),d=!0)},o(M){S(u),d=!1},d(M){M&&(b(e),b(n),b(r),b(a),b(l)),k[f].d(),m=!1,xe(g)}}}function Kf(i){let e,t,n,r,s;return t=new Q({props:{name:"link"}}),{c(){e=p("button"),D(t.$$.fragment),h(e,"slot","control"),h(e,"class","mod-cta")},m(o,a){v(o,e,a),N(t,e,null),n=!0,r||(s=U(e,"click",i[21]),r=!0)},p:Z,i(o){n||(C(t.$$.fragment,o),n=!0)},o(o){S(t.$$.fragment,o),n=!1},d(o){o&&b(e),A(t),r=!1,s()}}}function ed(i){let e,t,n,r,s;return t=new Q({props:{name:"cog"}}),{c(){e=p("button"),D(t.$$.fragment),h(e,"slot","control")},m(o,a){v(o,e,a),N(t,e,null),n=!0,r||(s=U(e,"click",i[22]),r=!0)},p:Z,i(o){n||(C(t.$$.fragment,o),n=!0)},o(o){S(t.$$.fragment,o),n=!1},d(o){o&&b(e),A(t),r=!1,s()}}}function td(i){let e,t,n,r;return e=new Je({props:{name:"Plugin's Dev Mode",heading:!0}}),n=new Je({props:{name:"Enable Plugin's Developer Mode",description:"For the moment, the developer mode contains a Syncthing conflicts generator. It allows to test the plugin's conflict resolution system.",$$slots:{control:[id],description:[nd]},$$scope:{ctx:i}}}),{c(){D(e.$$.fragment),t=_(),D(n.$$.fragment)},m(s,o){N(e,s,o),v(s,t,o),N(n,s,o),r=!0},p(s,o){let a={};o&268435457&&(a.$$scope={dirty:o,ctx:s}),n.$set(a)},i(s){r||(C(e.$$.fragment,s),C(n.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(n.$$.fragment,s),r=!1},d(s){s&&b(t),A(e,s),A(n,s)}}}function nd(i){let e,t,n;return{c(){e=z(`For the moment, the developer mode contains a Syncthing conflicts
			generator.
			`),t=p("br"),n=z(`
			It allows to test the plugin's conflict resolution system.`)},m(r,s){v(r,e,s),v(r,t,s),v(r,n,s)},p:Z,d(r){r&&(b(e),b(t),b(n))}}}function id(i){let e,t;return e=new Ll({props:{callback:i[23],slot:"control"}}),{c(){D(e.$$.fragment)},m(n,r){N(e,n,r),t=!0},p(n,r){let s={};r&1&&(s.callback=n[23]),e.$set(s)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function rd(i){let e,t,n,r;return e=new Je({props:{name:"Open Mobile app",heading:!0}}),n=new Je({props:{name:"Open Syncthing mobile app",description:"Open the Syncthing mobile app, if not it opens the Google Play Store page.",$$slots:{control:[sd]},$$scope:{ctx:i}}}),{c(){D(e.$$.fragment),t=_(),D(n.$$.fragment)},m(s,o){N(e,s,o),v(s,t,o),N(n,s,o),r=!0},p(s,o){let a={};o&268435457&&(a.$$scope={dirty:o,ctx:s}),n.$set(a)},i(s){r||(C(e.$$.fragment,s),C(n.$$.fragment,s),r=!0)},o(s){S(e.$$.fragment,s),S(n.$$.fragment,s),r=!1},d(s){s&&b(t),A(e,s),A(n,s)}}}function sd(i){let e,t,n;return{c(){e=p("button"),e.textContent="Open Syncthing on Mobile."},m(r,s){v(r,e,s),t||(n=U(e,"click",i[24]),t=!0)},p:Z,d(r){r&&b(e),t=!1,n()}}}function od(i){let e,t,n,r,s,o,a,l,f,u,d,m,g,y,k;return n=new Q({props:{name:"heart"}}),a=new Q({props:{name:"github"}}),d=new Q({props:{name:"bug"}}),{c(){e=p("div"),t=p("button"),D(n.$$.fragment),r=z(`
			Sponsor`),s=_(),o=p("button"),D(a.$$.fragment),l=z(`
			GitHub repo`),f=_(),u=p("button"),D(d.$$.fragment),m=z(`
			Report a bug`),h(t,"class","svelte-13bfvu7"),h(o,"class","svelte-13bfvu7"),h(u,"class","svelte-13bfvu7"),h(e,"slot","control"),h(e,"class","footer svelte-13bfvu7")},m(x,M){v(x,e,M),c(e,t),N(n,t,null),c(t,r),c(e,s),c(e,o),N(a,o,null),c(o,l),c(e,f),c(e,u),N(d,u,null),c(u,m),g=!0,y||(k=[U(t,"click",i[25]),U(o,"click",i[26]),U(u,"click",i[27])],y=!0)},p:Z,i(x){g||(C(n.$$.fragment,x),C(a.$$.fragment,x),C(d.$$.fragment,x),g=!0)},o(x){S(n.$$.fragment,x),S(a.$$.fragment,x),S(d.$$.fragment,x),g=!1},d(x){x&&b(e),A(n),A(a),A(d),y=!1,xe(k)}}}function ld(i){let e,t,n,r,s,o,a,l,f,u,d,m,g,y,k,x,M,w,I,T,O,P,F,R,ee,Y,W;n=new Je({props:{name:"Syncthing Integration for Obsidian",heading:!0,$$slots:{description:[Ff]},$$scope:{ctx:i}}});let G=!i[1]&&Wl(i);o=new Je({props:{name:"Syncthing API Key",heading:!0,$$slots:{control:[Wf],description:[Pf]},$$scope:{ctx:i}}}),l=new Je({props:{name:"Syncthing API Status",$$slots:{control:[Qf]},$$scope:{ctx:i}}});let E=Fe.Platform.isDesktopApp&&Yf(i),H=Fe.Platform.isMobileApp&&Uf(i);m=new Je({props:{name:"Syncthing base URL",heading:!0}}),y=new Je({props:{name:"Set the Syncthing base URL",description:"Please set your Syncthing base URL here. This address will be used to open the Syncthing GUI in your browser and to make API requests.",$$slots:{control:[Hf]},$$scope:{ctx:i}}}),x=new Je({props:{name:"Set GUI Credentials",description:"Please set your Syncthing GUI credentials here. These credentials will be used to open the Syncthing GUI in your browser.",$$slots:{control:[Xf]},$$scope:{ctx:i}}}),w=new Je({props:{name:"Open Syncthing GUI",description:"Open the Syncthing GUI in your browser.",$$slots:{control:[Kf]},$$scope:{ctx:i}}}),T=new Je({props:{name:"Syncthing Configuration",heading:!0}}),P=new Je({props:{name:"In construction",description:"This part is in construction.",$$slots:{control:[ed]},$$scope:{ctx:i}}});let L=Fe.Platform.isDesktopApp&&td(i),J=Fe.Platform.isMobileApp&&rd(i);return Y=new Je({props:{heading:!0,$$slots:{control:[od]},$$scope:{ctx:i}}}),{c(){e=p("p"),e.innerHTML=`<a href="https://github.com/LBF38/obsidian-syncthing-integration" class="svelte-13bfvu7"><img src="${xl}" alt="Syncthing&#39;s logo" class="svelte-13bfvu7"/> <img src="${kl}" alt="Obsidian&#39;s logo" class="svelte-13bfvu7"/></a>`,t=_(),D(n.$$.fragment),r=_(),G&&G.c(),s=_(),D(o.$$.fragment),a=_(),D(l.$$.fragment),f=_(),E&&E.c(),u=_(),H&&H.c(),d=_(),D(m.$$.fragment),g=_(),D(y.$$.fragment),k=_(),D(x.$$.fragment),M=_(),D(w.$$.fragment),I=_(),D(T.$$.fragment),O=_(),D(P.$$.fragment),F=_(),L&&L.c(),R=_(),J&&J.c(),ee=_(),D(Y.$$.fragment),h(e,"class","banner svelte-13bfvu7")},m($,j){v($,e,j),v($,t,j),N(n,$,j),v($,r,j),G&&G.m($,j),v($,s,j),N(o,$,j),v($,a,j),N(l,$,j),v($,f,j),E&&E.m($,j),v($,u,j),H&&H.m($,j),v($,d,j),N(m,$,j),v($,g,j),N(y,$,j),v($,k,j),N(x,$,j),v($,M,j),N(w,$,j),v($,I,j),N(T,$,j),v($,O,j),N(P,$,j),v($,F,j),L&&L.m($,j),v($,R,j),J&&J.m($,j),v($,ee,j),N(Y,$,j),W=!0},p($,[j]){let me={};j&268435456&&(me.$$scope={dirty:j,ctx:$}),n.$set(me),$[1]?G&&(Be(),S(G,1,1,()=>{G=null}),Ge()):G?j&2&&C(G,1):(G=Wl($),G.c(),C(G,1),G.m(s.parentNode,s));let ke={};j&268435461&&(ke.$$scope={dirty:j,ctx:$}),o.$set(ke);let he={};j&268435457&&(he.$$scope={dirty:j,ctx:$}),l.$set(he),Fe.Platform.isDesktopApp&&E.p($,j);let fe={};j&268435473&&(fe.$$scope={dirty:j,ctx:$}),y.$set(fe);let q={};j&268435465&&(q.$$scope={dirty:j,ctx:$}),x.$set(q);let Se={};j&268435473&&(Se.$$scope={dirty:j,ctx:$}),w.$set(Se);let _e={};j&268435457&&(_e.$$scope={dirty:j,ctx:$}),P.$set(_e),Fe.Platform.isDesktopApp&&L.p($,j),Fe.Platform.isMobileApp&&J.p($,j);let de={};j&268435456&&(de.$$scope={dirty:j,ctx:$}),Y.$set(de)},i($){W||(C(n.$$.fragment,$),C(G),C(o.$$.fragment,$),C(l.$$.fragment,$),C(E),C(H),C(m.$$.fragment,$),C(y.$$.fragment,$),C(x.$$.fragment,$),C(w.$$.fragment,$),C(T.$$.fragment,$),C(P.$$.fragment,$),C(L),C(J),C(Y.$$.fragment,$),W=!0)},o($){S(n.$$.fragment,$),S(G),S(o.$$.fragment,$),S(l.$$.fragment,$),S(E),S(H),S(m.$$.fragment,$),S(y.$$.fragment,$),S(x.$$.fragment,$),S(w.$$.fragment,$),S(T.$$.fragment,$),S(P.$$.fragment,$),S(L),S(J),S(Y.$$.fragment,$),W=!1},d($){$&&(b(e),b(t),b(r),b(s),b(a),b(f),b(u),b(d),b(g),b(k),b(M),b(I),b(O),b(F),b(R),b(ee)),A(n,$),G&&G.d($),A(o,$),A(l,$),E&&E.d($),H&&H.d($),A(m,$),A(y,$),A(x,$),A(w,$),A(T,$),A(P,$),L&&L.d($),J&&J.d($),A(Y,$)}}}function ad(i,e,t){var n,r,s;let{parent:o}=e,a=!0,l="password",f="password",u="";it(()=>ut(void 0,void 0,void 0,function*(){t(1,a=yield o.syncthingController.hasSyncthing())}));function d(){return ut(this,void 0,void 0,function*(){o.syncthingController.getAPIKey().then(L=>{if(L instanceof pe){new Fe.Notice(L.message);return}t(0,o.plugin.settings.api_key=L,o),o.plugin.saveSettings()})})}let m=async L=>{t(0,o.plugin.settings.api_key=L.currentTarget.value,o),await o.plugin.saveSettings()},g=()=>{t(2,l=l==="password"?"text":"password")},y=async()=>{t(0,o.plugin.settings.api_key="",o),await o.plugin.saveSettings()},k=async()=>{o.syncthingController.getAPIStatus().then(L=>{new Fe.Notice(`Syncthing Ping : ${L}`)}).catch(L=>{console.log("settings tab error: ",L),new Fe.Notice(L.message)})},x=async()=>{o.syncthingController.getCLIStatus().then(L=>{new Fe.Notice(`Syncthing Ping : ${L}`)}).catch(L=>{new Fe.Notice(L.message)})},M=async L=>{console.log("select change: ",L,L.currentTarget.value),o.plugin.settings.configuration.url||t(0,o.plugin.settings.configuration.url={protocol:"http",ip_address:"localhost",port:8384},o),(L.currentTarget.value==="http"||L.currentTarget.value==="https")&&t(0,o.plugin.settings.configuration.url.protocol=L.currentTarget.value,o),await o.plugin.saveSettings()},w=async L=>{console.log("ip address change: ",L,L.currentTarget.value);let J=L.currentTarget.value;o.plugin.settings.configuration.url||t(0,o.plugin.settings.configuration.url={protocol:"http",ip_address:"localhost",port:8384},o),t(0,o.plugin.settings.configuration.url.ip_address=J===""||!J?"localhost":J,o),await o.plugin.saveSettings()},I=async L=>{console.log("port change: ",L,L.currentTarget.value);let J=L.currentTarget.value;o.plugin.settings.configuration.url||t(0,o.plugin.settings.configuration.url={protocol:"http",ip_address:"localhost",port:8384},o),t(0,o.plugin.settings.configuration.url.port=isNaN(parseInt(J))||!J?8384:parseInt(J),o),await o.plugin.saveSettings()};function T(){o.plugin.settings.gui_username=this.value,t(0,o)}let O=async L=>{t(0,o.plugin.settings.gui_username=L.currentTarget.value,o),await o.plugin.saveSettings()},P=async L=>{t(0,o.plugin.settings.gui_password=L.currentTarget.value,o),await o.plugin.saveSettings()},F=()=>{t(3,f=f==="password"?"text":"password")},R=async()=>{var J,$,j;if((!o.plugin.settings.gui_username||!o.plugin.settings.gui_password)&&Fe.Platform.isMobileApp){new Fe.Notice("Please set your GUI credentials first. There are needed on mobile app.");return}let L;o.plugin.settings.gui_username&&o.plugin.settings.gui_password?L=`${(J=o.plugin.settings.configuration.url)==null?void 0:J.protocol}://${o.plugin.settings.gui_username}:${o.plugin.settings.gui_password}@${($=o.plugin.settings.configuration.url)==null?void 0:$.ip_address}:${(j=o.plugin.settings.configuration.url)==null?void 0:j.port}`:L=u,open(L)},ee=async L=>{new Fe.Notice("This part is in construction."),new rr(o.app,o.plugin).open()},Y=async L=>{t(0,o.plugin.settings.devMode=L,o),await o.plugin.saveSettings(),o.plugin.onunload(),o.plugin.onload()},W=()=>{if(!Fe.Platform.isAndroidApp){new Fe.Notice("The feature is not implemented for your platform. Please open the Syncthing app for your platform. You can create an issue on GitHub if you want to request this feature.",5e3);return}o.plugin.syncthingFromAndroid.openSyncthing()},G=()=>{open("https://github.com/sponsors/LBF38")},E=()=>{open("https://github.com/LBF38/obsidian-syncthing-integration")},H=()=>{open("https://github.com/LBF38/obsidian-syncthing-integration/issues/new/choose")};return i.$$set=L=>{"parent"in L&&t(0,o=L.parent)},i.$$.update=()=>{i.$$.dirty&449&&t(4,u=`${t(6,n=o.plugin.settings.configuration.url)===null||n===void 0?void 0:n.protocol}://${t(7,r=o.plugin.settings.configuration.url)===null||r===void 0?void 0:r.ip_address}:${t(8,s=o.plugin.settings.configuration.url)===null||s===void 0?void 0:s.port}`)},[o,a,l,f,u,d,n,r,s,m,g,y,k,x,M,w,I,T,O,P,F,R,ee,Y,W,G,E,H]}var hs=class extends ge{constructor(e){super(),be(this,e,ad,ld,ye,{parent:0},Ef)}},Ql=hs;var sr=class extends Ft.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t,this.syncthingController=t.syncthingController}async display(){let{containerEl:e}=this;e.empty(),new Ql({target:e,props:{parent:this}})}syncthingConfiguration(e){new Ft.Setting(e).setName("Syncthing Configuration").setHeading().setDesc("This section will show the configuration of the Syncthing instance for the vault."),new Ft.Setting(e).setName("This part is not implemented yet.")}async configurationSetting(e){let t=new Ft.Setting(e).setName("Get Syncthing Configuration").setDesc("This button will get the configuration of the Syncthing instance for the vault.");t.addButton(n=>{n.setIcon("sync").setCta().onClick(async()=>{let r=await this.syncthingController.getConfiguration();if(r instanceof pe){t.setName("Error").setDesc("Error getting configuration. Please try again later."),new Ft.Notice("Error getting configuration. Please try again later.");return}this.plugin.settings.configuration=r})})}async initConfigTable(e,t){let n=e.createEl("table");n.appendChild(e.createEl("tbody"));let r=n.createEl("thead").createEl("tr");return r.createEl("th",{text:"Device ID"}),r.createEl("th",{text:"Device Name"}),r.createEl("th",{text:"Device Address"}),t.devices.forEach(s=>{this.addConfigRowToTable(n,s)}),n}addConfigRowToTable(e,t){let n=e.appendChild(e.createEl("tr"));n.appendChild(e.createEl("td",{text:t.deviceID.slice(0,8)})),n.appendChild(e.createEl("td",{text:t.name})),n.appendChild(e.createEl("td",{text:t.address.join(", ")}))}};var cd={configuration:{url:{protocol:"http",ip_address:"localhost",port:8384}},devMode:!1},Hn=class Hn extends zt.Plugin{constructor(){super(...arguments);this.pluginsElements=[];this.syncthingFromCLI=new xi;this.syncthingFromREST=new Ci(this);this.syncthingFromAndroid=new _i;this.syncthingController=new ti(this.syncthingFromCLI,this.syncthingFromREST,this.syncthingFromAndroid,this);this.devModeController=new fn(this)}async onload(){Hn.loadCount++,await this.loadSettings(),(0,zt.addIcon)("syncthing",Cl),zt.Platform.isMobileApp||(this.statusBar=new yi(this.addStatusBarItem(),this),this.statusBar.onload(),this.pluginsElements.push(this.statusBar.status_bar));let t=new sr(this.app,this);Hn.loadCount===1&&this.addSettingTab(t);let n=this.addRibbonIcon("syncthing","Open Syncthing conflict manager modal",()=>{new ir(this.app,this.syncthingController).open()});if(this.settings.devMode){new zt.Notice("Dev mode is enabled.");let r=this.addRibbonIcon("chevron-right-square","Generate Syncthing conflicts",async()=>{new Tn(this.app,new fn(this)).open()});this.addCommand({id:"generate-syncthing-conflicts",name:"Generate Syncthing conflicts",icon:"chevron-right-square",callback:async()=>{new Tn(this.app,new fn(this)).open()}}),this.pluginsElements.push(r)}this.pluginsElements.push(n)}onunload(){var t;(t=this.statusBar)==null||t.onunload(),this.pluginsElements.forEach(n=>n.remove())}async loadSettings(){this.settings=Object.assign({},cd,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};Hn.loadCount=0;var or=Hn;
